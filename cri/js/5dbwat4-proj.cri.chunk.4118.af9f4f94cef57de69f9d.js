"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4118],{4118:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var i=t(7875),l=t(641),n=t(7972),u=t(4849),o=t(45);const r={setup(e){const a=(0,i.RC)((()=>t.e(6889).then(t.bind(t,6889)))),r=(0,n.useRouter)(),s=(0,n.useRoute)(),h=[{title:"Title",key:"title"},{title:"Author",key:"author",render:e=>e.author.includes("#$#")?(0,i.h)(a,{tip:e.author.split("#$#")[1],content:e.author.split("#$#")[0]}):(0,i.h)("P",{},e.author)},{title:"View",render:e=>(console.log(e),(0,i.h)(u.Z,{strong:!0,tertiary:!0,size:"small",onClick:()=>{r.push("/view/"+e.ID)}},{default:()=>"View"}))}],p=(0,l.iH)({pageSize:10,page:parseInt(s.params.page)||1,showSizePicker:!0,pageSizes:[5,10,20,30],itemCount:0}),d=(0,l.iH)(!0),g=(0,l.iH)([]),c=70*window.innerHeight%NaN;return(0,i.bv)((async()=>{(await t.e(2707).then(t.bind(t,5754))).API("listArch").then((e=>{g.value=e})),(await t.e(2707).then(t.bind(t,5754))).API("count").then((e=>{p.value.itemCount=e.data})),d.value=!1})),(e,a)=>((0,i.wg)(),(0,i.j4)((0,l.SU)(o.Z),{ref:"table",columns:h,data:g.value,pagination:p.value,bordered:!1,loading:d.value,"max-height":c,"scroll-x":900,"virtual-scroll":"",remote:"","on-update:page":e=>{(async e=>{p.value.page=e,d.value=!0,(await t.e(2707).then(t.bind(t,5754))).API("listArch",{limit:p.value.pageSize,offset:(p.value.page-1)*p.value.pageSize}).then((e=>{g.value=e,d.value=!1}))})(e),(0,l.SU)(r).push("/arch/page/"+e)}},null,8,["data","pagination","loading","on-update:page"]))}}}}]);