{"version":3,"file":"DataTable-6b415fd4.js","sources":["../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/_internal/icons/ArrowDown.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/_internal/icons/Filter.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/styles/_common.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/ellipsis/src/PerformantEllipsis.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/HeaderButton/RenderSorter.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/interface.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/HeaderButton/SortButton.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/HeaderButton/RenderFilter.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/utils.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/HeaderButton/FilterMenu.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/HeaderButton/FilterButton.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/HeaderButton/ResizeButton.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/TableParts/SelectionMenu.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/TableParts/Header.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/TableParts/Cell.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/TableParts/ExpandTrigger.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/TableParts/BodyCheckbox.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/TableParts/BodyRadio.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/TableParts/Body.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/MainTable.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/use-check.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/use-sorter.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/use-table-data.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/use-scroll.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/use-resizable.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/use-group-header.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/use-expand.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/data-table/src/DataTable.mjs"],"sourcesContent":["import { h, defineComponent } from 'vue';\nexport default defineComponent({\n  name: 'ArrowDown',\n  render() {\n    return h(\"svg\", {\n      viewBox: \"0 0 28 28\",\n      version: \"1.1\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, h(\"g\", {\n      stroke: \"none\",\n      \"stroke-width\": \"1\",\n      \"fill-rule\": \"evenodd\"\n    }, h(\"g\", {\n      \"fill-rule\": \"nonzero\"\n    }, h(\"path\", {\n      d: \"M23.7916,15.2664 C24.0788,14.9679 24.0696,14.4931 23.7711,14.206 C23.4726,13.9188 22.9978,13.928 22.7106,14.2265 L14.7511,22.5007 L14.7511,3.74792 C14.7511,3.33371 14.4153,2.99792 14.0011,2.99792 C13.5869,2.99792 13.2511,3.33371 13.2511,3.74793 L13.2511,22.4998 L5.29259,14.2265 C5.00543,13.928 4.53064,13.9188 4.23213,14.206 C3.93361,14.4931 3.9244,14.9679 4.21157,15.2664 L13.2809,24.6944 C13.6743,25.1034 14.3289,25.1034 14.7223,24.6944 L23.7916,15.2664 Z\"\n    }))));\n  }\n});","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n  name: 'Filter',\n  render() {\n    return h(\"svg\", {\n      viewBox: \"0 0 28 28\",\n      version: \"1.1\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, h(\"g\", {\n      stroke: \"none\",\n      \"stroke-width\": \"1\",\n      \"fill-rule\": \"evenodd\"\n    }, h(\"g\", {\n      \"fill-rule\": \"nonzero\"\n    }, h(\"path\", {\n      d: \"M17,19 C17.5522847,19 18,19.4477153 18,20 C18,20.5522847 17.5522847,21 17,21 L11,21 C10.4477153,21 10,20.5522847 10,20 C10,19.4477153 10.4477153,19 11,19 L17,19 Z M21,13 C21.5522847,13 22,13.4477153 22,14 C22,14.5522847 21.5522847,15 21,15 L7,15 C6.44771525,15 6,14.5522847 6,14 C6,13.4477153 6.44771525,13 7,13 L21,13 Z M24,7 C24.5522847,7 25,7.44771525 25,8 C25,8.55228475 24.5522847,9 24,9 L4,9 C3.44771525,9 3,8.55228475 3,8 C3,7.44771525 3.44771525,7 4,7 L24,7 Z\"\n    }))));\n  }\n});","export default {\n  thPaddingSmall: '8px',\n  thPaddingMedium: '12px',\n  thPaddingLarge: '12px',\n  tdPaddingSmall: '8px',\n  tdPaddingMedium: '12px',\n  tdPaddingLarge: '12px',\n  sorterSize: '15px',\n  resizableContainerSize: '8px',\n  resizableSize: '2px',\n  filterSize: '15px',\n  paginationMargin: '12px 0 0 0',\n  emptyPadding: '48px 0',\n  actionPadding: '8px 12px',\n  actionButtonMargin: '0 8px 0 0'\n};","import { composite } from 'seemly';\nimport commonVariables from \"./_common.mjs\";\nimport { ellipsisLight } from \"../../ellipsis/styles/index.mjs\";\nimport { buttonLight } from \"../../button/styles/index.mjs\";\nimport { checkboxLight } from \"../../checkbox/styles/index.mjs\";\nimport { radioLight } from \"../../radio/styles/index.mjs\";\nimport { paginationLight } from \"../../pagination/styles/index.mjs\";\nimport { scrollbarLight } from \"../../_internal/scrollbar/styles/index.mjs\";\nimport { popoverLight } from \"../../popover/styles/index.mjs\";\nimport { emptyLight } from \"../../empty/styles/index.mjs\";\nimport { dropdownLight } from \"../../dropdown/styles/index.mjs\";\nimport { commonLight } from \"../../_styles/common/index.mjs\";\nimport { createTheme } from \"../../_mixins/index.mjs\";\nexport const self = vars => {\n  const {\n    cardColor,\n    modalColor,\n    popoverColor,\n    textColor2,\n    textColor1,\n    tableHeaderColor,\n    tableColorHover,\n    iconColor,\n    primaryColor,\n    fontWeightStrong,\n    borderRadius,\n    lineHeight,\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    dividerColor,\n    heightSmall,\n    opacityDisabled,\n    tableColorStriped\n  } = vars;\n  return Object.assign(Object.assign({}, commonVariables), {\n    actionDividerColor: dividerColor,\n    lineHeight,\n    borderRadius,\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    borderColor: composite(cardColor, dividerColor),\n    tdColorHover: composite(cardColor, tableColorHover),\n    tdColorStriped: composite(cardColor, tableColorStriped),\n    thColor: composite(cardColor, tableHeaderColor),\n    thColorHover: composite(composite(cardColor, tableHeaderColor), tableColorHover),\n    tdColor: cardColor,\n    tdTextColor: textColor2,\n    thTextColor: textColor1,\n    thFontWeight: fontWeightStrong,\n    thButtonColorHover: tableColorHover,\n    thIconColor: iconColor,\n    thIconColorActive: primaryColor,\n    // modal\n    borderColorModal: composite(modalColor, dividerColor),\n    tdColorHoverModal: composite(modalColor, tableColorHover),\n    tdColorStripedModal: composite(modalColor, tableColorStriped),\n    thColorModal: composite(modalColor, tableHeaderColor),\n    thColorHoverModal: composite(composite(modalColor, tableHeaderColor), tableColorHover),\n    tdColorModal: modalColor,\n    // popover\n    borderColorPopover: composite(popoverColor, dividerColor),\n    tdColorHoverPopover: composite(popoverColor, tableColorHover),\n    tdColorStripedPopover: composite(popoverColor, tableColorStriped),\n    thColorPopover: composite(popoverColor, tableHeaderColor),\n    thColorHoverPopover: composite(composite(popoverColor, tableHeaderColor), tableColorHover),\n    tdColorPopover: popoverColor,\n    boxShadowBefore: 'inset -12px 0 8px -12px rgba(0, 0, 0, .18)',\n    boxShadowAfter: 'inset 12px 0 8px -12px rgba(0, 0, 0, .18)',\n    // loading\n    loadingColor: primaryColor,\n    loadingSize: heightSmall,\n    opacityLoading: opacityDisabled\n  });\n};\nconst dataTableLight = createTheme({\n  name: 'DataTable',\n  common: commonLight,\n  peers: {\n    Button: buttonLight,\n    Checkbox: checkboxLight,\n    Radio: radioLight,\n    Pagination: paginationLight,\n    Scrollbar: scrollbarLight,\n    Empty: emptyLight,\n    Popover: popoverLight,\n    Ellipsis: ellipsisLight,\n    Dropdown: dropdownLight\n  },\n  self\n});\nexport default dataTableLight;","import { h, defineComponent, ref, mergeProps } from 'vue';\nimport { useMergedClsPrefix } from \"../../_mixins/use-config.mjs\";\nimport { useStyle } from \"../../_mixins/index.mjs\";\nimport Ellipsis, { createCursorClass, createLineClampClass, ellipsisProps } from \"./Ellipsis.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const NPerformantEllipsis = defineComponent({\n  name: 'PerformantEllipsis',\n  props: ellipsisProps,\n  inheritAttrs: false,\n  setup(props, {\n    attrs,\n    slots\n  }) {\n    const mouseEnteredRef = ref(false);\n    const mergedClsPrefixRef = useMergedClsPrefix();\n    useStyle('-ellipsis', style, mergedClsPrefixRef);\n    // Modified from Ellipsis.tsx\n    const renderTrigger = () => {\n      const {\n        lineClamp\n      } = props;\n      const mergedClsPrefix = mergedClsPrefixRef.value;\n      return h(\"span\", Object.assign({}, mergeProps(attrs, {\n        class: [`${mergedClsPrefix}-ellipsis`, lineClamp !== undefined ? createLineClampClass(mergedClsPrefix) : undefined, props.expandTrigger === 'click' ? createCursorClass(mergedClsPrefix, 'pointer') : undefined],\n        style: lineClamp === undefined ? {\n          textOverflow: 'ellipsis'\n        } : {\n          '-webkit-line-clamp': lineClamp\n        }\n      }), {\n        onMouseenter: () => {\n          mouseEnteredRef.value = true;\n        }\n      }), lineClamp ? slots : h(\"span\", null, slots));\n    };\n    return {\n      mouseEntered: mouseEnteredRef,\n      renderTrigger\n    };\n  },\n  render() {\n    if (this.mouseEntered) {\n      return h(Ellipsis, mergeProps({}, this.$attrs, this.$props), this.$slots);\n    } else {\n      return this.renderTrigger();\n    }\n  }\n});","import { defineComponent } from 'vue';\nexport default defineComponent({\n  name: 'DataTableRenderSorter',\n  props: {\n    render: {\n      type: Function,\n      required: true\n    },\n    order: {\n      // asc, desc\n      type: [String, Boolean],\n      default: false\n    }\n  },\n  render() {\n    const {\n      render,\n      order\n    } = this;\n    return render({\n      order\n    });\n  }\n});","import { useTheme } from \"../../_mixins/index.mjs\";\nimport { createInjectionKey } from \"../../_utils/index.mjs\";\nexport const dataTableProps = Object.assign(Object.assign({}, useTheme.props), {\n  onUnstableColumnResize: Function,\n  pagination: {\n    type: [Object, Boolean],\n    default: false\n  },\n  paginateSinglePage: {\n    type: Boolean,\n    default: true\n  },\n  minHeight: [Number, String],\n  maxHeight: [Number, String],\n  // Use any type as row data to make prop data acceptable\n  columns: {\n    type: Array,\n    default: () => []\n  },\n  rowClassName: [String, Function],\n  rowProps: Function,\n  rowKey: Function,\n  summary: [Function],\n  data: {\n    type: Array,\n    default: () => []\n  },\n  loading: Boolean,\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  bottomBordered: {\n    type: Boolean,\n    default: undefined\n  },\n  striped: Boolean,\n  scrollX: [Number, String],\n  defaultCheckedRowKeys: {\n    type: Array,\n    default: () => []\n  },\n  checkedRowKeys: Array,\n  singleLine: {\n    type: Boolean,\n    default: true\n  },\n  singleColumn: Boolean,\n  size: {\n    type: String,\n    default: 'medium'\n  },\n  remote: Boolean,\n  defaultExpandedRowKeys: {\n    type: Array,\n    default: []\n  },\n  defaultExpandAll: Boolean,\n  expandedRowKeys: Array,\n  stickyExpandedRows: Boolean,\n  virtualScroll: Boolean,\n  tableLayout: {\n    type: String,\n    default: 'auto'\n  },\n  allowCheckingNotLoaded: Boolean,\n  cascade: {\n    type: Boolean,\n    default: true\n  },\n  childrenKey: {\n    type: String,\n    default: 'children'\n  },\n  indent: {\n    type: Number,\n    default: 16\n  },\n  flexHeight: Boolean,\n  summaryPlacement: {\n    type: String,\n    default: 'bottom'\n  },\n  paginationBehaviorOnFilter: {\n    type: String,\n    default: 'current'\n  },\n  scrollbarProps: Object,\n  renderCell: Function,\n  renderExpandIcon: Function,\n  spinProps: {\n    type: Object,\n    default: {}\n  },\n  onLoad: Function,\n  'onUpdate:page': [Function, Array],\n  onUpdatePage: [Function, Array],\n  'onUpdate:pageSize': [Function, Array],\n  onUpdatePageSize: [Function, Array],\n  'onUpdate:sorter': [Function, Array],\n  onUpdateSorter: [Function, Array],\n  'onUpdate:filters': [Function, Array],\n  onUpdateFilters: [Function, Array],\n  'onUpdate:checkedRowKeys': [Function, Array],\n  onUpdateCheckedRowKeys: [Function, Array],\n  'onUpdate:expandedRowKeys': [Function, Array],\n  onUpdateExpandedRowKeys: [Function, Array],\n  onScroll: Function,\n  // deprecated\n  onPageChange: [Function, Array],\n  onPageSizeChange: [Function, Array],\n  onSorterChange: [Function, Array],\n  onFiltersChange: [Function, Array],\n  onCheckedRowKeysChange: [Function, Array]\n});\nexport const dataTableInjectionKey = createInjectionKey('n-data-table');","import { defineComponent, h, computed, inject } from 'vue';\nimport { ArrowDownIcon } from \"../../../_internal/icons/index.mjs\";\nimport { NBaseIcon } from \"../../../_internal/index.mjs\";\nimport RenderSorter from \"./RenderSorter.mjs\";\nimport { dataTableInjectionKey } from \"../interface.mjs\";\nimport { useConfig } from \"../../../_mixins/index.mjs\";\nexport default defineComponent({\n  name: 'SortIcon',\n  props: {\n    column: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      mergedComponentPropsRef\n    } = useConfig();\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const {\n      mergedSortStateRef,\n      mergedClsPrefixRef\n    } = inject(dataTableInjectionKey);\n    const sortStateRef = computed(() => mergedSortStateRef.value.find(state => state.columnKey === props.column.key));\n    const activeRef = computed(() => {\n      return sortStateRef.value !== undefined;\n    });\n    const mergedSortOrderRef = computed(() => {\n      const {\n        value: sortState\n      } = sortStateRef;\n      if (sortState && activeRef.value) {\n        return sortState.order;\n      }\n      return false;\n    });\n    const mergedRenderSorterRef = computed(() => {\n      var _a, _b;\n      return ((_b = (_a = mergedComponentPropsRef === null || mergedComponentPropsRef === void 0 ? void 0 : mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.DataTable) === null || _b === void 0 ? void 0 : _b.renderSorter) || props.column.renderSorter;\n    });\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      active: activeRef,\n      mergedSortOrder: mergedSortOrderRef,\n      mergedRenderSorter: mergedRenderSorterRef\n    };\n  },\n  render() {\n    const {\n      mergedRenderSorter,\n      mergedSortOrder,\n      mergedClsPrefix\n    } = this;\n    const {\n      renderSorterIcon\n    } = this.column;\n    return mergedRenderSorter ? h(RenderSorter, {\n      render: mergedRenderSorter,\n      order: mergedSortOrder\n    }) : h(\"span\", {\n      class: [`${mergedClsPrefix}-data-table-sorter`, mergedSortOrder === 'ascend' && `${mergedClsPrefix}-data-table-sorter--asc`, mergedSortOrder === 'descend' && `${mergedClsPrefix}-data-table-sorter--desc`]\n    }, renderSorterIcon ? renderSorterIcon({\n      order: mergedSortOrder\n    }) : h(NBaseIcon, {\n      clsPrefix: mergedClsPrefix\n    }, {\n      default: () => h(ArrowDownIcon, null)\n    }));\n  }\n});","import { defineComponent } from 'vue';\nexport default defineComponent({\n  name: 'DataTableRenderFilter',\n  props: {\n    render: {\n      type: Function,\n      required: true\n    },\n    active: {\n      type: Boolean,\n      default: false\n    },\n    show: {\n      type: Boolean,\n      default: false\n    }\n  },\n  render() {\n    const {\n      render,\n      active,\n      show\n    } = this;\n    return render({\n      active,\n      show\n    });\n  }\n});","import { depx } from 'seemly';\nimport { formatLength } from \"../../_utils/index.mjs\";\nexport const SELECTION_COL_WIDTH = 40;\nexport const EXPAND_COL_WIDTH = 40;\nexport function getNumberColWidth(col) {\n  if (col.type === 'selection') {\n    return col.width === undefined ? SELECTION_COL_WIDTH : depx(col.width);\n  }\n  if (col.type === 'expand') {\n    return col.width === undefined ? EXPAND_COL_WIDTH : depx(col.width);\n  }\n  if ('children' in col) return undefined;\n  if (typeof col.width === 'string') {\n    return depx(col.width);\n  }\n  return col.width;\n}\nexport function getStringColWidth(col) {\n  var _a, _b;\n  if (col.type === 'selection') {\n    return formatLength((_a = col.width) !== null && _a !== void 0 ? _a : SELECTION_COL_WIDTH);\n  }\n  if (col.type === 'expand') {\n    return formatLength((_b = col.width) !== null && _b !== void 0 ? _b : EXPAND_COL_WIDTH);\n  }\n  if ('children' in col) {\n    return undefined;\n  }\n  return formatLength(col.width);\n}\nexport function getColKey(col) {\n  if (col.type === 'selection') return '__n_selection__';\n  if (col.type === 'expand') return '__n_expand__';\n  return col.key;\n}\nexport function createShallowClonedObject(object) {\n  if (!object) return object;\n  if (typeof object === 'object') {\n    return Object.assign({}, object);\n  }\n  return object;\n}\nexport function getFlagOfOrder(order) {\n  if (order === 'ascend') return 1;else if (order === 'descend') return -1;\n  return 0;\n}\n// priority: min-width > max-width > width\nexport function clampValueFollowCSSRules(value, min, max) {\n  if (max !== undefined) {\n    value = Math.min(value, typeof max === 'number' ? max : parseFloat(max));\n  }\n  if (min !== undefined) {\n    value = Math.max(value, typeof min === 'number' ? min : parseFloat(min));\n  }\n  return value;\n}\nexport function createCustomWidthStyle(column, resizedWidth) {\n  if (resizedWidth !== undefined) {\n    return {\n      width: resizedWidth,\n      minWidth: resizedWidth,\n      maxWidth: resizedWidth\n    };\n  }\n  const width = getStringColWidth(column);\n  const {\n    minWidth,\n    maxWidth\n  } = column;\n  return {\n    width,\n    minWidth: formatLength(minWidth) || width,\n    maxWidth: formatLength(maxWidth)\n  };\n}\nexport function createRowClassName(row, index, rowClassName) {\n  if (typeof rowClassName === 'function') return rowClassName(row, index);\n  return rowClassName || '';\n}\n// for compatibility\n// If column.filterOptionValues or column.defaultFilterOptionValues is set, use\n// array value\nexport function shouldUseArrayInSingleMode(column) {\n  return column.filterOptionValues !== undefined || column.filterOptionValue === undefined && column.defaultFilterOptionValues !== undefined;\n}\nexport function isColumnSortable(column) {\n  if ('children' in column) return false;\n  return !!column.sorter;\n}\nexport function isColumnResizable(column) {\n  if ('children' in column && !!column.children.length) return false;\n  return !!column.resizable;\n}\nexport function isColumnFilterable(column) {\n  if ('children' in column) return false;\n  return !!column.filter && (!!column.filterOptions || !!column.renderFilterMenu);\n}\nfunction getNextOrderOf(order) {\n  if (!order) return 'descend';else if (order === 'descend') return 'ascend';\n  return false;\n}\nexport function createNextSorter(column, currentSortState) {\n  if (column.sorter === undefined) return null;\n  if (currentSortState === null || currentSortState.columnKey !== column.key) {\n    return {\n      columnKey: column.key,\n      sorter: column.sorter,\n      order: getNextOrderOf(false)\n    };\n  } else {\n    return Object.assign(Object.assign({}, currentSortState), {\n      order: getNextOrderOf(currentSortState.order)\n    });\n  }\n}\nexport function isColumnSorting(column, mergedSortState) {\n  return mergedSortState.find(state => state.columnKey === column.key && state.order) !== undefined;\n}\nfunction formatCsvCell(value) {\n  if (typeof value === 'string') {\n    return value.replace(/,/g, '\\\\,');\n  } else if (value === null || value === undefined) {\n    return '';\n  } else {\n    // eslint-disable-next-line @typescript-eslint/no-base-to-string, @typescript-eslint/restrict-template-expressions\n    return `${value}`.replace(/,/g, '\\\\,');\n  }\n}\nexport function generateCsv(columns, data) {\n  const exportableColumns = columns.filter(column => column.type !== 'expand' && column.type !== 'selection');\n  const header = exportableColumns.map(col => col.title).join(',');\n  const rows = data.map(row => {\n    return exportableColumns.map(col => formatCsvCell(row[col.key])).join(',');\n  });\n  return [header, ...rows].join('\\n');\n}","import { h, defineComponent, ref, computed, inject } from 'vue';\nimport { NCheckbox, NCheckboxGroup } from \"../../../checkbox/index.mjs\";\nimport { NRadio, NRadioGroup } from \"../../../radio/index.mjs\";\nimport { NButton } from \"../../../button/index.mjs\";\nimport { NScrollbar } from \"../../../_internal/index.mjs\";\nimport { shouldUseArrayInSingleMode } from \"../utils.mjs\";\nimport { dataTableInjectionKey } from \"../interface.mjs\";\nimport { useConfig, useRtl } from \"../../../_mixins/index.mjs\";\nexport default defineComponent({\n  name: 'DataTableFilterMenu',\n  props: {\n    column: {\n      type: Object,\n      required: true\n    },\n    radioGroupName: {\n      type: String,\n      required: true\n    },\n    multiple: {\n      type: Boolean,\n      required: true\n    },\n    value: {\n      type: [Array, String, Number],\n      default: null\n    },\n    options: {\n      type: Array,\n      required: true\n    },\n    onConfirm: {\n      type: Function,\n      required: true\n    },\n    onClear: {\n      type: Function,\n      required: true\n    },\n    onChange: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      mergedClsPrefixRef: mergedClsPrefixRefRtl,\n      mergedRtlRef\n    } = useConfig(props);\n    const rtlEnabledRef = useRtl('DataTable', mergedRtlRef, mergedClsPrefixRefRtl);\n    const {\n      mergedClsPrefixRef,\n      mergedThemeRef,\n      localeRef\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    // to be compared with changed value\n    // const initialValueRef = ref(props.value)\n    const temporalValueRef = ref(props.value);\n    const checkboxGroupValueRef = computed(() => {\n      const {\n        value: temporalValue\n      } = temporalValueRef;\n      if (!Array.isArray(temporalValue)) return null;\n      return temporalValue;\n    });\n    const radioGroupValueRef = computed(() => {\n      const {\n        value: temporalValue\n      } = temporalValueRef;\n      if (shouldUseArrayInSingleMode(props.column)) {\n        return Array.isArray(temporalValue) && temporalValue.length && temporalValue[0] || null;\n      }\n      if (!Array.isArray(temporalValue)) return temporalValue;\n      return null;\n    });\n    function doChange(value) {\n      // May need to check if equal\n      ;\n      props.onChange(value);\n    }\n    function handleChange(value) {\n      if (props.multiple && Array.isArray(value)) {\n        temporalValueRef.value = value;\n      } else if (shouldUseArrayInSingleMode(props.column) && !Array.isArray(value)) {\n        /** this branch is for compatibility */\n        temporalValueRef.value = [value];\n      } else {\n        temporalValueRef.value = value;\n      }\n    }\n    function handleConfirmClick() {\n      doChange(temporalValueRef.value);\n      props.onConfirm();\n    }\n    function handleClearClick() {\n      if (props.multiple || shouldUseArrayInSingleMode(props.column)) {\n        doChange([]);\n      } else {\n        doChange(null);\n      }\n      props.onClear();\n    }\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      rtlEnabled: rtlEnabledRef,\n      mergedTheme: mergedThemeRef,\n      locale: localeRef,\n      checkboxGroupValue: checkboxGroupValueRef,\n      radioGroupValue: radioGroupValueRef,\n      handleChange,\n      handleConfirmClick,\n      handleClearClick\n    };\n  },\n  render() {\n    const {\n      mergedTheme,\n      locale,\n      mergedClsPrefix\n    } = this;\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-data-table-filter-menu`, this.rtlEnabled && `${mergedClsPrefix}-data-table-filter-menu--rtl`]\n    }, h(NScrollbar, null, {\n      default: () => {\n        const {\n          checkboxGroupValue,\n          handleChange\n        } = this;\n        return this.multiple ? h(NCheckboxGroup, {\n          value: checkboxGroupValue,\n          class: `${mergedClsPrefix}-data-table-filter-menu__group`,\n          onUpdateValue: handleChange\n        }, {\n          default: () => this.options.map(option => {\n            return h(NCheckbox, {\n              key: option.value,\n              theme: mergedTheme.peers.Checkbox,\n              themeOverrides: mergedTheme.peerOverrides.Checkbox,\n              value: option.value\n            }, {\n              default: () => option.label\n            });\n          })\n        }) : h(NRadioGroup, {\n          name: this.radioGroupName,\n          class: `${mergedClsPrefix}-data-table-filter-menu__group`,\n          value: this.radioGroupValue,\n          onUpdateValue: this.handleChange\n        }, {\n          default: () => this.options.map(option => h(NRadio, {\n            key: option.value,\n            value: option.value,\n            theme: mergedTheme.peers.Radio,\n            themeOverrides: mergedTheme.peerOverrides.Radio\n          }, {\n            default: () => option.label\n          }))\n        });\n      }\n    }), h(\"div\", {\n      class: `${mergedClsPrefix}-data-table-filter-menu__action`\n    }, h(NButton, {\n      size: \"tiny\",\n      theme: mergedTheme.peers.Button,\n      themeOverrides: mergedTheme.peerOverrides.Button,\n      onClick: this.handleClearClick\n    }, {\n      default: () => locale.clear\n    }), h(NButton, {\n      theme: mergedTheme.peers.Button,\n      themeOverrides: mergedTheme.peerOverrides.Button,\n      type: \"primary\",\n      size: \"tiny\",\n      onClick: this.handleConfirmClick\n    }, {\n      default: () => locale.confirm\n    })));\n  }\n});","import { h, defineComponent, ref, computed, inject } from 'vue';\nimport { FilterIcon } from \"../../../_internal/icons/index.mjs\";\nimport { NBaseIcon } from \"../../../_internal/index.mjs\";\nimport { NPopover } from \"../../../popover/index.mjs\";\nimport RenderFilter from \"./RenderFilter.mjs\";\nimport NDataTableFilterMenu from \"./FilterMenu.mjs\";\nimport { dataTableInjectionKey } from \"../interface.mjs\";\nimport { useConfig } from \"../../../_mixins/index.mjs\";\nfunction createFilterState(currentFilterState, columnKey, mergedFilterValue) {\n  const nextFilterState = Object.assign({}, currentFilterState);\n  nextFilterState[columnKey] = mergedFilterValue;\n  return nextFilterState;\n}\nexport default defineComponent({\n  name: 'DataTableFilterButton',\n  props: {\n    column: {\n      type: Object,\n      required: true\n    },\n    options: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const {\n      mergedComponentPropsRef\n    } = useConfig();\n    const {\n      mergedThemeRef,\n      mergedClsPrefixRef,\n      mergedFilterStateRef,\n      filterMenuCssVarsRef,\n      paginationBehaviorOnFilterRef,\n      doUpdatePage,\n      doUpdateFilters\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    const showPopoverRef = ref(false);\n    const filterStateRef = mergedFilterStateRef;\n    const filterMultipleRef = computed(() => {\n      return props.column.filterMultiple !== false;\n    });\n    const mergedFilterValueRef = computed(() => {\n      const filterValue = filterStateRef.value[props.column.key];\n      if (filterValue === undefined) {\n        const {\n          value: multiple\n        } = filterMultipleRef;\n        if (multiple) return [];else return null;\n      }\n      return filterValue;\n    });\n    const activeRef = computed(() => {\n      const {\n        value: filterValue\n      } = mergedFilterValueRef;\n      if (Array.isArray(filterValue)) {\n        return filterValue.length > 0;\n      }\n      return filterValue !== null;\n    });\n    const mergedRenderFilterRef = computed(() => {\n      var _a, _b;\n      return ((_b = (_a = mergedComponentPropsRef === null || mergedComponentPropsRef === void 0 ? void 0 : mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.DataTable) === null || _b === void 0 ? void 0 : _b.renderFilter) || props.column.renderFilter;\n    });\n    function handleFilterChange(mergedFilterValue) {\n      const nextFilterState = createFilterState(filterStateRef.value, props.column.key, mergedFilterValue);\n      doUpdateFilters(nextFilterState, props.column);\n      if (paginationBehaviorOnFilterRef.value === 'first') {\n        doUpdatePage(1);\n      }\n    }\n    function handleFilterMenuCancel() {\n      showPopoverRef.value = false;\n    }\n    function handleFilterMenuConfirm() {\n      showPopoverRef.value = false;\n    }\n    return {\n      mergedTheme: mergedThemeRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      active: activeRef,\n      showPopover: showPopoverRef,\n      mergedRenderFilter: mergedRenderFilterRef,\n      filterMultiple: filterMultipleRef,\n      mergedFilterValue: mergedFilterValueRef,\n      filterMenuCssVars: filterMenuCssVarsRef,\n      handleFilterChange,\n      handleFilterMenuConfirm,\n      handleFilterMenuCancel\n    };\n  },\n  render() {\n    const {\n      mergedTheme,\n      mergedClsPrefix,\n      handleFilterMenuCancel\n    } = this;\n    return h(NPopover, {\n      show: this.showPopover,\n      onUpdateShow: v => this.showPopover = v,\n      trigger: \"click\",\n      theme: mergedTheme.peers.Popover,\n      themeOverrides: mergedTheme.peerOverrides.Popover,\n      placement: \"bottom\",\n      style: {\n        padding: 0\n      }\n    }, {\n      trigger: () => {\n        const {\n          mergedRenderFilter\n        } = this;\n        if (mergedRenderFilter) {\n          return h(RenderFilter, {\n            \"data-data-table-filter\": true,\n            render: mergedRenderFilter,\n            active: this.active,\n            show: this.showPopover\n          });\n        }\n        const {\n          renderFilterIcon\n        } = this.column;\n        return h(\"div\", {\n          \"data-data-table-filter\": true,\n          class: [`${mergedClsPrefix}-data-table-filter`, {\n            [`${mergedClsPrefix}-data-table-filter--active`]: this.active,\n            [`${mergedClsPrefix}-data-table-filter--show`]: this.showPopover\n          }]\n        }, renderFilterIcon ? renderFilterIcon({\n          active: this.active,\n          show: this.showPopover\n        }) : h(NBaseIcon, {\n          clsPrefix: mergedClsPrefix\n        }, {\n          default: () => h(FilterIcon, null)\n        }));\n      },\n      default: () => {\n        const {\n          renderFilterMenu\n        } = this.column;\n        return renderFilterMenu ? renderFilterMenu({\n          hide: handleFilterMenuCancel\n        }) : h(NDataTableFilterMenu, {\n          style: this.filterMenuCssVars,\n          radioGroupName: String(this.column.key),\n          multiple: this.filterMultiple,\n          value: this.mergedFilterValue,\n          options: this.options,\n          column: this.column,\n          onChange: this.handleFilterChange,\n          onClear: this.handleFilterMenuCancel,\n          onConfirm: this.handleFilterMenuConfirm\n        });\n      }\n    });\n  }\n});","import { defineComponent, h, inject, ref, onBeforeUnmount } from 'vue';\nimport { off, on } from 'evtd';\nimport { dataTableInjectionKey } from \"../interface.mjs\";\nexport default defineComponent({\n  name: 'ColumnResizeButton',\n  props: {\n    onResizeStart: Function,\n    onResize: Function,\n    onResizeEnd: Function\n  },\n  setup(props) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const {\n      mergedClsPrefixRef\n    } = inject(dataTableInjectionKey);\n    const activeRef = ref(false);\n    let startX = 0;\n    function getMouseX(e) {\n      return e.clientX;\n    }\n    function handleMousedown(e) {\n      var _a;\n      e.preventDefault();\n      const alreadyStarted = activeRef.value;\n      startX = getMouseX(e);\n      activeRef.value = true;\n      if (!alreadyStarted) {\n        on('mousemove', window, handleMousemove);\n        on('mouseup', window, handleMouseup);\n        (_a = props.onResizeStart) === null || _a === void 0 ? void 0 : _a.call(props);\n      }\n    }\n    function handleMousemove(e) {\n      var _a;\n      (_a = props.onResize) === null || _a === void 0 ? void 0 : _a.call(props, getMouseX(e) - startX);\n    }\n    function handleMouseup() {\n      var _a;\n      activeRef.value = false;\n      (_a = props.onResizeEnd) === null || _a === void 0 ? void 0 : _a.call(props);\n      off('mousemove', window, handleMousemove);\n      off('mouseup', window, handleMouseup);\n    }\n    onBeforeUnmount(() => {\n      off('mousemove', window, handleMousemove);\n      off('mouseup', window, handleMouseup);\n    });\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      active: activeRef,\n      handleMousedown\n    };\n  },\n  render() {\n    const {\n      mergedClsPrefix\n    } = this;\n    return h(\"span\", {\n      \"data-data-table-resizable\": true,\n      class: [`${mergedClsPrefix}-data-table-resize-button`, this.active && `${mergedClsPrefix}-data-table-resize-button--active`],\n      onMousedown: this.handleMousedown\n    });\n  }\n});","import { h, defineComponent, inject, computed } from 'vue';\nimport { NDropdown } from \"../../../dropdown/index.mjs\";\nimport { NBaseIcon } from \"../../../_internal/index.mjs\";\nimport { ChevronDownIcon } from \"../../../_internal/icons/index.mjs\";\nimport { dataTableInjectionKey } from \"../interface.mjs\";\nconst allKey = '_n_all__';\nconst noneKey = '_n_none__';\nfunction createSelectHandler(options, rawPaginatedDataRef, doCheckAll, doUncheckAll) {\n  if (!options) return () => {};\n  return key => {\n    for (const option of options) {\n      switch (key) {\n        case allKey:\n          doCheckAll(true);\n          return;\n        case noneKey:\n          doUncheckAll(true);\n          return;\n        default:\n          if (typeof option === 'object' && option.key === key) {\n            option.onSelect(rawPaginatedDataRef.value);\n            return;\n          }\n      }\n    }\n  };\n}\nfunction createDropdownOptions(options, localeRef) {\n  if (!options) return [];\n  return options.map(option => {\n    switch (option) {\n      case 'all':\n        return {\n          label: localeRef.checkTableAll,\n          key: allKey\n        };\n      case 'none':\n        return {\n          label: localeRef.uncheckTableAll,\n          key: noneKey\n        };\n      default:\n        return option;\n    }\n  });\n}\nexport default defineComponent({\n  name: 'DataTableSelectionMenu',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      props: dataTableProps,\n      localeRef,\n      checkOptionsRef,\n      rawPaginatedDataRef,\n      doCheckAll,\n      doUncheckAll\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    const handleSelectRef = computed(() => createSelectHandler(checkOptionsRef.value, rawPaginatedDataRef, doCheckAll, doUncheckAll));\n    const optionsRef = computed(() => createDropdownOptions(checkOptionsRef.value, localeRef.value));\n    return () => {\n      var _a, _b, _c, _d;\n      const {\n        clsPrefix\n      } = props;\n      return h(NDropdown, {\n        theme: (_b = (_a = dataTableProps.theme) === null || _a === void 0 ? void 0 : _a.peers) === null || _b === void 0 ? void 0 : _b.Dropdown,\n        themeOverrides: (_d = (_c = dataTableProps.themeOverrides) === null || _c === void 0 ? void 0 : _c.peers) === null || _d === void 0 ? void 0 : _d.Dropdown,\n        options: optionsRef.value,\n        onSelect: handleSelectRef.value\n      }, {\n        default: () => h(NBaseIcon, {\n          clsPrefix: clsPrefix,\n          class: `${clsPrefix}-data-table-check-extra`\n        }, {\n          default: () => h(ChevronDownIcon, null)\n        })\n      });\n    };\n  }\n});","import { h, defineComponent, inject, Fragment, ref } from 'vue';\nimport { happensIn, pxfy } from 'seemly';\nimport { formatLength } from \"../../../_utils/index.mjs\";\nimport { NCheckbox } from \"../../../checkbox/index.mjs\";\nimport { NEllipsis } from \"../../../ellipsis/index.mjs\";\nimport SortButton from \"../HeaderButton/SortButton.mjs\";\nimport FilterButton from \"../HeaderButton/FilterButton.mjs\";\nimport ResizeButton from \"../HeaderButton/ResizeButton.mjs\";\nimport { isColumnSortable, isColumnFilterable, createNextSorter, getColKey, isColumnSorting, isColumnResizable, clampValueFollowCSSRules } from \"../utils.mjs\";\nimport { dataTableInjectionKey } from \"../interface.mjs\";\nimport SelectionMenu from \"./SelectionMenu.mjs\";\nfunction renderTitle(column) {\n  return typeof column.title === 'function' ? column.title(column) : column.title;\n}\nexport default defineComponent({\n  name: 'DataTableHeader',\n  props: {\n    discrete: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup() {\n    const {\n      mergedClsPrefixRef,\n      scrollXRef,\n      fixedColumnLeftMapRef,\n      fixedColumnRightMapRef,\n      mergedCurrentPageRef,\n      allRowsCheckedRef,\n      someRowsCheckedRef,\n      rowsRef,\n      colsRef,\n      mergedThemeRef,\n      checkOptionsRef,\n      mergedSortStateRef,\n      componentId,\n      mergedTableLayoutRef,\n      headerCheckboxDisabledRef,\n      onUnstableColumnResize,\n      doUpdateResizableWidth,\n      handleTableHeaderScroll,\n      deriveNextSorter,\n      doUncheckAll,\n      doCheckAll\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    const cellElsRef = ref({});\n    function getCellActualWidth(key) {\n      const element = cellElsRef.value[key];\n      return element === null || element === void 0 ? void 0 : element.getBoundingClientRect().width;\n    }\n    function handleCheckboxUpdateChecked() {\n      if (allRowsCheckedRef.value) {\n        doUncheckAll();\n      } else {\n        doCheckAll();\n      }\n    }\n    function handleColHeaderClick(e, column) {\n      if (happensIn(e, 'dataTableFilter') || happensIn(e, 'dataTableResizable')) {\n        return;\n      }\n      if (!isColumnSortable(column)) return;\n      const activeSorter = mergedSortStateRef.value.find(state => state.columnKey === column.key) || null;\n      const nextSorter = createNextSorter(column, activeSorter);\n      deriveNextSorter(nextSorter);\n    }\n    const resizeStartWidthMap = new Map();\n    function handleColumnResizeStart(column) {\n      resizeStartWidthMap.set(column.key, getCellActualWidth(column.key));\n    }\n    function handleColumnResize(column, displacementX) {\n      const startWidth = resizeStartWidthMap.get(column.key);\n      if (startWidth === undefined) {\n        return;\n      }\n      const widthAfterResize = startWidth + displacementX;\n      const limitWidth = clampValueFollowCSSRules(widthAfterResize, column.minWidth, column.maxWidth);\n      onUnstableColumnResize(widthAfterResize, limitWidth, column, getCellActualWidth);\n      doUpdateResizableWidth(column, limitWidth);\n    }\n    return {\n      cellElsRef,\n      componentId,\n      mergedSortState: mergedSortStateRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      scrollX: scrollXRef,\n      fixedColumnLeftMap: fixedColumnLeftMapRef,\n      fixedColumnRightMap: fixedColumnRightMapRef,\n      currentPage: mergedCurrentPageRef,\n      allRowsChecked: allRowsCheckedRef,\n      someRowsChecked: someRowsCheckedRef,\n      rows: rowsRef,\n      cols: colsRef,\n      mergedTheme: mergedThemeRef,\n      checkOptions: checkOptionsRef,\n      mergedTableLayout: mergedTableLayoutRef,\n      headerCheckboxDisabled: headerCheckboxDisabledRef,\n      handleCheckboxUpdateChecked,\n      handleColHeaderClick,\n      handleTableHeaderScroll,\n      handleColumnResizeStart,\n      handleColumnResize\n    };\n  },\n  render() {\n    const {\n      cellElsRef,\n      mergedClsPrefix,\n      fixedColumnLeftMap,\n      fixedColumnRightMap,\n      currentPage,\n      allRowsChecked,\n      someRowsChecked,\n      rows,\n      cols,\n      mergedTheme,\n      checkOptions,\n      componentId,\n      discrete,\n      mergedTableLayout,\n      headerCheckboxDisabled,\n      mergedSortState,\n      handleColHeaderClick,\n      handleCheckboxUpdateChecked,\n      handleColumnResizeStart,\n      handleColumnResize\n    } = this;\n    let hasEllipsis = false;\n    const theadVNode = h(\"thead\", {\n      class: `${mergedClsPrefix}-data-table-thead`,\n      \"data-n-id\": componentId\n    }, rows.map(row => {\n      return h(\"tr\", {\n        class: `${mergedClsPrefix}-data-table-tr`\n      }, row.map(({\n        column,\n        colSpan,\n        rowSpan,\n        isLast\n      }) => {\n        var _a, _b;\n        const key = getColKey(column);\n        const {\n          ellipsis\n        } = column;\n        if (!hasEllipsis && ellipsis) hasEllipsis = true;\n        const createColumnVNode = () => {\n          if (column.type === 'selection') {\n            return column.multiple !== false ? h(Fragment, null, h(NCheckbox, {\n              key: currentPage,\n              privateInsideTable: true,\n              checked: allRowsChecked,\n              indeterminate: someRowsChecked,\n              disabled: headerCheckboxDisabled,\n              onUpdateChecked: handleCheckboxUpdateChecked\n            }), checkOptions ? h(SelectionMenu, {\n              clsPrefix: mergedClsPrefix\n            }) : null) : null;\n          }\n          return h(Fragment, null, h(\"div\", {\n            class: `${mergedClsPrefix}-data-table-th__title-wrapper`\n          }, h(\"div\", {\n            class: `${mergedClsPrefix}-data-table-th__title`\n          }, ellipsis === true || ellipsis && !ellipsis.tooltip ? h(\"div\", {\n            class: `${mergedClsPrefix}-data-table-th__ellipsis`\n          }, renderTitle(column)) // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n          : ellipsis && typeof ellipsis === 'object' ? h(NEllipsis, Object.assign({}, ellipsis, {\n            theme: mergedTheme.peers.Ellipsis,\n            themeOverrides: mergedTheme.peerOverrides.Ellipsis\n          }), {\n            default: () => renderTitle(column)\n          }) : renderTitle(column)), isColumnSortable(column) ? h(SortButton, {\n            column: column\n          }) : null), isColumnFilterable(column) ? h(FilterButton, {\n            column: column,\n            options: column.filterOptions\n          }) : null, isColumnResizable(column) ? h(ResizeButton, {\n            onResizeStart: () => {\n              handleColumnResizeStart(column);\n            },\n            onResize: displacementX => {\n              handleColumnResize(column, displacementX);\n            }\n          }) : null);\n        };\n        const leftFixed = (key in fixedColumnLeftMap);\n        const rightFixed = (key in fixedColumnRightMap);\n        return h(\"th\", {\n          ref: el => cellElsRef[key] = el,\n          key: key,\n          style: {\n            textAlign: column.titleAlign || column.align,\n            left: pxfy((_a = fixedColumnLeftMap[key]) === null || _a === void 0 ? void 0 : _a.start),\n            right: pxfy((_b = fixedColumnRightMap[key]) === null || _b === void 0 ? void 0 : _b.start)\n          },\n          colspan: colSpan,\n          rowspan: rowSpan,\n          \"data-col-key\": key,\n          class: [`${mergedClsPrefix}-data-table-th`, (leftFixed || rightFixed) && `${mergedClsPrefix}-data-table-th--fixed-${leftFixed ? 'left' : 'right'}`, {\n            [`${mergedClsPrefix}-data-table-th--hover`]: isColumnSorting(column, mergedSortState),\n            [`${mergedClsPrefix}-data-table-th--filterable`]: isColumnFilterable(column),\n            [`${mergedClsPrefix}-data-table-th--sortable`]: isColumnSortable(column),\n            [`${mergedClsPrefix}-data-table-th--selection`]: column.type === 'selection',\n            [`${mergedClsPrefix}-data-table-th--last`]: isLast\n          }, column.className],\n          onClick: column.type !== 'selection' && column.type !== 'expand' && !('children' in column) ? e => {\n            handleColHeaderClick(e, column);\n          } : undefined\n        }, createColumnVNode());\n      }));\n    }));\n    if (!discrete) {\n      return theadVNode;\n    }\n    const {\n      handleTableHeaderScroll,\n      scrollX\n    } = this;\n    return h(\"div\", {\n      class: `${mergedClsPrefix}-data-table-base-table-header`,\n      onScroll: handleTableHeaderScroll\n    }, h(\"table\", {\n      ref: \"body\",\n      class: `${mergedClsPrefix}-data-table-table`,\n      style: {\n        minWidth: formatLength(scrollX),\n        tableLayout: mergedTableLayout\n      }\n    }, h(\"colgroup\", null, cols.map(col => h(\"col\", {\n      key: col.key,\n      style: col.style\n    }))), theadVNode));\n  }\n});","import { defineComponent, h } from 'vue';\nimport { get } from 'lodash-es';\nimport NEllipsis from \"../../../ellipsis/src/Ellipsis.mjs\";\nimport { NPerformantEllipsis } from \"../../../ellipsis/src/PerformantEllipsis.mjs\";\nexport default defineComponent({\n  name: 'DataTableCell',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    row: {\n      type: Object,\n      required: true\n    },\n    index: {\n      type: Number,\n      required: true\n    },\n    column: {\n      type: Object,\n      required: true\n    },\n    isSummary: Boolean,\n    mergedTheme: {\n      type: Object,\n      required: true\n    },\n    renderCell: Function\n  },\n  render() {\n    var _a;\n    const {\n      isSummary,\n      column,\n      row,\n      renderCell\n    } = this;\n    let cell;\n    const {\n      render,\n      key,\n      ellipsis\n    } = column;\n    if (render && !isSummary) {\n      cell = render(row, this.index);\n    } else {\n      if (isSummary) {\n        cell = (_a = row[key]) === null || _a === void 0 ? void 0 : _a.value;\n      } else {\n        cell = renderCell ? renderCell(get(row, key), row, column) : get(row, key);\n      }\n    }\n    if (ellipsis) {\n      if (typeof ellipsis === 'object') {\n        const {\n          mergedTheme\n        } = this;\n        if (column.ellipsisComponent === 'performant-ellipsis') {\n          return h(NPerformantEllipsis, Object.assign({}, ellipsis, {\n            theme: mergedTheme.peers.Ellipsis,\n            themeOverrides: mergedTheme.peerOverrides.Ellipsis\n          }), {\n            default: () => cell\n          });\n        }\n        return h(NEllipsis, Object.assign({}, ellipsis, {\n          theme: mergedTheme.peers.Ellipsis,\n          themeOverrides: mergedTheme.peerOverrides.Ellipsis\n        }), {\n          default: () => cell\n        });\n      } else {\n        return h(\"span\", {\n          class: `${this.clsPrefix}-data-table-td__ellipsis`\n        }, cell);\n      }\n    }\n    return cell;\n  }\n});","import { h, defineComponent } from 'vue';\nimport { ChevronRightIcon } from \"../../../_internal/icons/index.mjs\";\nimport { NBaseIcon, NBaseLoading, NIconSwitchTransition } from \"../../../_internal/index.mjs\";\nexport default defineComponent({\n  name: 'DataTableExpandTrigger',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    expanded: Boolean,\n    loading: Boolean,\n    onClick: {\n      type: Function,\n      required: true\n    },\n    renderExpandIcon: {\n      type: Function\n    }\n  },\n  render() {\n    const {\n      clsPrefix\n    } = this;\n    return h(\"div\", {\n      class: [`${clsPrefix}-data-table-expand-trigger`, this.expanded && `${clsPrefix}-data-table-expand-trigger--expanded`],\n      onClick: this.onClick,\n      onMousedown: e => {\n        e.preventDefault();\n      }\n    }, h(NIconSwitchTransition, null, {\n      default: () => {\n        return this.loading ? h(NBaseLoading, {\n          key: \"loading\",\n          clsPrefix: this.clsPrefix,\n          radius: 85,\n          strokeWidth: 15,\n          scale: 0.88\n        }) : this.renderExpandIcon ? this.renderExpandIcon({\n          expanded: this.expanded\n        }) : h(NBaseIcon, {\n          clsPrefix: clsPrefix,\n          key: \"base-icon\"\n        }, {\n          default: () => h(ChevronRightIcon, null)\n        });\n      }\n    }));\n  }\n});","import { defineComponent, h, inject } from 'vue';\nimport { NCheckbox } from \"../../../checkbox/index.mjs\";\nimport { dataTableInjectionKey } from \"../interface.mjs\";\n// Extract the checkbox to avoid useless rendering in table body\nexport default defineComponent({\n  name: 'DataTableBodyCheckbox',\n  props: {\n    rowKey: {\n      type: [String, Number],\n      required: true\n    },\n    disabled: {\n      type: Boolean,\n      required: true\n    },\n    onUpdateChecked: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      mergedCheckedRowKeySetRef,\n      mergedInderminateRowKeySetRef\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    return () => {\n      const {\n        rowKey\n      } = props;\n      return h(NCheckbox, {\n        privateInsideTable: true,\n        disabled: props.disabled,\n        indeterminate: mergedInderminateRowKeySetRef.value.has(rowKey),\n        checked: mergedCheckedRowKeySetRef.value.has(rowKey),\n        onUpdateChecked: props.onUpdateChecked\n      });\n    };\n  }\n});","import { defineComponent, h, inject } from 'vue';\nimport { NRadio } from \"../../../radio/index.mjs\";\nimport { dataTableInjectionKey } from \"../interface.mjs\";\n// Extract the radio to avoid useless rendering in table body\nexport default defineComponent({\n  name: 'DataTableBodyRadio',\n  props: {\n    rowKey: {\n      type: [String, Number],\n      required: true\n    },\n    disabled: {\n      type: Boolean,\n      required: true\n    },\n    onUpdateChecked: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      mergedCheckedRowKeySetRef,\n      componentId\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    return () => {\n      const {\n        rowKey\n      } = props;\n      return h(NRadio, {\n        name: componentId,\n        disabled: props.disabled,\n        checked: mergedCheckedRowKeySetRef.value.has(rowKey),\n        onUpdateChecked: props.onUpdateChecked\n      });\n    };\n  }\n});","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, ref, defineComponent, inject, watchEffect, onUnmounted, computed, Fragment } from 'vue';\nimport { pxfy, repeat } from 'seemly';\nimport { VirtualList, VResizeObserver } from 'vueuc';\nimport { useMemo } from 'vooks';\nimport { cssrAnchorMetaName } from \"../../../_mixins/common.mjs\";\nimport { c } from \"../../../_utils/cssr/index.mjs\";\nimport { NScrollbar } from \"../../../_internal/index.mjs\";\nimport { formatLength, resolveSlot, warn } from \"../../../_utils/index.mjs\";\nimport { NEmpty } from \"../../../empty/index.mjs\";\nimport { dataTableInjectionKey } from \"../interface.mjs\";\nimport { createRowClassName, getColKey, isColumnSorting } from \"../utils.mjs\";\nimport Cell from \"./Cell.mjs\";\nimport ExpandTrigger from \"./ExpandTrigger.mjs\";\nimport RenderSafeCheckbox from \"./BodyCheckbox.mjs\";\nimport RenderSafeRadio from \"./BodyRadio.mjs\";\nimport TableHeader from \"./Header.mjs\";\nfunction flatten(rowInfos, expandedRowKeys) {\n  const fRows = [];\n  function traverse(rs, rootIndex) {\n    rs.forEach(r => {\n      if (r.children && expandedRowKeys.has(r.key)) {\n        fRows.push({\n          tmNode: r,\n          striped: false,\n          key: r.key,\n          index: rootIndex\n        });\n        traverse(r.children, rootIndex);\n      } else {\n        fRows.push({\n          key: r.key,\n          tmNode: r,\n          striped: false,\n          index: rootIndex\n        });\n      }\n    });\n  }\n  rowInfos.forEach(rowInfo => {\n    fRows.push(rowInfo);\n    const {\n      children\n    } = rowInfo.tmNode;\n    if (children && expandedRowKeys.has(rowInfo.key)) {\n      traverse(children, rowInfo.index);\n    }\n  });\n  return fRows;\n}\nconst VirtualListItemWrapper = defineComponent({\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    id: {\n      type: String,\n      required: true\n    },\n    cols: {\n      type: Array,\n      required: true\n    },\n    onMouseenter: Function,\n    onMouseleave: Function\n  },\n  render() {\n    const {\n      clsPrefix,\n      id,\n      cols,\n      onMouseenter,\n      onMouseleave\n    } = this;\n    return h(\"table\", {\n      style: {\n        tableLayout: 'fixed'\n      },\n      class: `${clsPrefix}-data-table-table`,\n      onMouseenter: onMouseenter,\n      onMouseleave: onMouseleave\n    }, h(\"colgroup\", null, cols.map(col => h(\"col\", {\n      key: col.key,\n      style: col.style\n    }))), h(\"tbody\", {\n      \"data-n-id\": id,\n      class: `${clsPrefix}-data-table-tbody`\n    }, this.$slots));\n  }\n});\nexport default defineComponent({\n  name: 'DataTableBody',\n  props: {\n    onResize: Function,\n    showHeader: Boolean,\n    flexHeight: Boolean,\n    bodyStyle: Object\n  },\n  setup(props) {\n    const {\n      slots: dataTableSlots,\n      bodyWidthRef,\n      mergedExpandedRowKeysRef,\n      mergedClsPrefixRef,\n      mergedThemeRef,\n      scrollXRef,\n      colsRef,\n      paginatedDataRef,\n      rawPaginatedDataRef,\n      fixedColumnLeftMapRef,\n      fixedColumnRightMapRef,\n      mergedCurrentPageRef,\n      rowClassNameRef,\n      leftActiveFixedColKeyRef,\n      leftActiveFixedChildrenColKeysRef,\n      rightActiveFixedColKeyRef,\n      rightActiveFixedChildrenColKeysRef,\n      renderExpandRef,\n      hoverKeyRef,\n      summaryRef,\n      mergedSortStateRef,\n      virtualScrollRef,\n      componentId,\n      mergedTableLayoutRef,\n      childTriggerColIndexRef,\n      indentRef,\n      rowPropsRef,\n      maxHeightRef,\n      stripedRef,\n      loadingRef,\n      onLoadRef,\n      loadingKeySetRef,\n      expandableRef,\n      stickyExpandedRowsRef,\n      renderExpandIconRef,\n      summaryPlacementRef,\n      treeMateRef,\n      scrollbarPropsRef,\n      setHeaderScrollLeft,\n      doUpdateExpandedRowKeys,\n      handleTableBodyScroll,\n      doCheck,\n      doUncheck,\n      renderCell\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    const scrollbarInstRef = ref(null);\n    const virtualListRef = ref(null);\n    const emptyElRef = ref(null);\n    const emptyRef = useMemo(() => paginatedDataRef.value.length === 0);\n    // If header is not inside & empty is displayed, no table part would be\n    // shown. So to collect a body width, we need to put a ref on empty element\n    const shouldDisplaySomeTablePartRef = useMemo(() => props.showHeader || !emptyRef.value);\n    // If no body is shown, we shouldn't show scrollbar\n    const bodyShowHeaderOnlyRef = useMemo(() => {\n      return props.showHeader || emptyRef.value;\n    });\n    let lastSelectedKey = '';\n    const mergedExpandedRowKeySetRef = computed(() => {\n      return new Set(mergedExpandedRowKeysRef.value);\n    });\n    function getRowInfo(key) {\n      var _a;\n      return (_a = treeMateRef.value.getNode(key)) === null || _a === void 0 ? void 0 : _a.rawNode;\n    }\n    function handleCheckboxUpdateChecked(tmNode, checked, shiftKey) {\n      const rowInfo = getRowInfo(tmNode.key);\n      if (!rowInfo) {\n        warn('data-table', `fail to get row data with key ${tmNode.key}`);\n        return;\n      }\n      if (shiftKey) {\n        const lastIndex = paginatedDataRef.value.findIndex(item => item.key === lastSelectedKey);\n        if (lastIndex !== -1) {\n          const currentIndex = paginatedDataRef.value.findIndex(item => item.key === tmNode.key);\n          const start = Math.min(lastIndex, currentIndex);\n          const end = Math.max(lastIndex, currentIndex);\n          const rowKeysToCheck = [];\n          paginatedDataRef.value.slice(start, end + 1).forEach(r => {\n            if (!r.disabled) {\n              rowKeysToCheck.push(r.key);\n            }\n          });\n          if (checked) {\n            doCheck(rowKeysToCheck, false, rowInfo);\n          } else {\n            doUncheck(rowKeysToCheck, rowInfo);\n          }\n          lastSelectedKey = tmNode.key;\n          return;\n        }\n      }\n      if (checked) {\n        doCheck(tmNode.key, false, rowInfo);\n      } else {\n        doUncheck(tmNode.key, rowInfo);\n      }\n      lastSelectedKey = tmNode.key;\n    }\n    function handleRadioUpdateChecked(tmNode) {\n      const rowInfo = getRowInfo(tmNode.key);\n      if (!rowInfo) {\n        warn('data-table', `fail to get row data with key ${tmNode.key}`);\n        return;\n      }\n      doCheck(tmNode.key, true, rowInfo);\n    }\n    function getScrollContainer() {\n      if (!shouldDisplaySomeTablePartRef.value) {\n        const {\n          value: emptyEl\n        } = emptyElRef;\n        if (emptyEl) {\n          return emptyEl;\n        } else {\n          return null;\n        }\n      }\n      if (virtualScrollRef.value) {\n        return virtualListContainer();\n      }\n      const {\n        value\n      } = scrollbarInstRef;\n      if (value) return value.containerRef;\n      return null;\n    }\n    // For table row with children, tmNode is non-nullable\n    // For table row is expandable but is not tree data, tmNode is null\n    function handleUpdateExpanded(key, tmNode) {\n      var _a;\n      if (loadingKeySetRef.value.has(key)) return;\n      const {\n        value: mergedExpandedRowKeys\n      } = mergedExpandedRowKeysRef;\n      const index = mergedExpandedRowKeys.indexOf(key);\n      const nextExpandedKeys = Array.from(mergedExpandedRowKeys);\n      if (~index) {\n        nextExpandedKeys.splice(index, 1);\n        doUpdateExpandedRowKeys(nextExpandedKeys);\n      } else {\n        if (tmNode && !tmNode.isLeaf && !tmNode.shallowLoaded) {\n          loadingKeySetRef.value.add(key);\n          void ((_a = onLoadRef.value) === null || _a === void 0 ? void 0 : _a.call(onLoadRef, tmNode.rawNode).then(() => {\n            const {\n              value: futureMergedExpandedRowKeys\n            } = mergedExpandedRowKeysRef;\n            const futureNextExpandedKeys = Array.from(futureMergedExpandedRowKeys);\n            const index = futureNextExpandedKeys.indexOf(key);\n            if (!~index) {\n              futureNextExpandedKeys.push(key);\n            }\n            doUpdateExpandedRowKeys(futureNextExpandedKeys);\n          }).finally(() => {\n            loadingKeySetRef.value.delete(key);\n          }));\n        } else {\n          nextExpandedKeys.push(key);\n          doUpdateExpandedRowKeys(nextExpandedKeys);\n        }\n      }\n    }\n    function handleMouseleaveTable() {\n      hoverKeyRef.value = null;\n    }\n    function virtualListContainer() {\n      const {\n        value\n      } = virtualListRef;\n      return (value === null || value === void 0 ? void 0 : value.listElRef) || null;\n    }\n    function virtualListContent() {\n      const {\n        value\n      } = virtualListRef;\n      return (value === null || value === void 0 ? void 0 : value.itemsElRef) || null;\n    }\n    function handleVirtualListScroll(e) {\n      var _a;\n      handleTableBodyScroll(e);\n      (_a = scrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n    }\n    function handleVirtualListResize(e) {\n      var _a;\n      const {\n        onResize\n      } = props;\n      if (onResize) onResize(e);\n      (_a = scrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n    }\n    const exposedMethods = {\n      getScrollContainer,\n      scrollTo(arg0, arg1) {\n        var _a, _b;\n        if (virtualScrollRef.value) {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n          (_a = virtualListRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(arg0, arg1);\n        } else {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n          (_b = scrollbarInstRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo(arg0, arg1);\n        }\n      }\n    };\n    // manually control shadow style to avoid rerender\n    const style = c([({\n      props: cProps\n    }) => {\n      const createActiveLeftFixedStyle = leftActiveFixedColKey => {\n        if (leftActiveFixedColKey === null) return null;\n        return c(`[data-n-id=\"${cProps.componentId}\"] [data-col-key=\"${leftActiveFixedColKey}\"]::after`, {\n          boxShadow: 'var(--n-box-shadow-after)'\n        });\n      };\n      const createActiveRightFixedStyle = rightActiveFixedColKey => {\n        if (rightActiveFixedColKey === null) return null;\n        return c(`[data-n-id=\"${cProps.componentId}\"] [data-col-key=\"${rightActiveFixedColKey}\"]::before`, {\n          boxShadow: 'var(--n-box-shadow-before)'\n        });\n      };\n      return c([createActiveLeftFixedStyle(cProps.leftActiveFixedColKey), createActiveRightFixedStyle(cProps.rightActiveFixedColKey), cProps.leftActiveFixedChildrenColKeys.map(leftActiveFixedColKey => createActiveLeftFixedStyle(leftActiveFixedColKey)), cProps.rightActiveFixedChildrenColKeys.map(rightActiveFixedColKey => createActiveRightFixedStyle(rightActiveFixedColKey))]);\n    }]);\n    let fixedStyleMounted = false;\n    watchEffect(() => {\n      const {\n        value: leftActiveFixedColKey\n      } = leftActiveFixedColKeyRef;\n      const {\n        value: leftActiveFixedChildrenColKeys\n      } = leftActiveFixedChildrenColKeysRef;\n      const {\n        value: rightActiveFixedColKey\n      } = rightActiveFixedColKeyRef;\n      const {\n        value: rightActiveFixedChildrenColKeys\n      } = rightActiveFixedChildrenColKeysRef;\n      if (!fixedStyleMounted && leftActiveFixedColKey === null && rightActiveFixedColKey === null) {\n        return;\n      }\n      const cProps = {\n        leftActiveFixedColKey,\n        leftActiveFixedChildrenColKeys,\n        rightActiveFixedColKey,\n        rightActiveFixedChildrenColKeys,\n        componentId\n      };\n      style.mount({\n        id: `n-${componentId}`,\n        force: true,\n        props: cProps,\n        anchorMetaName: cssrAnchorMetaName\n      });\n      fixedStyleMounted = true;\n    });\n    onUnmounted(() => {\n      style.unmount({\n        id: `n-${componentId}`\n      });\n    });\n    return Object.assign({\n      bodyWidth: bodyWidthRef,\n      summaryPlacement: summaryPlacementRef,\n      dataTableSlots,\n      componentId,\n      scrollbarInstRef,\n      virtualListRef,\n      emptyElRef,\n      summary: summaryRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedTheme: mergedThemeRef,\n      scrollX: scrollXRef,\n      cols: colsRef,\n      loading: loadingRef,\n      bodyShowHeaderOnly: bodyShowHeaderOnlyRef,\n      shouldDisplaySomeTablePart: shouldDisplaySomeTablePartRef,\n      empty: emptyRef,\n      paginatedDataAndInfo: computed(() => {\n        const {\n          value: striped\n        } = stripedRef;\n        let hasChildren = false;\n        const data = paginatedDataRef.value.map(striped ? (tmNode, index) => {\n          if (!tmNode.isLeaf) hasChildren = true;\n          return {\n            tmNode,\n            key: tmNode.key,\n            striped: index % 2 === 1,\n            index\n          };\n        } : (tmNode, index) => {\n          if (!tmNode.isLeaf) hasChildren = true;\n          return {\n            tmNode,\n            key: tmNode.key,\n            striped: false,\n            index\n          };\n        });\n        return {\n          data,\n          hasChildren\n        };\n      }),\n      rawPaginatedData: rawPaginatedDataRef,\n      fixedColumnLeftMap: fixedColumnLeftMapRef,\n      fixedColumnRightMap: fixedColumnRightMapRef,\n      currentPage: mergedCurrentPageRef,\n      rowClassName: rowClassNameRef,\n      renderExpand: renderExpandRef,\n      mergedExpandedRowKeySet: mergedExpandedRowKeySetRef,\n      hoverKey: hoverKeyRef,\n      mergedSortState: mergedSortStateRef,\n      virtualScroll: virtualScrollRef,\n      mergedTableLayout: mergedTableLayoutRef,\n      childTriggerColIndex: childTriggerColIndexRef,\n      indent: indentRef,\n      rowProps: rowPropsRef,\n      maxHeight: maxHeightRef,\n      loadingKeySet: loadingKeySetRef,\n      expandable: expandableRef,\n      stickyExpandedRows: stickyExpandedRowsRef,\n      renderExpandIcon: renderExpandIconRef,\n      scrollbarProps: scrollbarPropsRef,\n      setHeaderScrollLeft,\n      handleVirtualListScroll,\n      handleVirtualListResize,\n      handleMouseleaveTable,\n      virtualListContainer,\n      virtualListContent,\n      handleTableBodyScroll,\n      handleCheckboxUpdateChecked,\n      handleRadioUpdateChecked,\n      handleUpdateExpanded,\n      renderCell\n    }, exposedMethods);\n  },\n  render() {\n    const {\n      mergedTheme,\n      scrollX,\n      mergedClsPrefix,\n      virtualScroll,\n      maxHeight,\n      mergedTableLayout,\n      flexHeight,\n      loadingKeySet,\n      onResize,\n      setHeaderScrollLeft\n    } = this;\n    const scrollable = scrollX !== undefined || maxHeight !== undefined || flexHeight;\n    // For a basic table with auto layout whose content may overflow we will\n    // make it scrollable, which differs from browser's native behavior.\n    // For native behavior, see\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/table-layout\n    const isBasicAutoLayout = !scrollable && mergedTableLayout === 'auto';\n    const xScrollable = scrollX !== undefined || isBasicAutoLayout;\n    const contentStyle = {\n      minWidth: formatLength(scrollX) || '100%'\n    };\n    if (scrollX) contentStyle.width = '100%';\n    const tableNode = h(NScrollbar, Object.assign({}, this.scrollbarProps, {\n      ref: \"scrollbarInstRef\",\n      scrollable: scrollable || isBasicAutoLayout,\n      class: `${mergedClsPrefix}-data-table-base-table-body`,\n      style: !this.empty ? this.bodyStyle : undefined,\n      theme: mergedTheme.peers.Scrollbar,\n      themeOverrides: mergedTheme.peerOverrides.Scrollbar,\n      contentStyle: contentStyle,\n      container: virtualScroll ? this.virtualListContainer : undefined,\n      content: virtualScroll ? this.virtualListContent : undefined,\n      horizontalRailStyle: {\n        zIndex: 3\n      },\n      verticalRailStyle: {\n        zIndex: 3\n      },\n      xScrollable: xScrollable,\n      onScroll: virtualScroll ? undefined : this.handleTableBodyScroll,\n      internalOnUpdateScrollLeft: setHeaderScrollLeft,\n      onResize: onResize\n    }), {\n      default: () => {\n        // coordinate to pass if there are cells that cross row & col\n        const cordToPass = {};\n        // coordinate to related hover keys\n        const cordKey = {};\n        const {\n          cols,\n          paginatedDataAndInfo,\n          mergedTheme,\n          fixedColumnLeftMap,\n          fixedColumnRightMap,\n          currentPage,\n          rowClassName,\n          mergedSortState,\n          mergedExpandedRowKeySet,\n          stickyExpandedRows,\n          componentId,\n          childTriggerColIndex,\n          expandable,\n          rowProps,\n          handleMouseleaveTable,\n          renderExpand,\n          summary,\n          handleCheckboxUpdateChecked,\n          handleRadioUpdateChecked,\n          handleUpdateExpanded\n        } = this;\n        const {\n          length: colCount\n        } = cols;\n        let mergedData;\n        // if there is children in data, we should expand mergedData first\n        const {\n          data: paginatedData,\n          hasChildren\n        } = paginatedDataAndInfo;\n        const mergedPaginationData = hasChildren ? flatten(paginatedData, mergedExpandedRowKeySet) : paginatedData;\n        if (summary) {\n          const summaryRows = summary(this.rawPaginatedData);\n          if (Array.isArray(summaryRows)) {\n            const summaryRowData = summaryRows.map((row, i) => ({\n              isSummaryRow: true,\n              key: `__n_summary__${i}`,\n              tmNode: {\n                rawNode: row,\n                disabled: true\n              },\n              index: -1\n            }));\n            mergedData = this.summaryPlacement === 'top' ? [...summaryRowData, ...mergedPaginationData] : [...mergedPaginationData, ...summaryRowData];\n          } else {\n            const summaryRowData = {\n              isSummaryRow: true,\n              key: '__n_summary__',\n              tmNode: {\n                rawNode: summaryRows,\n                disabled: true\n              },\n              index: -1\n            };\n            mergedData = this.summaryPlacement === 'top' ? [summaryRowData, ...mergedPaginationData] : [...mergedPaginationData, summaryRowData];\n          }\n        } else {\n          mergedData = mergedPaginationData;\n        }\n        const indentStyle = hasChildren ? {\n          width: pxfy(this.indent)\n        } : undefined;\n        // Tile the data of the expanded row\n        const displayedData = [];\n        mergedData.forEach(rowInfo => {\n          if (renderExpand && mergedExpandedRowKeySet.has(rowInfo.key) && (!expandable || expandable(rowInfo.tmNode.rawNode))) {\n            displayedData.push(rowInfo, {\n              isExpandedRow: true,\n              key: `${rowInfo.key}-expand`,\n              // solve key repeat of the expanded row\n              tmNode: rowInfo.tmNode,\n              index: rowInfo.index\n            });\n          } else {\n            displayedData.push(rowInfo);\n          }\n        });\n        const {\n          length: rowCount\n        } = displayedData;\n        const rowIndexToKey = {};\n        paginatedData.forEach(({\n          tmNode\n        }, rowIndex) => {\n          rowIndexToKey[rowIndex] = tmNode.key;\n        });\n        const bodyWidth = stickyExpandedRows ? this.bodyWidth : null;\n        const bodyWidthPx = bodyWidth === null ? undefined : `${bodyWidth}px`;\n        const renderRow = (rowInfo, displayedRowIndex, isVirtual) => {\n          const {\n            index: actualRowIndex\n          } = rowInfo;\n          if ('isExpandedRow' in rowInfo) {\n            const {\n              tmNode: {\n                key,\n                rawNode\n              }\n            } = rowInfo;\n            return h(\"tr\", {\n              class: `${mergedClsPrefix}-data-table-tr ${mergedClsPrefix}-data-table-tr--expanded`,\n              key: `${key}__expand`\n            }, h(\"td\", {\n              class: [`${mergedClsPrefix}-data-table-td`, `${mergedClsPrefix}-data-table-td--last-col`, displayedRowIndex + 1 === rowCount && `${mergedClsPrefix}-data-table-td--last-row`],\n              colspan: colCount\n            }, stickyExpandedRows ? h(\"div\", {\n              class: `${mergedClsPrefix}-data-table-expand`,\n              style: {\n                width: bodyWidthPx\n              }\n            }, renderExpand(rawNode, actualRowIndex)) : renderExpand(rawNode, actualRowIndex)));\n          }\n          const isSummary = ('isSummaryRow' in rowInfo);\n          const striped = !isSummary && rowInfo.striped;\n          const {\n            tmNode,\n            key: rowKey\n          } = rowInfo;\n          const {\n            rawNode: rowData\n          } = tmNode;\n          const expanded = mergedExpandedRowKeySet.has(rowKey);\n          const props = rowProps ? rowProps(rowData, actualRowIndex) : undefined;\n          const mergedRowClassName = typeof rowClassName === 'string' ? rowClassName : createRowClassName(rowData, actualRowIndex, rowClassName);\n          const row = h(\"tr\", Object.assign({\n            onMouseenter: () => {\n              this.hoverKey = rowKey;\n            },\n            key: rowKey,\n            class: [`${mergedClsPrefix}-data-table-tr`, isSummary && `${mergedClsPrefix}-data-table-tr--summary`, striped && `${mergedClsPrefix}-data-table-tr--striped`, expanded && `${mergedClsPrefix}-data-table-tr--expanded`, mergedRowClassName]\n          }, props), cols.map((col, colIndex) => {\n            var _a, _b, _c, _d, _e;\n            if (displayedRowIndex in cordToPass) {\n              const cordOfRowToPass = cordToPass[displayedRowIndex];\n              const indexInCordOfRowToPass = cordOfRowToPass.indexOf(colIndex);\n              if (~indexInCordOfRowToPass) {\n                cordOfRowToPass.splice(indexInCordOfRowToPass, 1);\n                return null;\n              }\n            }\n            // TODO: Simplify row calculation\n            const {\n              column\n            } = col;\n            const colKey = getColKey(col);\n            const {\n              rowSpan,\n              colSpan\n            } = column;\n            const mergedColSpan = isSummary ? ((_a = rowInfo.tmNode.rawNode[colKey]) === null || _a === void 0 ? void 0 : _a.colSpan) || 1 // optional for #1276\n            : colSpan ? colSpan(rowData, actualRowIndex) : 1;\n            const mergedRowSpan = isSummary ? ((_b = rowInfo.tmNode.rawNode[colKey]) === null || _b === void 0 ? void 0 : _b.rowSpan) || 1 // optional for #1276\n            : rowSpan ? rowSpan(rowData, actualRowIndex) : 1;\n            const isLastCol = colIndex + mergedColSpan === colCount;\n            const isLastRow = displayedRowIndex + mergedRowSpan === rowCount;\n            const isCrossRowTd = mergedRowSpan > 1;\n            if (isCrossRowTd) {\n              cordKey[displayedRowIndex] = {\n                [colIndex]: []\n              };\n            }\n            if (mergedColSpan > 1 || isCrossRowTd) {\n              for (let i = displayedRowIndex; i < displayedRowIndex + mergedRowSpan; ++i) {\n                if (isCrossRowTd) {\n                  cordKey[displayedRowIndex][colIndex].push(rowIndexToKey[i]);\n                }\n                for (let j = colIndex; j < colIndex + mergedColSpan; ++j) {\n                  if (i === displayedRowIndex && j === colIndex) {\n                    continue;\n                  }\n                  if (!(i in cordToPass)) {\n                    cordToPass[i] = [j];\n                  } else {\n                    cordToPass[i].push(j);\n                  }\n                }\n              }\n            }\n            const hoverKey = isCrossRowTd ? this.hoverKey : null;\n            const {\n              cellProps\n            } = column;\n            const resolvedCellProps = cellProps === null || cellProps === void 0 ? void 0 : cellProps(rowData, actualRowIndex);\n            const indentOffsetStyle = {\n              '--indent-offset': ''\n            };\n            return h(\"td\", Object.assign({}, resolvedCellProps, {\n              key: colKey,\n              style: [{\n                textAlign: column.align || undefined,\n                left: pxfy((_c = fixedColumnLeftMap[colKey]) === null || _c === void 0 ? void 0 : _c.start),\n                right: pxfy((_d = fixedColumnRightMap[colKey]) === null || _d === void 0 ? void 0 : _d.start)\n              }, indentOffsetStyle, (resolvedCellProps === null || resolvedCellProps === void 0 ? void 0 : resolvedCellProps.style) || ''],\n              colspan: mergedColSpan,\n              rowspan: isVirtual ? undefined : mergedRowSpan,\n              \"data-col-key\": colKey,\n              class: [`${mergedClsPrefix}-data-table-td`, column.className, resolvedCellProps === null || resolvedCellProps === void 0 ? void 0 : resolvedCellProps.class, isSummary && `${mergedClsPrefix}-data-table-td--summary`, (hoverKey !== null && cordKey[displayedRowIndex][colIndex].includes(hoverKey) || isColumnSorting(column, mergedSortState)) && `${mergedClsPrefix}-data-table-td--hover`, column.fixed && `${mergedClsPrefix}-data-table-td--fixed-${column.fixed}`, column.align && `${mergedClsPrefix}-data-table-td--${column.align}-align`, column.type === 'selection' && `${mergedClsPrefix}-data-table-td--selection`, column.type === 'expand' && `${mergedClsPrefix}-data-table-td--expand`, isLastCol && `${mergedClsPrefix}-data-table-td--last-col`, isLastRow && `${mergedClsPrefix}-data-table-td--last-row`]\n            }), hasChildren && colIndex === childTriggerColIndex ? [repeat(indentOffsetStyle['--indent-offset'] = isSummary ? 0 : rowInfo.tmNode.level, h(\"div\", {\n              class: `${mergedClsPrefix}-data-table-indent`,\n              style: indentStyle\n            })), isSummary || rowInfo.tmNode.isLeaf ? h(\"div\", {\n              class: `${mergedClsPrefix}-data-table-expand-placeholder`\n            }) : h(ExpandTrigger, {\n              class: `${mergedClsPrefix}-data-table-expand-trigger`,\n              clsPrefix: mergedClsPrefix,\n              expanded: expanded,\n              renderExpandIcon: this.renderExpandIcon,\n              loading: loadingKeySet.has(rowInfo.key),\n              onClick: () => {\n                handleUpdateExpanded(rowKey, rowInfo.tmNode);\n              }\n            })] : null, column.type === 'selection' ? !isSummary ? column.multiple === false ? h(RenderSafeRadio, {\n              key: currentPage,\n              rowKey: rowKey,\n              disabled: rowInfo.tmNode.disabled,\n              onUpdateChecked: () => {\n                handleRadioUpdateChecked(rowInfo.tmNode);\n              }\n            }) : h(RenderSafeCheckbox, {\n              key: currentPage,\n              rowKey: rowKey,\n              disabled: rowInfo.tmNode.disabled,\n              onUpdateChecked: (checked, e) => {\n                handleCheckboxUpdateChecked(rowInfo.tmNode, checked, e.shiftKey);\n              }\n            }) : null : column.type === 'expand' ? !isSummary ? !column.expandable || ((_e = column.expandable) === null || _e === void 0 ? void 0 : _e.call(column, rowData)) ? h(ExpandTrigger, {\n              clsPrefix: mergedClsPrefix,\n              expanded: expanded,\n              renderExpandIcon: this.renderExpandIcon,\n              onClick: () => {\n                handleUpdateExpanded(rowKey, null);\n              }\n            }) : null : null : h(Cell, {\n              clsPrefix: mergedClsPrefix,\n              index: actualRowIndex,\n              row: rowData,\n              column: column,\n              isSummary: isSummary,\n              mergedTheme: mergedTheme,\n              renderCell: this.renderCell\n            }));\n          }));\n          return row;\n        };\n        if (!virtualScroll) {\n          return h(\"table\", {\n            class: `${mergedClsPrefix}-data-table-table`,\n            onMouseleave: handleMouseleaveTable,\n            style: {\n              tableLayout: this.mergedTableLayout\n            }\n          }, h(\"colgroup\", null, cols.map(col => h(\"col\", {\n            key: col.key,\n            style: col.style\n          }))), this.showHeader ? h(TableHeader, {\n            discrete: false\n          }) : null, !this.empty ? h(\"tbody\", {\n            \"data-n-id\": componentId,\n            class: `${mergedClsPrefix}-data-table-tbody`\n          }, displayedData.map((rowInfo, displayedRowIndex) => {\n            return renderRow(rowInfo, displayedRowIndex, false);\n          })) : null);\n        } else {\n          return h(VirtualList, {\n            ref: \"virtualListRef\",\n            items: displayedData,\n            itemSize: 28,\n            visibleItemsTag: VirtualListItemWrapper,\n            visibleItemsProps: {\n              clsPrefix: mergedClsPrefix,\n              id: componentId,\n              cols,\n              onMouseleave: handleMouseleaveTable\n            },\n            showScrollbar: false,\n            onResize: this.handleVirtualListResize,\n            onScroll: this.handleVirtualListScroll,\n            itemsStyle: contentStyle,\n            itemResizable: true\n          }, {\n            default: ({\n              item,\n              index\n            }) => renderRow(item, index, true)\n          });\n        }\n      }\n    });\n    if (this.empty) {\n      const createEmptyNode = () => h(\"div\", {\n        class: [`${mergedClsPrefix}-data-table-empty`, this.loading && `${mergedClsPrefix}-data-table-empty--hide`],\n        style: this.bodyStyle,\n        ref: \"emptyElRef\"\n      }, resolveSlot(this.dataTableSlots.empty, () => [h(NEmpty, {\n        theme: this.mergedTheme.peers.Empty,\n        themeOverrides: this.mergedTheme.peerOverrides.Empty\n      })]));\n      if (this.shouldDisplaySomeTablePart) {\n        return h(Fragment, null, tableNode, createEmptyNode());\n      } else {\n        return h(VResizeObserver, {\n          onResize: this.onResize\n        }, {\n          default: createEmptyNode\n        });\n      }\n    }\n    return tableNode;\n  }\n});","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, ref, defineComponent, inject, computed, watchEffect } from 'vue';\nimport { formatLength } from \"../../_utils/index.mjs\";\nimport TableHeader from \"./TableParts/Header.mjs\";\nimport TableBody from \"./TableParts/Body.mjs\";\nimport { dataTableInjectionKey } from \"./interface.mjs\";\nexport default defineComponent({\n  name: 'MainTable',\n  setup() {\n    const {\n      mergedClsPrefixRef,\n      rightFixedColumnsRef,\n      leftFixedColumnsRef,\n      bodyWidthRef,\n      maxHeightRef,\n      minHeightRef,\n      flexHeightRef,\n      syncScrollState\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(dataTableInjectionKey);\n    const headerInstRef = ref(null);\n    const bodyInstRef = ref(null);\n    const selfElRef = ref(null);\n    const fixedStateInitializedRef = ref(!(leftFixedColumnsRef.value.length || rightFixedColumnsRef.value.length));\n    const bodyStyleRef = computed(() => {\n      return {\n        maxHeight: formatLength(maxHeightRef.value),\n        minHeight: formatLength(minHeightRef.value)\n      };\n    });\n    function handleBodyResize(entry) {\n      bodyWidthRef.value = entry.contentRect.width;\n      syncScrollState();\n      if (!fixedStateInitializedRef.value) {\n        fixedStateInitializedRef.value = true;\n      }\n    }\n    function getHeaderElement() {\n      const {\n        value\n      } = headerInstRef;\n      if (value) {\n        return value.$el;\n      }\n      return null;\n    }\n    function getBodyElement() {\n      const {\n        value\n      } = bodyInstRef;\n      if (value) {\n        return value.getScrollContainer();\n      }\n      return null;\n    }\n    const exposedMethods = {\n      getBodyElement,\n      getHeaderElement,\n      scrollTo(arg0, arg1) {\n        var _a;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        (_a = bodyInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(arg0, arg1);\n      }\n    };\n    watchEffect(() => {\n      const {\n        value: selfEl\n      } = selfElRef;\n      if (!selfEl) return;\n      const transitionDisabledClass = `${mergedClsPrefixRef.value}-data-table-base-table--transition-disabled`;\n      if (fixedStateInitializedRef.value) {\n        setTimeout(() => {\n          selfEl.classList.remove(transitionDisabledClass);\n        }, 0);\n      } else {\n        selfEl.classList.add(transitionDisabledClass);\n      }\n    });\n    return Object.assign({\n      maxHeight: maxHeightRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      selfElRef,\n      headerInstRef,\n      bodyInstRef,\n      bodyStyle: bodyStyleRef,\n      flexHeight: flexHeightRef,\n      handleBodyResize\n    }, exposedMethods);\n  },\n  render() {\n    const {\n      mergedClsPrefix,\n      maxHeight,\n      flexHeight\n    } = this;\n    const headerInBody = maxHeight === undefined && !flexHeight;\n    return h(\"div\", {\n      class: `${mergedClsPrefix}-data-table-base-table`,\n      ref: \"selfElRef\"\n    }, headerInBody ? null : h(TableHeader, {\n      ref: \"headerInstRef\"\n    }), h(TableBody, {\n      ref: \"bodyInstRef\",\n      bodyStyle: this.bodyStyle,\n      showHeader: headerInBody,\n      flexHeight: flexHeight,\n      onResize: this.handleBodyResize\n    }));\n  }\n});","import { computed, ref } from 'vue';\nimport { call } from \"../../_utils/index.mjs\";\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function useCheck(props, data) {\n  const {\n    paginatedDataRef,\n    treeMateRef,\n    selectionColumnRef\n  } = data;\n  const uncontrolledCheckedRowKeysRef = ref(props.defaultCheckedRowKeys);\n  const mergedCheckState = computed(() => {\n    var _a;\n    const {\n      checkedRowKeys\n    } = props;\n    const sourceKeys = checkedRowKeys === undefined ? uncontrolledCheckedRowKeysRef.value : checkedRowKeys;\n    if (((_a = selectionColumnRef.value) === null || _a === void 0 ? void 0 : _a.multiple) === false) {\n      return {\n        checkedKeys: sourceKeys.slice(0, 1),\n        indeterminateKeys: []\n      };\n    }\n    return treeMateRef.value.getCheckedKeys(sourceKeys, {\n      cascade: props.cascade,\n      allowNotLoaded: props.allowCheckingNotLoaded\n    });\n  });\n  const mergedCheckedRowKeysRef = computed(() => mergedCheckState.value.checkedKeys);\n  const mergedInderminateRowKeysRef = computed(() => mergedCheckState.value.indeterminateKeys);\n  const mergedCheckedRowKeySetRef = computed(() => {\n    return new Set(mergedCheckedRowKeysRef.value);\n  });\n  const mergedInderminateRowKeySetRef = computed(() => {\n    return new Set(mergedInderminateRowKeysRef.value);\n  });\n  const countOfCurrentPageCheckedRowsRef = computed(() => {\n    const {\n      value: mergedCheckedRowKeySet\n    } = mergedCheckedRowKeySetRef;\n    return paginatedDataRef.value.reduce((total, tmNode) => {\n      const {\n        key,\n        disabled\n      } = tmNode;\n      return total + (!disabled && mergedCheckedRowKeySet.has(key) ? 1 : 0);\n    }, 0);\n  });\n  const countOfCurrentPageDisabledRowsRef = computed(() => {\n    return paginatedDataRef.value.filter(item => item.disabled).length;\n  });\n  const someRowsCheckedRef = computed(() => {\n    const {\n      length\n    } = paginatedDataRef.value;\n    const {\n      value: mergedInderminateRowKeySet\n    } = mergedInderminateRowKeySetRef;\n    return countOfCurrentPageCheckedRowsRef.value > 0 && countOfCurrentPageCheckedRowsRef.value < length - countOfCurrentPageDisabledRowsRef.value || paginatedDataRef.value.some(rowData => mergedInderminateRowKeySet.has(rowData.key));\n  });\n  const allRowsCheckedRef = computed(() => {\n    const {\n      length\n    } = paginatedDataRef.value;\n    return countOfCurrentPageCheckedRowsRef.value !== 0 && countOfCurrentPageCheckedRowsRef.value === length - countOfCurrentPageDisabledRowsRef.value;\n  });\n  const headerCheckboxDisabledRef = computed(() => {\n    return paginatedDataRef.value.length === 0;\n  });\n  function doUpdateCheckedRowKeys(keys, row, action) {\n    const {\n      'onUpdate:checkedRowKeys': _onUpdateCheckedRowKeys,\n      onUpdateCheckedRowKeys,\n      onCheckedRowKeysChange\n    } = props;\n    const rows = [];\n    const {\n      value: {\n        getNode\n      }\n    } = treeMateRef;\n    keys.forEach(key => {\n      var _a;\n      const row = (_a = getNode(key)) === null || _a === void 0 ? void 0 : _a.rawNode;\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      rows.push(row);\n    });\n    if (_onUpdateCheckedRowKeys) {\n      call(_onUpdateCheckedRowKeys, keys, rows, {\n        row,\n        action\n      });\n    }\n    if (onUpdateCheckedRowKeys) {\n      call(onUpdateCheckedRowKeys, keys, rows, {\n        row,\n        action\n      });\n    }\n    if (onCheckedRowKeysChange) {\n      call(onCheckedRowKeysChange, keys, rows, {\n        row,\n        action\n      });\n    }\n    uncontrolledCheckedRowKeysRef.value = keys;\n  }\n  function doCheck(rowKey, single = false, rowInfo) {\n    if (props.loading) return;\n    if (single) {\n      doUpdateCheckedRowKeys(Array.isArray(rowKey) ? rowKey.slice(0, 1) : [rowKey], rowInfo, 'check');\n      return;\n    }\n    doUpdateCheckedRowKeys(treeMateRef.value.check(rowKey, mergedCheckedRowKeysRef.value, {\n      cascade: props.cascade,\n      allowNotLoaded: props.allowCheckingNotLoaded\n    }).checkedKeys, rowInfo, 'check');\n  }\n  function doUncheck(rowKey, rowInfo) {\n    if (props.loading) return;\n    doUpdateCheckedRowKeys(treeMateRef.value.uncheck(rowKey, mergedCheckedRowKeysRef.value, {\n      cascade: props.cascade,\n      allowNotLoaded: props.allowCheckingNotLoaded\n    }).checkedKeys, rowInfo, 'uncheck');\n  }\n  function doCheckAll(checkWholeTable = false) {\n    const {\n      value: column\n    } = selectionColumnRef;\n    if (!column || props.loading) return;\n    const rowKeysToCheck = [];\n    (checkWholeTable ? treeMateRef.value.treeNodes : paginatedDataRef.value).forEach(tmNode => {\n      if (!tmNode.disabled) {\n        rowKeysToCheck.push(tmNode.key);\n      }\n    });\n    // alway cascade, to emit correct row keys\n    doUpdateCheckedRowKeys(treeMateRef.value.check(rowKeysToCheck, mergedCheckedRowKeysRef.value, {\n      cascade: true,\n      allowNotLoaded: props.allowCheckingNotLoaded\n    }).checkedKeys, undefined, 'checkAll');\n  }\n  function doUncheckAll(checkWholeTable = false) {\n    const {\n      value: column\n    } = selectionColumnRef;\n    if (!column || props.loading) return;\n    const rowKeysToUncheck = [];\n    (checkWholeTable ? treeMateRef.value.treeNodes : paginatedDataRef.value).forEach(tmNode => {\n      if (!tmNode.disabled) {\n        rowKeysToUncheck.push(tmNode.key);\n      }\n    });\n    // alway cascade, to emit correct row keys\n    doUpdateCheckedRowKeys(treeMateRef.value.uncheck(rowKeysToUncheck, mergedCheckedRowKeysRef.value, {\n      cascade: true,\n      allowNotLoaded: props.allowCheckingNotLoaded\n    }).checkedKeys, undefined, 'uncheckAll');\n  }\n  return {\n    mergedCheckedRowKeySetRef,\n    mergedCheckedRowKeysRef,\n    mergedInderminateRowKeySetRef,\n    someRowsCheckedRef,\n    allRowsCheckedRef,\n    headerCheckboxDisabledRef,\n    doUpdateCheckedRowKeys,\n    doCheckAll,\n    doUncheckAll,\n    doCheck,\n    doUncheck\n  };\n}","import { computed, ref } from 'vue';\nimport { call } from \"../../_utils/index.mjs\";\nimport { getFlagOfOrder } from \"./utils.mjs\";\nfunction getMultiplePriority(sorter) {\n  if (typeof sorter === 'object' && typeof sorter.multiple === 'number') {\n    return sorter.multiple;\n  }\n  return false;\n}\nfunction getSortFunction(sorter, columnKey) {\n  if (columnKey && (sorter === undefined || sorter === 'default' || typeof sorter === 'object' && sorter.compare === 'default')) {\n    return getDefaultSorterFn(columnKey);\n  }\n  if (typeof sorter === 'function') {\n    return sorter;\n  }\n  if (sorter && typeof sorter === 'object' && sorter.compare && sorter.compare !== 'default') {\n    return sorter.compare;\n  }\n  return false;\n}\nfunction getDefaultSorterFn(columnKey) {\n  return (row1, row2) => {\n    const value1 = row1[columnKey];\n    const value2 = row2[columnKey];\n    if (value1 === null || value1 === undefined) {\n      if (value2 === null || value2 === undefined) return 0;\n      return -1;\n    } else if (value2 === null || value2 === undefined) {\n      return 1;\n    } else if (typeof value1 === 'number' && typeof value2 === 'number') {\n      return value1 - value2;\n    } else if (typeof value1 === 'string' && typeof value2 === 'string') {\n      return value1.localeCompare(value2);\n    }\n    return 0;\n  };\n}\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function useSorter(props, {\n  dataRelatedColsRef,\n  filteredDataRef\n}) {\n  const defaultSortState = [];\n  // initialize\n  dataRelatedColsRef.value.forEach(column => {\n    var _a;\n    if (column.sorter !== undefined) {\n      updateSortStatesByNewSortState(defaultSortState, {\n        columnKey: column.key,\n        sorter: column.sorter,\n        order: (_a = column.defaultSortOrder) !== null && _a !== void 0 ? _a : false\n      });\n    }\n  });\n  const uncontrolledSortStateRef = ref(defaultSortState);\n  const mergedSortStateRef = computed(() => {\n    // If one of the columns's sort order is false or 'ascend' or 'descend',\n    // the table's controll functionality should work in controlled manner.\n    const columnsWithControlledSortOrder = dataRelatedColsRef.value.filter(column => column.type !== 'selection' && column.sorter !== undefined && (column.sortOrder === 'ascend' || column.sortOrder === 'descend' || column.sortOrder === false));\n    // if multiple columns are controlled sortable, then we need to find columns with active sortOrder\n    const columnToSort = columnsWithControlledSortOrder.filter(col => col.sortOrder !== false);\n    if (columnToSort.length) {\n      return columnToSort.map(column => {\n        return {\n          columnKey: column.key,\n          // column to sort has controlled sorter\n          // sorter && sort order won't be undefined\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          order: column.sortOrder,\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          sorter: column.sorter\n        };\n      });\n    }\n    // If any column is in controlled mode, the sorting state of the table is\n    // in controlled mode\n    if (columnsWithControlledSortOrder.length) return [];\n    const {\n      value: uncontrolledSortState\n    } = uncontrolledSortStateRef;\n    if (Array.isArray(uncontrolledSortState)) {\n      return uncontrolledSortState;\n    } else if (uncontrolledSortState) {\n      return [uncontrolledSortState];\n    } else {\n      return [];\n    }\n  });\n  const sortedDataRef = computed(() => {\n    const activeSorters = mergedSortStateRef.value.slice().sort((a, b) => {\n      const item1Priority = getMultiplePriority(a.sorter) || 0;\n      const item2Priority = getMultiplePriority(b.sorter) || 0;\n      return item2Priority - item1Priority;\n    });\n    if (activeSorters.length) {\n      const filteredData = filteredDataRef.value.slice();\n      return filteredData.sort((tmNode1, tmNode2) => {\n        let compareResult = 0;\n        activeSorters.some(sorterState => {\n          const {\n            columnKey,\n            sorter,\n            order\n          } = sorterState;\n          const compareFn = getSortFunction(sorter, columnKey);\n          if (compareFn && order) {\n            compareResult = compareFn(tmNode1.rawNode, tmNode2.rawNode);\n            if (compareResult !== 0) {\n              compareResult = compareResult * getFlagOfOrder(order);\n              return true;\n            }\n          }\n          return false;\n        });\n        return compareResult;\n      });\n    }\n    return filteredDataRef.value;\n  });\n  function getUpdatedSorterState(sortState) {\n    let currentSortState = mergedSortStateRef.value.slice();\n    // Multiple sorter (if you clicked on a multiple sort column)\n    if (sortState && getMultiplePriority(sortState.sorter) !== false) {\n      // clear column is not multiple sort\n      currentSortState = currentSortState.filter(sortState => getMultiplePriority(sortState.sorter) !== false);\n      updateSortStatesByNewSortState(currentSortState, sortState);\n      return currentSortState;\n    } else if (sortState) {\n      // single sorter\n      return sortState;\n    }\n    // no sorter\n    return null;\n  }\n  function deriveNextSorter(sortState) {\n    const nextSorterState = getUpdatedSorterState(sortState);\n    doUpdateSorter(nextSorterState);\n  }\n  function doUpdateSorter(sortState) {\n    const {\n      'onUpdate:sorter': _onUpdateSorter,\n      onUpdateSorter,\n      onSorterChange\n    } = props;\n    if (_onUpdateSorter) {\n      call(_onUpdateSorter, sortState);\n    }\n    if (onUpdateSorter) {\n      call(onUpdateSorter, sortState);\n    }\n    if (onSorterChange) {\n      call(onSorterChange, sortState);\n    }\n    uncontrolledSortStateRef.value = sortState;\n  }\n  function sort(columnKey, order = 'ascend') {\n    if (!columnKey) {\n      clearSorter();\n    } else {\n      const columnToSort = dataRelatedColsRef.value.find(column => column.type !== 'selection' && column.type !== 'expand' && column.key === columnKey);\n      if (!(columnToSort === null || columnToSort === void 0 ? void 0 : columnToSort.sorter)) return;\n      const sorter = columnToSort.sorter;\n      deriveNextSorter({\n        columnKey,\n        sorter,\n        order\n      });\n    }\n  }\n  function clearSorter() {\n    doUpdateSorter(null);\n  }\n  function updateSortStatesByNewSortState(sortStates, sortState) {\n    const index = sortStates.findIndex(state => (sortState === null || sortState === void 0 ? void 0 : sortState.columnKey) && state.columnKey === sortState.columnKey);\n    if (index !== undefined && index >= 0) {\n      sortStates[index] = sortState;\n    } else {\n      sortStates.push(sortState);\n    }\n  }\n  return {\n    clearSorter,\n    sort,\n    sortedDataRef,\n    mergedSortStateRef,\n    deriveNextSorter\n  };\n}","import { computed, ref } from 'vue';\nimport { useMemo, useMergedState } from 'vooks';\nimport { createTreeMate } from 'treemate';\nimport { call, warn } from \"../../_utils/index.mjs\";\nimport { createShallowClonedObject } from \"./utils.mjs\";\nimport { useSorter } from \"./use-sorter.mjs\";\nimport { getDefaultPageSize } from \"../../pagination/src/utils.mjs\";\n// useTableData combines filter, sorter and pagination\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function useTableData(props, {\n  dataRelatedColsRef\n}) {\n  const selectionColumnRef = computed(() => {\n    const getSelectionColumn = cols => {\n      for (let i = 0; i < cols.length; ++i) {\n        const col = cols[i];\n        if ('children' in col) {\n          return getSelectionColumn(col.children);\n        } else if (col.type === 'selection') {\n          return col;\n        }\n      }\n      return null;\n    };\n    return getSelectionColumn(props.columns);\n  });\n  const treeMateRef = computed(() => {\n    const {\n      childrenKey\n    } = props;\n    return createTreeMate(props.data, {\n      ignoreEmptyChildren: true,\n      getKey: props.rowKey,\n      getChildren: rowData => rowData[childrenKey],\n      getDisabled: rowData => {\n        var _a, _b;\n        if ((_b = (_a = selectionColumnRef.value) === null || _a === void 0 ? void 0 : _a.disabled) === null || _b === void 0 ? void 0 : _b.call(_a, rowData)) {\n          return true;\n        }\n        return false;\n      }\n    });\n  });\n  const childTriggerColIndexRef = useMemo(() => {\n    const {\n      columns\n    } = props;\n    const {\n      length\n    } = columns;\n    let firstContentfulColIndex = null;\n    for (let i = 0; i < length; ++i) {\n      const col = columns[i];\n      if (!col.type && firstContentfulColIndex === null) {\n        firstContentfulColIndex = i;\n      }\n      if ('tree' in col && col.tree) {\n        return i;\n      }\n    }\n    return firstContentfulColIndex || 0;\n  });\n  const uncontrolledFilterStateRef = ref({});\n  const {\n    pagination\n  } = props;\n  const uncontrolledCurrentPageRef = ref(pagination ? pagination.defaultPage || 1 : 1);\n  const uncontrolledPageSizeRef = ref(getDefaultPageSize(pagination));\n  const mergedFilterStateRef = computed(() => {\n    const columnsWithControlledFilter = dataRelatedColsRef.value.filter(column => {\n      return column.filterOptionValues !== undefined || column.filterOptionValue !== undefined;\n    });\n    const controlledFilterState = {};\n    columnsWithControlledFilter.forEach(column => {\n      var _a;\n      if (column.type === 'selection' || column.type === 'expand') return;\n      if (column.filterOptionValues === undefined) {\n        controlledFilterState[column.key] = (_a = column.filterOptionValue) !== null && _a !== void 0 ? _a : null;\n      } else {\n        controlledFilterState[column.key] = column.filterOptionValues;\n      }\n    });\n    const activeFilters = Object.assign(createShallowClonedObject(uncontrolledFilterStateRef.value), controlledFilterState);\n    return activeFilters;\n  });\n  const filteredDataRef = computed(() => {\n    const mergedFilterState = mergedFilterStateRef.value;\n    const {\n      columns\n    } = props;\n    function createDefaultFilter(columnKey) {\n      return (filterOptionValue, row) => !!~String(row[columnKey]).indexOf(String(filterOptionValue));\n    }\n    const {\n      value: {\n        treeNodes: data\n      }\n    } = treeMateRef;\n    const columnEntries = [];\n    columns.forEach(column => {\n      if (column.type === 'selection' || column.type === 'expand' || 'children' in column) {\n        return;\n      }\n      columnEntries.push([column.key, column]);\n    });\n    return data ? data.filter(tmNode => {\n      const {\n        rawNode: row\n      } = tmNode;\n      // traverse all filters\n      for (const [columnKey, column] of columnEntries) {\n        let activeFilterOptionValues = mergedFilterState[columnKey];\n        if (activeFilterOptionValues == null) continue;\n        if (!Array.isArray(activeFilterOptionValues)) {\n          activeFilterOptionValues = [activeFilterOptionValues];\n        }\n        if (!activeFilterOptionValues.length) continue;\n        // When async, filter won't be set, so data won't be filtered\n        const filter = column.filter === 'default' ? createDefaultFilter(columnKey) : column.filter;\n        if (column && typeof filter === 'function') {\n          if (column.filterMode === 'and') {\n            if (activeFilterOptionValues.some(filterOptionValue => !filter(filterOptionValue, row))) {\n              return false;\n            }\n          } else {\n            if (activeFilterOptionValues.some(filterOptionValue => filter(filterOptionValue, row))) {\n              continue;\n            } else {\n              return false;\n            }\n          }\n        }\n      }\n      return true;\n    }) : [];\n  });\n  const {\n    sortedDataRef,\n    deriveNextSorter,\n    mergedSortStateRef,\n    sort,\n    clearSorter\n  } = useSorter(props, {\n    dataRelatedColsRef,\n    filteredDataRef\n  });\n  // initialize\n  dataRelatedColsRef.value.forEach(column => {\n    var _a;\n    if (column.filter) {\n      const defaultFilterOptionValues = column.defaultFilterOptionValues;\n      if (column.filterMultiple) {\n        uncontrolledFilterStateRef.value[column.key] = defaultFilterOptionValues || [];\n      } else if (defaultFilterOptionValues !== undefined) {\n        // this branch is for compatibility, someone may use `values` in single filter mode\n        uncontrolledFilterStateRef.value[column.key] = defaultFilterOptionValues === null ? [] : defaultFilterOptionValues;\n      } else {\n        uncontrolledFilterStateRef.value[column.key] = (_a = column.defaultFilterOptionValue) !== null && _a !== void 0 ? _a : null;\n      }\n    }\n  });\n  const controlledCurrentPageRef = computed(() => {\n    const {\n      pagination\n    } = props;\n    if (pagination === false) return undefined;\n    return pagination.page;\n  });\n  const controlledPageSizeRef = computed(() => {\n    const {\n      pagination\n    } = props;\n    if (pagination === false) return undefined;\n    return pagination.pageSize;\n  });\n  const _mergedCurrentPageRef = useMergedState(controlledCurrentPageRef, uncontrolledCurrentPageRef);\n  const mergedPageSizeRef = useMergedState(controlledPageSizeRef, uncontrolledPageSizeRef);\n  const boundedMergedCurrentPageRef = useMemo(() => {\n    const page = _mergedCurrentPageRef.value;\n    return props.remote ? page : Math.max(1, Math.min(Math.ceil(filteredDataRef.value.length / mergedPageSizeRef.value), page));\n  });\n  const mergedPageCountRef = computed(() => {\n    const {\n      pagination\n    } = props;\n    if (pagination) {\n      const {\n        pageCount\n      } = pagination;\n      if (pageCount !== undefined) return pageCount;\n    }\n    return undefined;\n  });\n  const paginatedDataRef = computed(() => {\n    if (props.remote) return treeMateRef.value.treeNodes;\n    if (!props.pagination) return sortedDataRef.value;\n    const pageSize = mergedPageSizeRef.value;\n    const startIndex = (boundedMergedCurrentPageRef.value - 1) * pageSize;\n    return sortedDataRef.value.slice(startIndex, startIndex + pageSize);\n  });\n  const rawPaginatedDataRef = computed(() => {\n    return paginatedDataRef.value.map(tmNode => tmNode.rawNode);\n  });\n  function mergedOnUpdatePage(page) {\n    const {\n      pagination\n    } = props;\n    if (pagination) {\n      const {\n        onChange,\n        'onUpdate:page': _onUpdatePage,\n        onUpdatePage\n      } = pagination;\n      if (onChange) call(onChange, page);\n      if (onUpdatePage) call(onUpdatePage, page);\n      if (_onUpdatePage) call(_onUpdatePage, page);\n      doUpdatePage(page);\n    }\n  }\n  function mergedOnUpdatePageSize(pageSize) {\n    const {\n      pagination\n    } = props;\n    if (pagination) {\n      const {\n        onPageSizeChange,\n        'onUpdate:pageSize': _onUpdatePageSize,\n        onUpdatePageSize\n      } = pagination;\n      if (onPageSizeChange) call(onPageSizeChange, pageSize);\n      if (onUpdatePageSize) call(onUpdatePageSize, pageSize);\n      if (_onUpdatePageSize) call(_onUpdatePageSize, pageSize);\n      doUpdatePageSize(pageSize);\n    }\n  }\n  const mergedItemCountRef = computed(() => {\n    if (props.remote) {\n      const {\n        pagination\n      } = props;\n      if (pagination) {\n        const {\n          itemCount\n        } = pagination;\n        if (itemCount !== undefined) return itemCount;\n      }\n      return undefined;\n    }\n    return filteredDataRef.value.length;\n  });\n  const mergedPaginationRef = computed(() => {\n    return Object.assign(Object.assign({}, props.pagination), {\n      // reset deprecated methods\n      onChange: undefined,\n      onUpdatePage: undefined,\n      onUpdatePageSize: undefined,\n      onPageSizeChange: undefined,\n      'onUpdate:page': mergedOnUpdatePage,\n      'onUpdate:pageSize': mergedOnUpdatePageSize,\n      // writing merged props after pagination to avoid\n      // pagination[key] === undefined\n      // key still exists but value is undefined\n      page: boundedMergedCurrentPageRef.value,\n      pageSize: mergedPageSizeRef.value,\n      pageCount: mergedItemCountRef.value === undefined ? mergedPageCountRef.value : undefined,\n      itemCount: mergedItemCountRef.value\n    });\n  });\n  function doUpdatePage(page) {\n    const {\n      'onUpdate:page': _onUpdatePage,\n      onPageChange,\n      onUpdatePage\n    } = props;\n    if (onUpdatePage) call(onUpdatePage, page);\n    if (_onUpdatePage) call(_onUpdatePage, page);\n    if (onPageChange) call(onPageChange, page);\n    uncontrolledCurrentPageRef.value = page;\n  }\n  function doUpdatePageSize(pageSize) {\n    const {\n      'onUpdate:pageSize': _onUpdatePageSize,\n      onPageSizeChange,\n      onUpdatePageSize\n    } = props;\n    if (onPageSizeChange) call(onPageSizeChange, pageSize);\n    if (onUpdatePageSize) call(onUpdatePageSize, pageSize);\n    if (_onUpdatePageSize) call(_onUpdatePageSize, pageSize);\n    uncontrolledPageSizeRef.value = pageSize;\n  }\n  function doUpdateFilters(filters, sourceColumn) {\n    const {\n      onUpdateFilters,\n      'onUpdate:filters': _onUpdateFilters,\n      onFiltersChange\n    } = props;\n    if (onUpdateFilters) call(onUpdateFilters, filters, sourceColumn);\n    if (_onUpdateFilters) call(_onUpdateFilters, filters, sourceColumn);\n    if (onFiltersChange) call(onFiltersChange, filters, sourceColumn);\n    uncontrolledFilterStateRef.value = filters;\n  }\n  function onUnstableColumnResize(resizedWidth, limitedWidth, column, getColumnWidth) {\n    var _a;\n    (_a = props.onUnstableColumnResize) === null || _a === void 0 ? void 0 : _a.call(props, resizedWidth, limitedWidth, column, getColumnWidth);\n  }\n  function page(page) {\n    doUpdatePage(page);\n  }\n  function clearFilter() {\n    clearFilters();\n  }\n  function clearFilters() {\n    filters({});\n  }\n  function filters(filters) {\n    filter(filters);\n  }\n  function filter(filters) {\n    if (!filters) {\n      uncontrolledFilterStateRef.value = {};\n    } else if (filters) {\n      uncontrolledFilterStateRef.value = createShallowClonedObject(filters);\n    } else if (process.env.NODE_ENV !== 'production') {\n      warn('data-table', '`filters` is not an object');\n    }\n  }\n  return {\n    treeMateRef,\n    mergedCurrentPageRef: boundedMergedCurrentPageRef,\n    mergedPaginationRef,\n    paginatedDataRef,\n    rawPaginatedDataRef,\n    mergedFilterStateRef,\n    mergedSortStateRef,\n    hoverKeyRef: ref(null),\n    selectionColumnRef,\n    childTriggerColIndexRef,\n    doUpdateFilters,\n    deriveNextSorter,\n    doUpdatePageSize,\n    doUpdatePage,\n    onUnstableColumnResize,\n    // exported methods\n    filter,\n    filters,\n    clearFilter,\n    clearFilters,\n    clearSorter,\n    page,\n    sort\n  };\n}","import { beforeNextFrameOnce } from 'seemly';\nimport { computed, watch, ref } from 'vue';\nimport { formatLength } from \"../../_utils/index.mjs\";\nimport { getNumberColWidth, getColKey } from \"./utils.mjs\";\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function useScroll(props, {\n  mainTableInstRef,\n  mergedCurrentPageRef,\n  bodyWidthRef\n}) {\n  let lastScrollLeft = 0;\n  const scrollPartRef = ref();\n  const leftActiveFixedColKeyRef = ref(null);\n  const leftActiveFixedChildrenColKeysRef = ref([]);\n  const rightActiveFixedColKeyRef = ref(null);\n  const rightActiveFixedChildrenColKeysRef = ref([]);\n  const styleScrollXRef = computed(() => {\n    return formatLength(props.scrollX);\n  });\n  const leftFixedColumnsRef = computed(() => {\n    return props.columns.filter(column => column.fixed === 'left');\n  });\n  const rightFixedColumnsRef = computed(() => {\n    return props.columns.filter(column => column.fixed === 'right');\n  });\n  const fixedColumnLeftMapRef = computed(() => {\n    const columns = {};\n    let left = 0;\n    function traverse(cols) {\n      cols.forEach(col => {\n        const positionInfo = {\n          start: left,\n          end: 0\n        };\n        columns[getColKey(col)] = positionInfo;\n        if ('children' in col) {\n          traverse(col.children);\n          positionInfo.end = left;\n        } else {\n          left += getNumberColWidth(col) || 0;\n          positionInfo.end = left;\n        }\n      });\n    }\n    traverse(leftFixedColumnsRef.value);\n    return columns;\n  });\n  const fixedColumnRightMapRef = computed(() => {\n    const columns = {};\n    let right = 0;\n    function traverse(cols) {\n      for (let i = cols.length - 1; i >= 0; --i) {\n        const col = cols[i];\n        const positionInfo = {\n          start: right,\n          end: 0\n        };\n        columns[getColKey(col)] = positionInfo;\n        if ('children' in col) {\n          traverse(col.children);\n          positionInfo.end = right;\n        } else {\n          right += getNumberColWidth(col) || 0;\n          positionInfo.end = right;\n        }\n      }\n    }\n    traverse(rightFixedColumnsRef.value);\n    return columns;\n  });\n  function deriveActiveLeftFixedColumn() {\n    var _a, _b;\n    // target is header element\n    const {\n      value: leftFixedColumns\n    } = leftFixedColumnsRef;\n    let leftWidth = 0;\n    const {\n      value: fixedColumnLeftMap\n    } = fixedColumnLeftMapRef;\n    let leftActiveFixedColKey = null;\n    for (let i = 0; i < leftFixedColumns.length; ++i) {\n      const key = getColKey(leftFixedColumns[i]);\n      if (lastScrollLeft > (((_a = fixedColumnLeftMap[key]) === null || _a === void 0 ? void 0 : _a.start) || 0) - leftWidth) {\n        leftActiveFixedColKey = key;\n        leftWidth = ((_b = fixedColumnLeftMap[key]) === null || _b === void 0 ? void 0 : _b.end) || 0;\n      } else {\n        break;\n      }\n    }\n    leftActiveFixedColKeyRef.value = leftActiveFixedColKey;\n  }\n  function deriveActiveLeftFixedChildrenColumns() {\n    leftActiveFixedChildrenColKeysRef.value = [];\n    let activeLeftFixedColumn = props.columns.find(col => getColKey(col) === leftActiveFixedColKeyRef.value);\n    while (activeLeftFixedColumn && 'children' in activeLeftFixedColumn) {\n      const length = activeLeftFixedColumn.children.length;\n      if (length === 0) break;\n      const nextActiveLeftFixedColumn = activeLeftFixedColumn.children[length - 1];\n      leftActiveFixedChildrenColKeysRef.value.push(getColKey(nextActiveLeftFixedColumn));\n      activeLeftFixedColumn = nextActiveLeftFixedColumn;\n    }\n  }\n  function deriveActiveRightFixedColumn() {\n    var _a, _b;\n    // target is header element\n    const {\n      value: rightFixedColumns\n    } = rightFixedColumnsRef;\n    const scrollWidth = Number(props.scrollX);\n    const {\n      value: tableWidth\n    } = bodyWidthRef;\n    if (tableWidth === null) return;\n    let rightWidth = 0;\n    let rightActiveFixedColKey = null;\n    const {\n      value: fixedColumnRightMap\n    } = fixedColumnRightMapRef;\n    for (let i = rightFixedColumns.length - 1; i >= 0; --i) {\n      const key = getColKey(rightFixedColumns[i]);\n      if (Math.round(lastScrollLeft + (((_a = fixedColumnRightMap[key]) === null || _a === void 0 ? void 0 : _a.start) || 0) + tableWidth - rightWidth) < scrollWidth) {\n        rightActiveFixedColKey = key;\n        rightWidth = ((_b = fixedColumnRightMap[key]) === null || _b === void 0 ? void 0 : _b.end) || 0;\n      } else {\n        break;\n      }\n    }\n    rightActiveFixedColKeyRef.value = rightActiveFixedColKey;\n  }\n  function deriveActiveRightFixedChildrenColumns() {\n    rightActiveFixedChildrenColKeysRef.value = [];\n    let activeRightFixedColumn = props.columns.find(col => getColKey(col) === rightActiveFixedColKeyRef.value);\n    while (activeRightFixedColumn && 'children' in activeRightFixedColumn && activeRightFixedColumn.children.length) {\n      const nextActiveRightFixedColumn = activeRightFixedColumn.children[0];\n      rightActiveFixedChildrenColKeysRef.value.push(getColKey(nextActiveRightFixedColumn));\n      activeRightFixedColumn = nextActiveRightFixedColumn;\n    }\n  }\n  function getScrollElements() {\n    const header = mainTableInstRef.value ? mainTableInstRef.value.getHeaderElement() : null;\n    const body = mainTableInstRef.value ? mainTableInstRef.value.getBodyElement() : null;\n    return {\n      header,\n      body\n    };\n  }\n  function scrollMainTableBodyToTop() {\n    const {\n      body\n    } = getScrollElements();\n    if (body) {\n      body.scrollTop = 0;\n    }\n  }\n  function handleTableHeaderScroll() {\n    if (scrollPartRef.value !== 'body') {\n      beforeNextFrameOnce(syncScrollState);\n    } else {\n      scrollPartRef.value = undefined;\n    }\n  }\n  function handleTableBodyScroll(e) {\n    var _a;\n    (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    if (scrollPartRef.value !== 'head') {\n      beforeNextFrameOnce(syncScrollState);\n    } else {\n      scrollPartRef.value = undefined;\n    }\n  }\n  function syncScrollState() {\n    // We can't simply use props.scrollX to determine whether the table has\n    // need to be sync since user may set column width for each column.\n    // Just let it be, the scroll listener won't be triggered for a basic table.\n    const {\n      header,\n      body\n    } = getScrollElements();\n    if (!body) return;\n    const {\n      value: tableWidth\n    } = bodyWidthRef;\n    if (tableWidth === null) return;\n    if (props.maxHeight || props.flexHeight) {\n      if (!header) return;\n      // we need to deal with overscroll\n      const directionHead = lastScrollLeft - header.scrollLeft;\n      scrollPartRef.value = directionHead !== 0 ? 'head' : 'body';\n      if (scrollPartRef.value === 'head') {\n        lastScrollLeft = header.scrollLeft;\n        body.scrollLeft = lastScrollLeft;\n      } else {\n        lastScrollLeft = body.scrollLeft;\n        header.scrollLeft = lastScrollLeft;\n      }\n    } else {\n      lastScrollLeft = body.scrollLeft;\n    }\n    deriveActiveLeftFixedColumn();\n    deriveActiveLeftFixedChildrenColumns();\n    deriveActiveRightFixedColumn();\n    deriveActiveRightFixedChildrenColumns();\n  }\n  function setHeaderScrollLeft(left) {\n    const {\n      header\n    } = getScrollElements();\n    if (!header) return;\n    header.scrollLeft = left;\n    syncScrollState();\n  }\n  watch(mergedCurrentPageRef, () => {\n    scrollMainTableBodyToTop();\n  });\n  return {\n    styleScrollXRef,\n    fixedColumnLeftMapRef,\n    fixedColumnRightMapRef,\n    leftFixedColumnsRef,\n    rightFixedColumnsRef,\n    leftActiveFixedColKeyRef,\n    leftActiveFixedChildrenColKeysRef,\n    rightActiveFixedColKeyRef,\n    rightActiveFixedChildrenColKeysRef,\n    syncScrollState,\n    handleTableBodyScroll,\n    handleTableHeaderScroll,\n    setHeaderScrollLeft\n  };\n}","import { ref } from 'vue';\nimport { isColumnResizable } from \"./utils.mjs\";\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function useResizable() {\n  const resizableWidthsRef = ref({});\n  function getResizableWidth(key) {\n    return resizableWidthsRef.value[key];\n  }\n  function doUpdateResizableWidth(column, width) {\n    if (isColumnResizable(column) && 'key' in column) {\n      resizableWidthsRef.value[column.key] = width;\n    }\n  }\n  function clearResizableWidth() {\n    resizableWidthsRef.value = {};\n  }\n  return {\n    getResizableWidth,\n    doUpdateResizableWidth,\n    clearResizableWidth\n  };\n}","import { computed } from 'vue';\nimport { formatLength } from \"../../_utils/index.mjs\";\nimport { getColKey, createCustomWidthStyle } from \"./utils.mjs\";\nfunction getRowsAndCols(columns, getResizableWidth) {\n  const rows = [];\n  const cols = [];\n  const dataRelatedCols = [];\n  const rowItemMap = new WeakMap();\n  let maxDepth = -1;\n  let totalRowSpan = 0;\n  let hasEllipsis = false;\n  function ensureMaxDepth(columns, currentDepth) {\n    if (currentDepth > maxDepth) {\n      rows[currentDepth] = [];\n      maxDepth = currentDepth;\n    }\n    for (const column of columns) {\n      if ('children' in column) {\n        ensureMaxDepth(column.children, currentDepth + 1);\n      } else {\n        const key = 'key' in column ? column.key : undefined;\n        cols.push({\n          key: getColKey(column),\n          style: createCustomWidthStyle(column, key !== undefined ? formatLength(getResizableWidth(key)) : undefined),\n          column\n        });\n        totalRowSpan += 1;\n        if (!hasEllipsis) {\n          hasEllipsis = !!column.ellipsis;\n        }\n        dataRelatedCols.push(column);\n      }\n    }\n  }\n  ensureMaxDepth(columns, 0);\n  let currentLeafIndex = 0;\n  function ensureColLayout(columns, currentDepth) {\n    let hideUntilIndex = 0;\n    columns.forEach((column, index) => {\n      var _a;\n      if ('children' in column) {\n        // do not allow colSpan > 1 for non-leaf th\n        // we will execute the calculation logic\n        const cachedCurrentLeafIndex = currentLeafIndex;\n        const rowItem = {\n          column,\n          colSpan: 0,\n          rowSpan: 1,\n          isLast: false\n        };\n        ensureColLayout(column.children, currentDepth + 1);\n        column.children.forEach(childColumn => {\n          var _a, _b;\n          rowItem.colSpan += (_b = (_a = rowItemMap.get(childColumn)) === null || _a === void 0 ? void 0 : _a.colSpan) !== null && _b !== void 0 ? _b : 0;\n        });\n        if (cachedCurrentLeafIndex + rowItem.colSpan === totalRowSpan) {\n          rowItem.isLast = true;\n        }\n        rowItemMap.set(column, rowItem);\n        rows[currentDepth].push(rowItem);\n      } else {\n        if (currentLeafIndex < hideUntilIndex) {\n          currentLeafIndex += 1;\n          return;\n        }\n        let colSpan = 1;\n        if ('titleColSpan' in column) {\n          colSpan = (_a = column.titleColSpan) !== null && _a !== void 0 ? _a : 1;\n        }\n        if (colSpan > 1) {\n          hideUntilIndex = currentLeafIndex + colSpan;\n        }\n        const isLast = currentLeafIndex + colSpan === totalRowSpan;\n        const rowItem = {\n          column,\n          colSpan,\n          rowSpan: maxDepth - currentDepth + 1,\n          isLast\n        };\n        rowItemMap.set(column, rowItem);\n        rows[currentDepth].push(rowItem);\n        currentLeafIndex += 1;\n      }\n    });\n  }\n  ensureColLayout(columns, 0);\n  return {\n    hasEllipsis,\n    rows,\n    cols,\n    dataRelatedCols\n  };\n}\nexport function useGroupHeader(props, getResizableWidth) {\n  const rowsAndCols = computed(() => getRowsAndCols(props.columns, getResizableWidth));\n  return {\n    rowsRef: computed(() => rowsAndCols.value.rows),\n    colsRef: computed(() => rowsAndCols.value.cols),\n    hasEllipsisRef: computed(() => rowsAndCols.value.hasEllipsis),\n    dataRelatedColsRef: computed(() => rowsAndCols.value.dataRelatedCols)\n  };\n}","import { toRef, ref } from 'vue';\nimport { useMemo, useMergedState } from 'vooks';\nimport { call, warn } from \"../../_utils/index.mjs\";\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function useExpand(props, treeMateRef) {\n  const renderExpandRef = useMemo(() => {\n    for (const col of props.columns) {\n      if (col.type === 'expand') {\n        if (process.env.NODE_ENV !== 'production' && !col.renderExpand) {\n          warn('data-table', 'column with type `expand` has no `renderExpand` prop.');\n        }\n        return col.renderExpand;\n      }\n    }\n  });\n  const expandableRef = useMemo(() => {\n    // It's not reactive\n    let expandable;\n    for (const col of props.columns) {\n      if (col.type === 'expand') {\n        expandable = col.expandable;\n        break;\n      }\n    }\n    return expandable;\n  });\n  const uncontrolledExpandedRowKeysRef = ref(props.defaultExpandAll ? (renderExpandRef === null || renderExpandRef === void 0 ? void 0 : renderExpandRef.value) ? (() => {\n    const expandedKeys = [];\n    treeMateRef.value.treeNodes.forEach(tmNode => {\n      var _a;\n      if ((_a = expandableRef.value) === null || _a === void 0 ? void 0 : _a.call(expandableRef, tmNode.rawNode)) {\n        expandedKeys.push(tmNode.key);\n      }\n    });\n    return expandedKeys;\n  })() : treeMateRef.value.getNonLeafKeys() : props.defaultExpandedRowKeys);\n  const controlledExpandedRowKeysRef = toRef(props, 'expandedRowKeys');\n  const stickyExpandedRowsRef = toRef(props, 'stickyExpandedRows');\n  const mergedExpandedRowKeysRef = useMergedState(controlledExpandedRowKeysRef, uncontrolledExpandedRowKeysRef);\n  function doUpdateExpandedRowKeys(expandedKeys) {\n    const {\n      onUpdateExpandedRowKeys,\n      'onUpdate:expandedRowKeys': _onUpdateExpandedRowKeys\n    } = props;\n    if (onUpdateExpandedRowKeys) {\n      call(onUpdateExpandedRowKeys, expandedKeys);\n    }\n    if (_onUpdateExpandedRowKeys) {\n      call(_onUpdateExpandedRowKeys, expandedKeys);\n    }\n    uncontrolledExpandedRowKeysRef.value = expandedKeys;\n  }\n  return {\n    stickyExpandedRowsRef,\n    mergedExpandedRowKeysRef,\n    renderExpandRef,\n    expandableRef,\n    doUpdateExpandedRowKeys\n  };\n}","import { fadeInScaleUpTransition } from \"../../../_styles/transitions/fade-in-scale-up.cssr.mjs\";\nimport { iconSwitchTransition } from \"../../../_styles/transitions/icon-switch.cssr.mjs\";\nimport { c, cB, cE, cM, cNotM, insideModal, insidePopover } from \"../../../_utils/cssr/index.mjs\";\nconst fixedColumnStyle = createFixedColumnStyle();\n// vars:\n// --n-font-size\n// --n-th-padding\n// --n-td-padding\n// --n-bezier\n// --n-border-radius\n// --n-line-height\n// --n-border-color\n// --n-border-color-modal\n// --n-border-color-popover\n// --n-th-color\n// --n-th-color-hover\n// --n-th-color-modal\n// --n-th-color-hover-modal\n// --n-th-color-popover\n// --n-th-color-hover-popover\n// --n-td-color\n// --n-td-color-hover\n// --n-td-color-modal\n// --n-td-color-hover-modal\n// --n-td-color-popover\n// --n-td-color-hover-popover\n// --n-th-text-color\n// --n-td-text-color\n// --n-th-font-weight\n// --n-th-button-color-hover\n// --n-th-icon-color\n// --n-th-icon-color-active\n// --n-filter-size\n// --n-action-divider-color\n// --n-action-padding\n// --n-action-button-margin\n// --n-pagination-margin\n// --n-empty-padding\n// --n-sorter-size\n// --n-resizable-container-size\n// --n-resizable-size\n// --n-loading-size\n// --n-loading-color\n// --n-opacity-loading\n// --n-box-shadow-before used in Body.tsx\n// --n-box-shadow-after used in Body.tsx\n// --indent-offset for ellipsis & expand trigger\nexport default c([cB('data-table', `\n width: 100%;\n font-size: var(--n-font-size);\n display: flex;\n flex-direction: column;\n position: relative;\n --n-merged-th-color: var(--n-th-color);\n --n-merged-td-color: var(--n-td-color);\n --n-merged-border-color: var(--n-border-color);\n --n-merged-th-color-hover: var(--n-th-color-hover);\n --n-merged-td-color-hover: var(--n-td-color-hover);\n --n-merged-td-color-striped: var(--n-td-color-striped);\n `, [cB('data-table-wrapper', `\n flex-grow: 1;\n display: flex;\n flex-direction: column;\n `), cM('flex-height', [c('>', [cB('data-table-wrapper', [c('>', [cB('data-table-base-table', `\n display: flex;\n flex-direction: column;\n flex-grow: 1;\n `, [c('>', [cB('data-table-base-table-body', 'flex-basis: 0;', [\n// last-child means there is no empty icon\n// body is a scrollbar, we need to override height 100%\nc('&:last-child', 'flex-grow: 1;')])])])])])])]), c('>', [cB('data-table-loading-wrapper', `\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n transition: color .3s var(--n-bezier);\n display: flex;\n align-items: center;\n justify-content: center;\n `, [fadeInScaleUpTransition({\n  originalTransform: 'translateX(-50%) translateY(-50%)'\n})])]), cB('data-table-expand-placeholder', `\n margin-right: 8px;\n display: inline-block;\n width: 16px;\n height: 1px;\n `), cB('data-table-indent', `\n display: inline-block;\n height: 1px;\n `), cB('data-table-expand-trigger', `\n display: inline-flex;\n margin-right: 8px;\n cursor: pointer;\n font-size: 16px;\n vertical-align: -0.2em;\n position: relative;\n width: 16px;\n height: 16px;\n color: var(--n-td-text-color);\n transition: color .3s var(--n-bezier);\n `, [cM('expanded', [cB('icon', 'transform: rotate(90deg);', [iconSwitchTransition({\n  originalTransform: 'rotate(90deg)'\n})]), cB('base-icon', 'transform: rotate(90deg);', [iconSwitchTransition({\n  originalTransform: 'rotate(90deg)'\n})])]), cB('base-loading', `\n color: var(--n-loading-color);\n transition: color .3s var(--n-bezier);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [iconSwitchTransition()]), cB('icon', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [iconSwitchTransition()]), cB('base-icon', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n `, [iconSwitchTransition()])]), cB('data-table-thead', `\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-merged-th-color);\n `), cB('data-table-tr', `\n box-sizing: border-box;\n background-clip: padding-box;\n transition: background-color .3s var(--n-bezier);\n `, [cB('data-table-expand', `\n position: sticky;\n left: 0;\n overflow: hidden;\n margin: calc(var(--n-th-padding) * -1);\n padding: var(--n-th-padding);\n box-sizing: border-box;\n `), cM('striped', 'background-color: var(--n-merged-td-color-striped);', [cB('data-table-td', 'background-color: var(--n-merged-td-color-striped);')]), cNotM('summary', [c('&:hover', 'background-color: var(--n-merged-td-color-hover);', [c('>', [cB('data-table-td', 'background-color: var(--n-merged-td-color-hover);')])])])]), cB('data-table-th', `\n padding: var(--n-th-padding);\n position: relative;\n text-align: start;\n box-sizing: border-box;\n background-color: var(--n-merged-th-color);\n border-color: var(--n-merged-border-color);\n border-bottom: 1px solid var(--n-merged-border-color);\n color: var(--n-th-text-color);\n transition:\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n font-weight: var(--n-th-font-weight);\n `, [cM('filterable', `\n padding-right: 36px;\n `, [cM('sortable', `\n padding-right: calc(var(--n-th-padding) + 36px);\n `)]), fixedColumnStyle, cM('selection', `\n padding: 0;\n text-align: center;\n line-height: 0;\n z-index: 3;\n `), cE('title-wrapper', `\n display: flex;\n align-items: center;\n flex-wrap: nowrap;\n max-width: 100%;\n `, [cE('title', `\n flex: 1;\n min-width: 0;\n `)]), cE('ellipsis', `\n display: inline-block;\n vertical-align: bottom;\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap;\n max-width: 100%;\n `), cM('hover', `\n background-color: var(--n-merged-th-color-hover);\n `), cM('sortable', `\n cursor: pointer;\n `, [cE('ellipsis', `\n max-width: calc(100% - 18px);\n `), c('&:hover', `\n background-color: var(--n-merged-th-color-hover);\n `)]), cB('data-table-sorter', `\n height: var(--n-sorter-size);\n width: var(--n-sorter-size);\n margin-left: 4px;\n position: relative;\n display: inline-flex;\n align-items: center;\n justify-content: center;\n vertical-align: -0.2em;\n color: var(--n-th-icon-color);\n transition: color .3s var(--n-bezier);\n `, [cB('base-icon', 'transition: transform .3s var(--n-bezier)'), cM('desc', [cB('base-icon', `\n transform: rotate(0deg);\n `)]), cM('asc', [cB('base-icon', `\n transform: rotate(-180deg);\n `)]), cM('asc, desc', `\n color: var(--n-th-icon-color-active);\n `)]), cB('data-table-resize-button', `\n width: var(--n-resizable-container-size);\n position: absolute;\n top: 0;\n right: calc(var(--n-resizable-container-size) / 2);\n bottom: 0;\n cursor: col-resize;\n user-select: none;\n `, [c('&::after', `\n width: var(--n-resizable-size);\n height: 50%;\n position: absolute;\n top: 50%;\n left: calc(var(--n-resizable-container-size) / 2);\n bottom: 0;\n background-color: var(--n-merged-border-color);\n transform: translateY(-50%);\n transition: background-color .3s var(--n-bezier);\n z-index: 1;\n content: '';\n `), cM('active', [c('&::after', ` \n background-color: var(--n-th-icon-color-active);\n `)]), c('&:hover::after', `\n background-color: var(--n-th-icon-color-active);\n `)]), cB('data-table-filter', `\n position: absolute;\n z-index: auto;\n right: 0;\n width: 36px;\n top: 0;\n bottom: 0;\n cursor: pointer;\n display: flex;\n justify-content: center;\n align-items: center;\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n font-size: var(--n-filter-size);\n color: var(--n-th-icon-color);\n `, [c('&:hover', `\n background-color: var(--n-th-button-color-hover);\n `), cM('show', `\n background-color: var(--n-th-button-color-hover);\n `), cM('active', `\n background-color: var(--n-th-button-color-hover);\n color: var(--n-th-icon-color-active);\n `)])]), cB('data-table-td', `\n padding: var(--n-td-padding);\n text-align: start;\n box-sizing: border-box;\n border: none;\n background-color: var(--n-merged-td-color);\n color: var(--n-td-text-color);\n border-bottom: 1px solid var(--n-merged-border-color);\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n `, [cM('expand', [cB('data-table-expand-trigger', `\n margin-right: 0;\n `)]), cM('last-row', `\n border-bottom: 0 solid var(--n-merged-border-color);\n `, [\n// make sure there is no overlap between bottom border and\n// fixed column box shadow\nc('&::after', `\n bottom: 0 !important;\n `), c('&::before', `\n bottom: 0 !important;\n `)]), cM('summary', `\n background-color: var(--n-merged-th-color);\n `), cM('hover', `\n background-color: var(--n-merged-td-color-hover);\n `), cE('ellipsis', `\n display: inline-block;\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap;\n max-width: 100%;\n vertical-align: bottom;\n max-width: calc(100% - var(--indent-offset, -1.5) * 16px - 24px);\n `), cM('selection, expand', `\n text-align: center;\n padding: 0;\n line-height: 0;\n `), fixedColumnStyle]), cB('data-table-empty', `\n box-sizing: border-box;\n padding: var(--n-empty-padding);\n flex-grow: 1;\n flex-shrink: 0;\n opacity: 1;\n display: flex;\n align-items: center;\n justify-content: center;\n transition: opacity .3s var(--n-bezier);\n `, [cM('hide', `\n opacity: 0;\n `)]), cE('pagination', `\n margin: var(--n-pagination-margin);\n display: flex;\n justify-content: flex-end;\n `), cB('data-table-wrapper', `\n position: relative;\n opacity: 1;\n transition: opacity .3s var(--n-bezier), border-color .3s var(--n-bezier);\n border-top-left-radius: var(--n-border-radius);\n border-top-right-radius: var(--n-border-radius);\n line-height: var(--n-line-height);\n `), cM('loading', [cB('data-table-wrapper', `\n opacity: var(--n-opacity-loading);\n pointer-events: none;\n `)]), cM('single-column', [cB('data-table-td', `\n border-bottom: 0 solid var(--n-merged-border-color);\n `, [c('&::after, &::before', `\n bottom: 0 !important;\n `)])]), cNotM('single-line', [cB('data-table-th', `\n border-right: 1px solid var(--n-merged-border-color);\n `, [cM('last', `\n border-right: 0 solid var(--n-merged-border-color);\n `)]), cB('data-table-td', `\n border-right: 1px solid var(--n-merged-border-color);\n `, [cM('last-col', `\n border-right: 0 solid var(--n-merged-border-color);\n `)])]), cM('bordered', [cB('data-table-wrapper', `\n border: 1px solid var(--n-merged-border-color);\n border-bottom-left-radius: var(--n-border-radius);\n border-bottom-right-radius: var(--n-border-radius);\n overflow: hidden;\n `)]), cB('data-table-base-table', [cM('transition-disabled', [cB('data-table-th', [c('&::after, &::before', 'transition: none;')]), cB('data-table-td', [c('&::after, &::before', 'transition: none;')])])]), cM('bottom-bordered', [cB('data-table-td', [cM('last-row', `\n border-bottom: 1px solid var(--n-merged-border-color);\n `)])]), cB('data-table-table', `\n font-variant-numeric: tabular-nums;\n width: 100%;\n word-break: break-word;\n transition: background-color .3s var(--n-bezier);\n border-collapse: separate;\n border-spacing: 0;\n background-color: var(--n-merged-td-color);\n `), cB('data-table-base-table-header', `\n border-top-left-radius: calc(var(--n-border-radius) - 1px);\n border-top-right-radius: calc(var(--n-border-radius) - 1px);\n z-index: 3;\n overflow: scroll;\n flex-shrink: 0;\n transition: border-color .3s var(--n-bezier);\n scrollbar-width: none;\n `, [c('&::-webkit-scrollbar', `\n width: 0;\n height: 0;\n `)]), cB('data-table-check-extra', `\n transition: color .3s var(--n-bezier);\n color: var(--n-th-icon-color);\n position: absolute;\n font-size: 14px;\n right: -4px;\n top: 50%;\n transform: translateY(-50%);\n z-index: 1;\n `)]), cB('data-table-filter-menu', [cB('scrollbar', `\n max-height: 240px;\n `), cE('group', `\n display: flex;\n flex-direction: column;\n padding: 12px 12px 0 12px;\n `, [cB('checkbox', `\n margin-bottom: 12px;\n margin-right: 0;\n `), cB('radio', `\n margin-bottom: 12px;\n margin-right: 0;\n `)]), cE('action', `\n padding: var(--n-action-padding);\n display: flex;\n flex-wrap: nowrap;\n justify-content: space-evenly;\n border-top: 1px solid var(--n-action-divider-color);\n `, [cB('button', [c('&:not(:last-child)', `\n margin: var(--n-action-button-margin);\n `), c('&:last-child', `\n margin-right: 0;\n `)])]), cB('divider', `\n margin: 0 !important;\n `)]), insideModal(cB('data-table', `\n --n-merged-th-color: var(--n-th-color-modal);\n --n-merged-td-color: var(--n-td-color-modal);\n --n-merged-border-color: var(--n-border-color-modal);\n --n-merged-th-color-hover: var(--n-th-color-hover-modal);\n --n-merged-td-color-hover: var(--n-td-color-hover-modal);\n --n-merged-td-color-striped: var(--n-td-color-striped-modal);\n `)), insidePopover(cB('data-table', `\n --n-merged-th-color: var(--n-th-color-popover);\n --n-merged-td-color: var(--n-td-color-popover);\n --n-merged-border-color: var(--n-border-color-popover);\n --n-merged-th-color-hover: var(--n-th-color-hover-popover);\n --n-merged-td-color-hover: var(--n-td-color-hover-popover);\n --n-merged-td-color-striped: var(--n-td-color-striped-popover);\n `))]);\nfunction createFixedColumnStyle() {\n  return [cM('fixed-left', `\n left: 0;\n position: sticky;\n z-index: 2;\n `, [c('&::after', `\n pointer-events: none;\n content: \"\";\n width: 36px;\n display: inline-block;\n position: absolute;\n top: 0;\n bottom: -1px;\n transition: box-shadow .2s var(--n-bezier);\n right: -36px;\n `)]), cM('fixed-right', `\n right: 0;\n position: sticky;\n z-index: 1;\n `, [c('&::before', `\n pointer-events: none;\n content: \"\";\n width: 36px;\n display: inline-block;\n position: absolute;\n top: 0;\n bottom: -1px;\n transition: box-shadow .2s var(--n-bezier);\n left: -36px;\n `)])];\n}","import { h, computed, defineComponent, ref, provide, toRef, Transition, watchEffect } from 'vue';\nimport { createId } from 'seemly';\nimport { useConfig, useRtl, useLocale, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { NBaseLoading } from \"../../_internal/index.mjs\";\nimport { NPagination } from \"../../pagination/index.mjs\";\nimport { createKey, download, resolveSlot, warnOnce } from \"../../_utils/index.mjs\";\nimport { dataTableLight } from \"../styles/index.mjs\";\nimport MainTable from \"./MainTable.mjs\";\nimport { useCheck } from \"./use-check.mjs\";\nimport { useTableData } from \"./use-table-data.mjs\";\nimport { useScroll } from \"./use-scroll.mjs\";\nimport { useResizable } from \"./use-resizable.mjs\";\nimport { dataTableInjectionKey, dataTableProps } from \"./interface.mjs\";\nimport { useGroupHeader } from \"./use-group-header.mjs\";\nimport { useExpand } from \"./use-expand.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nimport { generateCsv } from \"./utils.mjs\";\nexport default defineComponent({\n  name: 'DataTable',\n  alias: ['AdvancedTable'],\n  props: dataTableProps,\n  setup(props, {\n    slots\n  }) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.onPageChange !== undefined) {\n          warnOnce('data-table', '`on-page-change` is deprecated, please use `on-update:page` instead.');\n        }\n        if (props.onPageSizeChange !== undefined) {\n          warnOnce('data-table', '`on-page-size-change` is deprecated, please use `on-update:page-size` instead.');\n        }\n        if (props.onSorterChange !== undefined) {\n          warnOnce('data-table', '`on-sorter-change` is deprecated, please use `on-update:sorter` instead.');\n        }\n        if (props.onFiltersChange !== undefined) {\n          warnOnce('data-table', '`on-filters-change` is deprecated, please use `on-update:filters` instead.');\n        }\n        if (props.onCheckedRowKeysChange !== undefined) {\n          warnOnce('data-table', '`on-checked-row-keys-change` is deprecated, please use `on-update:checked-row-keys` instead.');\n        }\n      });\n    }\n    const {\n      mergedBorderedRef,\n      mergedClsPrefixRef,\n      inlineThemeDisabled,\n      mergedRtlRef\n    } = useConfig(props);\n    const rtlEnabledRef = useRtl('DataTable', mergedRtlRef, mergedClsPrefixRef);\n    const mergedBottomBorderedRef = computed(() => {\n      const {\n        bottomBordered\n      } = props;\n      // do not add bottom bordered class if bordered is true\n      // since border is displayed on wrapper\n      if (mergedBorderedRef.value) return false;\n      if (bottomBordered !== undefined) return bottomBordered;\n      return true;\n    });\n    const themeRef = useTheme('DataTable', '-data-table', style, dataTableLight, props, mergedClsPrefixRef);\n    const bodyWidthRef = ref(null);\n    const mainTableInstRef = ref(null);\n    const {\n      getResizableWidth,\n      clearResizableWidth,\n      doUpdateResizableWidth\n    } = useResizable();\n    const {\n      rowsRef,\n      colsRef,\n      dataRelatedColsRef,\n      hasEllipsisRef\n    } = useGroupHeader(props, getResizableWidth);\n    const downloadCsv = options => {\n      const {\n        fileName = 'data.csv',\n        keepOriginalData = false\n      } = options || {};\n      const data = keepOriginalData ? props.data : rawPaginatedDataRef.value;\n      const csvData = generateCsv(props.columns, data);\n      const blob = new Blob([csvData], {\n        type: 'text/csv;charset=utf-8'\n      });\n      const downloadUrl = URL.createObjectURL(blob);\n      download(downloadUrl, fileName.endsWith('.csv') ? fileName : `${fileName}.csv`);\n      URL.revokeObjectURL(downloadUrl);\n    };\n    const {\n      treeMateRef,\n      mergedCurrentPageRef,\n      paginatedDataRef,\n      rawPaginatedDataRef,\n      selectionColumnRef,\n      hoverKeyRef,\n      mergedPaginationRef,\n      mergedFilterStateRef,\n      mergedSortStateRef,\n      childTriggerColIndexRef,\n      doUpdatePage,\n      doUpdateFilters,\n      onUnstableColumnResize,\n      deriveNextSorter,\n      filter,\n      filters,\n      clearFilter,\n      clearFilters,\n      clearSorter,\n      page,\n      sort\n    } = useTableData(props, {\n      dataRelatedColsRef\n    });\n    const {\n      doCheckAll,\n      doUncheckAll,\n      doCheck,\n      doUncheck,\n      headerCheckboxDisabledRef,\n      someRowsCheckedRef,\n      allRowsCheckedRef,\n      mergedCheckedRowKeySetRef,\n      mergedInderminateRowKeySetRef\n    } = useCheck(props, {\n      selectionColumnRef,\n      treeMateRef,\n      paginatedDataRef\n    });\n    const {\n      stickyExpandedRowsRef,\n      mergedExpandedRowKeysRef,\n      renderExpandRef,\n      expandableRef,\n      doUpdateExpandedRowKeys\n    } = useExpand(props, treeMateRef);\n    const {\n      handleTableBodyScroll,\n      handleTableHeaderScroll,\n      syncScrollState,\n      setHeaderScrollLeft,\n      leftActiveFixedColKeyRef,\n      leftActiveFixedChildrenColKeysRef,\n      rightActiveFixedColKeyRef,\n      rightActiveFixedChildrenColKeysRef,\n      leftFixedColumnsRef,\n      rightFixedColumnsRef,\n      fixedColumnLeftMapRef,\n      fixedColumnRightMapRef\n    } = useScroll(props, {\n      bodyWidthRef,\n      mainTableInstRef,\n      mergedCurrentPageRef\n    });\n    const {\n      localeRef\n    } = useLocale('DataTable');\n    const mergedTableLayoutRef = computed(() => {\n      // Layout\n      // virtual |descrete header | ellpisis => fixed\n      //    = virtual | maxHeight | ellpisis => fixed\n      if (props.virtualScroll || props.flexHeight || props.maxHeight !== undefined || hasEllipsisRef.value) {\n        return 'fixed';\n      }\n      return props.tableLayout;\n    });\n    provide(dataTableInjectionKey, {\n      props,\n      treeMateRef,\n      renderExpandIconRef: toRef(props, 'renderExpandIcon'),\n      loadingKeySetRef: ref(new Set()),\n      slots,\n      indentRef: toRef(props, 'indent'),\n      childTriggerColIndexRef,\n      bodyWidthRef,\n      componentId: createId(),\n      hoverKeyRef,\n      mergedClsPrefixRef,\n      mergedThemeRef: themeRef,\n      scrollXRef: computed(() => props.scrollX),\n      rowsRef,\n      colsRef,\n      paginatedDataRef,\n      leftActiveFixedColKeyRef,\n      leftActiveFixedChildrenColKeysRef,\n      rightActiveFixedColKeyRef,\n      rightActiveFixedChildrenColKeysRef,\n      leftFixedColumnsRef,\n      rightFixedColumnsRef,\n      fixedColumnLeftMapRef,\n      fixedColumnRightMapRef,\n      mergedCurrentPageRef,\n      someRowsCheckedRef,\n      allRowsCheckedRef,\n      mergedSortStateRef,\n      mergedFilterStateRef,\n      loadingRef: toRef(props, 'loading'),\n      rowClassNameRef: toRef(props, 'rowClassName'),\n      mergedCheckedRowKeySetRef,\n      mergedExpandedRowKeysRef,\n      mergedInderminateRowKeySetRef,\n      localeRef,\n      expandableRef,\n      stickyExpandedRowsRef,\n      rowKeyRef: toRef(props, 'rowKey'),\n      renderExpandRef,\n      summaryRef: toRef(props, 'summary'),\n      virtualScrollRef: toRef(props, 'virtualScroll'),\n      rowPropsRef: toRef(props, 'rowProps'),\n      stripedRef: toRef(props, 'striped'),\n      checkOptionsRef: computed(() => {\n        const {\n          value: selectionColumn\n        } = selectionColumnRef;\n        return selectionColumn === null || selectionColumn === void 0 ? void 0 : selectionColumn.options;\n      }),\n      rawPaginatedDataRef,\n      filterMenuCssVarsRef: computed(() => {\n        const {\n          self: {\n            actionDividerColor,\n            actionPadding,\n            actionButtonMargin\n          }\n        } = themeRef.value;\n        return {\n          '--n-action-padding': actionPadding,\n          '--n-action-button-margin': actionButtonMargin,\n          '--n-action-divider-color': actionDividerColor\n        };\n      }),\n      onLoadRef: toRef(props, 'onLoad'),\n      mergedTableLayoutRef,\n      maxHeightRef: toRef(props, 'maxHeight'),\n      minHeightRef: toRef(props, 'minHeight'),\n      flexHeightRef: toRef(props, 'flexHeight'),\n      headerCheckboxDisabledRef,\n      paginationBehaviorOnFilterRef: toRef(props, 'paginationBehaviorOnFilter'),\n      summaryPlacementRef: toRef(props, 'summaryPlacement'),\n      scrollbarPropsRef: toRef(props, 'scrollbarProps'),\n      syncScrollState,\n      doUpdatePage,\n      doUpdateFilters,\n      getResizableWidth,\n      onUnstableColumnResize,\n      clearResizableWidth,\n      doUpdateResizableWidth,\n      deriveNextSorter,\n      doCheck,\n      doUncheck,\n      doCheckAll,\n      doUncheckAll,\n      doUpdateExpandedRowKeys,\n      handleTableHeaderScroll,\n      handleTableBodyScroll,\n      setHeaderScrollLeft,\n      renderCell: toRef(props, 'renderCell')\n    });\n    const exposedMethods = {\n      filter,\n      filters,\n      clearFilters,\n      clearSorter,\n      page,\n      sort,\n      clearFilter,\n      downloadCsv,\n      scrollTo: (arg0, arg1) => {\n        var _a;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        (_a = mainTableInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(arg0, arg1);\n      }\n    };\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          borderColor,\n          tdColorHover,\n          thColor,\n          thColorHover,\n          tdColor,\n          tdTextColor,\n          thTextColor,\n          thFontWeight,\n          thButtonColorHover,\n          thIconColor,\n          thIconColorActive,\n          filterSize,\n          borderRadius,\n          lineHeight,\n          tdColorModal,\n          thColorModal,\n          borderColorModal,\n          thColorHoverModal,\n          tdColorHoverModal,\n          borderColorPopover,\n          thColorPopover,\n          tdColorPopover,\n          tdColorHoverPopover,\n          thColorHoverPopover,\n          paginationMargin,\n          emptyPadding,\n          boxShadowAfter,\n          boxShadowBefore,\n          sorterSize,\n          resizableContainerSize,\n          resizableSize,\n          loadingColor,\n          loadingSize,\n          opacityLoading,\n          tdColorStriped,\n          tdColorStripedModal,\n          tdColorStripedPopover,\n          [createKey('fontSize', size)]: fontSize,\n          [createKey('thPadding', size)]: thPadding,\n          [createKey('tdPadding', size)]: tdPadding\n        }\n      } = themeRef.value;\n      return {\n        '--n-font-size': fontSize,\n        '--n-th-padding': thPadding,\n        '--n-td-padding': tdPadding,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border-radius': borderRadius,\n        '--n-line-height': lineHeight,\n        '--n-border-color': borderColor,\n        '--n-border-color-modal': borderColorModal,\n        '--n-border-color-popover': borderColorPopover,\n        '--n-th-color': thColor,\n        '--n-th-color-hover': thColorHover,\n        '--n-th-color-modal': thColorModal,\n        '--n-th-color-hover-modal': thColorHoverModal,\n        '--n-th-color-popover': thColorPopover,\n        '--n-th-color-hover-popover': thColorHoverPopover,\n        '--n-td-color': tdColor,\n        '--n-td-color-hover': tdColorHover,\n        '--n-td-color-modal': tdColorModal,\n        '--n-td-color-hover-modal': tdColorHoverModal,\n        '--n-td-color-popover': tdColorPopover,\n        '--n-td-color-hover-popover': tdColorHoverPopover,\n        '--n-th-text-color': thTextColor,\n        '--n-td-text-color': tdTextColor,\n        '--n-th-font-weight': thFontWeight,\n        '--n-th-button-color-hover': thButtonColorHover,\n        '--n-th-icon-color': thIconColor,\n        '--n-th-icon-color-active': thIconColorActive,\n        '--n-filter-size': filterSize,\n        '--n-pagination-margin': paginationMargin,\n        '--n-empty-padding': emptyPadding,\n        '--n-box-shadow-before': boxShadowBefore,\n        '--n-box-shadow-after': boxShadowAfter,\n        '--n-sorter-size': sorterSize,\n        '--n-resizable-container-size': resizableContainerSize,\n        '--n-resizable-size': resizableSize,\n        '--n-loading-size': loadingSize,\n        '--n-loading-color': loadingColor,\n        '--n-opacity-loading': opacityLoading,\n        '--n-td-color-striped': tdColorStriped,\n        '--n-td-color-striped-modal': tdColorStripedModal,\n        '--n-td-color-striped-popover': tdColorStripedPopover\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('data-table', computed(() => props.size[0]), cssVarsRef, props) : undefined;\n    const mergedShowPaginationRef = computed(() => {\n      if (!props.pagination) return false;\n      if (props.paginateSinglePage) return true;\n      const mergedPagination = mergedPaginationRef.value;\n      const {\n        pageCount\n      } = mergedPagination;\n      if (pageCount !== undefined) return pageCount > 1;\n      return mergedPagination.itemCount && mergedPagination.pageSize && mergedPagination.itemCount > mergedPagination.pageSize;\n    });\n    return Object.assign({\n      mainTableInstRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      rtlEnabled: rtlEnabledRef,\n      mergedTheme: themeRef,\n      paginatedData: paginatedDataRef,\n      mergedBordered: mergedBorderedRef,\n      mergedBottomBordered: mergedBottomBorderedRef,\n      mergedPagination: mergedPaginationRef,\n      mergedShowPagination: mergedShowPaginationRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    }, exposedMethods);\n  },\n  render() {\n    const {\n      mergedClsPrefix,\n      themeClass,\n      onRender,\n      $slots,\n      spinProps\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-data-table`, this.rtlEnabled && `${mergedClsPrefix}-data-table--rtl`, themeClass, {\n        [`${mergedClsPrefix}-data-table--bordered`]: this.mergedBordered,\n        [`${mergedClsPrefix}-data-table--bottom-bordered`]: this.mergedBottomBordered,\n        [`${mergedClsPrefix}-data-table--single-line`]: this.singleLine,\n        [`${mergedClsPrefix}-data-table--single-column`]: this.singleColumn,\n        [`${mergedClsPrefix}-data-table--loading`]: this.loading,\n        [`${mergedClsPrefix}-data-table--flex-height`]: this.flexHeight\n      }],\n      style: this.cssVars\n    }, h(\"div\", {\n      class: `${mergedClsPrefix}-data-table-wrapper`\n    }, h(MainTable, {\n      ref: \"mainTableInstRef\"\n    })), this.mergedShowPagination ? h(\"div\", {\n      class: `${mergedClsPrefix}-data-table__pagination`\n    }, h(NPagination, Object.assign({\n      theme: this.mergedTheme.peers.Pagination,\n      themeOverrides: this.mergedTheme.peerOverrides.Pagination,\n      disabled: this.loading\n    }, this.mergedPagination))) : null, h(Transition, {\n      name: \"fade-in-scale-up-transition\"\n    }, {\n      default: () => {\n        return this.loading ? h(\"div\", {\n          class: `${mergedClsPrefix}-data-table-loading-wrapper`\n        }, resolveSlot($slots.loading, () => [h(NBaseLoading, Object.assign({\n          clsPrefix: mergedClsPrefix,\n          strokeWidth: 20\n        }, spinProps))])) : null;\n      }\n    }));\n  }\n});"],"names":["ArrowDownIcon","defineComponent","h","FilterIcon","commonVariables","self","vars","cardColor","modalColor","popoverColor","textColor2","textColor1","tableHeaderColor","tableColorHover","iconColor","primaryColor","fontWeightStrong","borderRadius","lineHeight","fontSizeSmall","fontSizeMedium","fontSizeLarge","dividerColor","heightSmall","opacityDisabled","tableColorStriped","composite","dataTableLight","createTheme","commonLight","buttonLight","checkboxLight","radioLight","paginationLight","scrollbarLight","emptyLight","popoverLight","ellipsisLight","dropdownLight","dataTableLight$1","NPerformantEllipsis","ellipsisProps","props","attrs","slots","mouseEnteredRef","ref","mergedClsPrefixRef","useMergedClsPrefix","useStyle","style","lineClamp","mergedClsPrefix","mergeProps","createLineClampClass","createCursorClass","Ellipsis","RenderSorter","render","order","dataTableProps","useTheme","dataTableInjectionKey","createInjectionKey","SortButton","mergedComponentPropsRef","useConfig","mergedSortStateRef","inject","sortStateRef","computed","state","activeRef","mergedSortOrderRef","sortState","mergedRenderSorterRef","_a","_b","mergedRenderSorter","mergedSortOrder","renderSorterIcon","NBaseIcon","RenderFilter","active","show","SELECTION_COL_WIDTH","EXPAND_COL_WIDTH","getNumberColWidth","col","depx","getStringColWidth","formatLength","getColKey","createShallowClonedObject","object","getFlagOfOrder","clampValueFollowCSSRules","value","min","max","createCustomWidthStyle","column","resizedWidth","width","minWidth","maxWidth","createRowClassName","row","index","rowClassName","shouldUseArrayInSingleMode","isColumnSortable","isColumnResizable","isColumnFilterable","getNextOrderOf","createNextSorter","currentSortState","isColumnSorting","mergedSortState","formatCsvCell","generateCsv","columns","data","exportableColumns","header","rows","NDataTableFilterMenu","mergedClsPrefixRefRtl","mergedRtlRef","rtlEnabledRef","useRtl","mergedThemeRef","localeRef","temporalValueRef","checkboxGroupValueRef","temporalValue","radioGroupValueRef","doChange","handleChange","handleConfirmClick","handleClearClick","mergedTheme","locale","NScrollbar","checkboxGroupValue","NCheckboxGroup","option","NCheckbox","NRadioGroup","NRadio","NButton","createFilterState","currentFilterState","columnKey","mergedFilterValue","nextFilterState","FilterButton","mergedFilterStateRef","filterMenuCssVarsRef","paginationBehaviorOnFilterRef","doUpdatePage","doUpdateFilters","showPopoverRef","filterStateRef","filterMultipleRef","mergedFilterValueRef","filterValue","multiple","mergedRenderFilterRef","handleFilterChange","handleFilterMenuCancel","handleFilterMenuConfirm","NPopover","v","mergedRenderFilter","renderFilterIcon","renderFilterMenu","ResizeButton","startX","getMouseX","e","handleMousedown","alreadyStarted","on","handleMousemove","handleMouseup","off","onBeforeUnmount","allKey","noneKey","createSelectHandler","options","rawPaginatedDataRef","doCheckAll","doUncheckAll","key","createDropdownOptions","SelectionMenu","checkOptionsRef","handleSelectRef","optionsRef","_c","_d","clsPrefix","NDropdown","ChevronDownIcon","renderTitle","TableHeader","scrollXRef","fixedColumnLeftMapRef","fixedColumnRightMapRef","mergedCurrentPageRef","allRowsCheckedRef","someRowsCheckedRef","rowsRef","colsRef","componentId","mergedTableLayoutRef","headerCheckboxDisabledRef","onUnstableColumnResize","doUpdateResizableWidth","handleTableHeaderScroll","deriveNextSorter","cellElsRef","getCellActualWidth","element","handleCheckboxUpdateChecked","handleColHeaderClick","happensIn","activeSorter","nextSorter","resizeStartWidthMap","handleColumnResizeStart","handleColumnResize","displacementX","startWidth","widthAfterResize","limitWidth","fixedColumnLeftMap","fixedColumnRightMap","currentPage","allRowsChecked","someRowsChecked","cols","checkOptions","discrete","mergedTableLayout","headerCheckboxDisabled","theadVNode","colSpan","rowSpan","isLast","ellipsis","createColumnVNode","Fragment","NEllipsis","leftFixed","rightFixed","el","pxfy","scrollX","Cell","isSummary","renderCell","cell","get","ExpandTrigger","NIconSwitchTransition","NBaseLoading","ChevronRightIcon","RenderSafeCheckbox","mergedCheckedRowKeySetRef","mergedInderminateRowKeySetRef","rowKey","RenderSafeRadio","flatten","rowInfos","expandedRowKeys","fRows","traverse","rs","rootIndex","r","rowInfo","children","VirtualListItemWrapper","id","onMouseenter","onMouseleave","TableBody","dataTableSlots","bodyWidthRef","mergedExpandedRowKeysRef","paginatedDataRef","rowClassNameRef","leftActiveFixedColKeyRef","leftActiveFixedChildrenColKeysRef","rightActiveFixedColKeyRef","rightActiveFixedChildrenColKeysRef","renderExpandRef","hoverKeyRef","summaryRef","virtualScrollRef","childTriggerColIndexRef","indentRef","rowPropsRef","maxHeightRef","stripedRef","loadingRef","onLoadRef","loadingKeySetRef","expandableRef","stickyExpandedRowsRef","renderExpandIconRef","summaryPlacementRef","treeMateRef","scrollbarPropsRef","setHeaderScrollLeft","doUpdateExpandedRowKeys","handleTableBodyScroll","doCheck","doUncheck","scrollbarInstRef","virtualListRef","emptyElRef","emptyRef","useMemo","shouldDisplaySomeTablePartRef","bodyShowHeaderOnlyRef","lastSelectedKey","mergedExpandedRowKeySetRef","getRowInfo","tmNode","checked","shiftKey","warn","lastIndex","item","currentIndex","start","end","rowKeysToCheck","handleRadioUpdateChecked","getScrollContainer","emptyEl","virtualListContainer","handleUpdateExpanded","mergedExpandedRowKeys","nextExpandedKeys","futureMergedExpandedRowKeys","futureNextExpandedKeys","handleMouseleaveTable","virtualListContent","handleVirtualListScroll","handleVirtualListResize","onResize","exposedMethods","arg0","arg1","c","cProps","createActiveLeftFixedStyle","leftActiveFixedColKey","createActiveRightFixedStyle","rightActiveFixedColKey","fixedStyleMounted","watchEffect","leftActiveFixedChildrenColKeys","rightActiveFixedChildrenColKeys","cssrAnchorMetaName","onUnmounted","striped","hasChildren","virtualScroll","maxHeight","flexHeight","loadingKeySet","scrollable","isBasicAutoLayout","xScrollable","contentStyle","tableNode","cordToPass","cordKey","paginatedDataAndInfo","mergedExpandedRowKeySet","stickyExpandedRows","childTriggerColIndex","expandable","rowProps","renderExpand","summary","colCount","mergedData","paginatedData","mergedPaginationData","summaryRows","summaryRowData","i","indentStyle","displayedData","rowCount","rowIndexToKey","rowIndex","bodyWidth","bodyWidthPx","renderRow","displayedRowIndex","isVirtual","actualRowIndex","rawNode","rowData","expanded","mergedRowClassName","colIndex","_e","cordOfRowToPass","indexInCordOfRowToPass","colKey","mergedColSpan","mergedRowSpan","isLastCol","isLastRow","isCrossRowTd","j","hoverKey","cellProps","resolvedCellProps","indentOffsetStyle","repeat","VirtualList","createEmptyNode","resolveSlot","NEmpty","VResizeObserver","MainTable","rightFixedColumnsRef","leftFixedColumnsRef","minHeightRef","flexHeightRef","syncScrollState","headerInstRef","bodyInstRef","selfElRef","fixedStateInitializedRef","bodyStyleRef","handleBodyResize","entry","getHeaderElement","getBodyElement","selfEl","transitionDisabledClass","headerInBody","useCheck","selectionColumnRef","uncontrolledCheckedRowKeysRef","mergedCheckState","checkedRowKeys","sourceKeys","mergedCheckedRowKeysRef","mergedInderminateRowKeysRef","countOfCurrentPageCheckedRowsRef","mergedCheckedRowKeySet","total","disabled","countOfCurrentPageDisabledRowsRef","length","mergedInderminateRowKeySet","doUpdateCheckedRowKeys","keys","action","_onUpdateCheckedRowKeys","onUpdateCheckedRowKeys","onCheckedRowKeysChange","getNode","call","single","checkWholeTable","rowKeysToUncheck","getMultiplePriority","sorter","getSortFunction","getDefaultSorterFn","row1","row2","value1","value2","useSorter","dataRelatedColsRef","filteredDataRef","defaultSortState","updateSortStatesByNewSortState","uncontrolledSortStateRef","columnsWithControlledSortOrder","columnToSort","uncontrolledSortState","sortedDataRef","activeSorters","a","b","item1Priority","tmNode1","tmNode2","compareResult","sorterState","compareFn","getUpdatedSorterState","nextSorterState","doUpdateSorter","_onUpdateSorter","onUpdateSorter","onSorterChange","sort","clearSorter","sortStates","useTableData","getSelectionColumn","childrenKey","createTreeMate","firstContentfulColIndex","uncontrolledFilterStateRef","pagination","uncontrolledCurrentPageRef","uncontrolledPageSizeRef","getDefaultPageSize","columnsWithControlledFilter","controlledFilterState","mergedFilterState","createDefaultFilter","filterOptionValue","columnEntries","activeFilterOptionValues","filter","defaultFilterOptionValues","controlledCurrentPageRef","controlledPageSizeRef","_mergedCurrentPageRef","useMergedState","mergedPageSizeRef","boundedMergedCurrentPageRef","page","mergedPageCountRef","pageCount","pageSize","startIndex","mergedOnUpdatePage","onChange","_onUpdatePage","onUpdatePage","mergedOnUpdatePageSize","onPageSizeChange","_onUpdatePageSize","onUpdatePageSize","doUpdatePageSize","mergedItemCountRef","itemCount","mergedPaginationRef","onPageChange","filters","sourceColumn","onUpdateFilters","_onUpdateFilters","onFiltersChange","limitedWidth","getColumnWidth","clearFilter","clearFilters","useScroll","mainTableInstRef","lastScrollLeft","scrollPartRef","styleScrollXRef","left","positionInfo","right","deriveActiveLeftFixedColumn","leftFixedColumns","leftWidth","deriveActiveLeftFixedChildrenColumns","activeLeftFixedColumn","nextActiveLeftFixedColumn","deriveActiveRightFixedColumn","rightFixedColumns","scrollWidth","tableWidth","rightWidth","deriveActiveRightFixedChildrenColumns","activeRightFixedColumn","nextActiveRightFixedColumn","getScrollElements","body","scrollMainTableBodyToTop","beforeNextFrameOnce","directionHead","watch","useResizable","resizableWidthsRef","getResizableWidth","clearResizableWidth","getRowsAndCols","dataRelatedCols","rowItemMap","maxDepth","totalRowSpan","hasEllipsis","ensureMaxDepth","currentDepth","currentLeafIndex","ensureColLayout","hideUntilIndex","cachedCurrentLeafIndex","rowItem","childColumn","useGroupHeader","rowsAndCols","useExpand","uncontrolledExpandedRowKeysRef","expandedKeys","controlledExpandedRowKeysRef","toRef","onUpdateExpandedRowKeys","_onUpdateExpandedRowKeys","fixedColumnStyle","createFixedColumnStyle","cB","cM","fadeInScaleUpTransition","iconSwitchTransition","cNotM","cE","insideModal","insidePopover","NDataTable","mergedBorderedRef","inlineThemeDisabled","mergedBottomBorderedRef","bottomBordered","themeRef","hasEllipsisRef","downloadCsv","fileName","keepOriginalData","csvData","blob","downloadUrl","download","useLocale","provide","createId","selectionColumn","actionDividerColor","actionPadding","actionButtonMargin","cssVarsRef","size","cubicBezierEaseInOut","borderColor","tdColorHover","thColor","thColorHover","tdColor","tdTextColor","thTextColor","thFontWeight","thButtonColorHover","thIconColor","thIconColorActive","filterSize","tdColorModal","thColorModal","borderColorModal","thColorHoverModal","tdColorHoverModal","borderColorPopover","thColorPopover","tdColorPopover","tdColorHoverPopover","thColorHoverPopover","paginationMargin","emptyPadding","boxShadowAfter","boxShadowBefore","sorterSize","resizableContainerSize","resizableSize","loadingColor","loadingSize","opacityLoading","tdColorStriped","tdColorStripedModal","tdColorStripedPopover","createKey","fontSize","thPadding","tdPadding","themeClassHandle","useThemeClass","mergedShowPaginationRef","mergedPagination","themeClass","onRender","$slots","spinProps","NPagination","Transition"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]}