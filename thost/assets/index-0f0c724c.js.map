{"version":3,"file":"index-0f0c724c.js","sources":["../../src/views/singleQs/index.vue"],"sourcesContent":["<template>\r\n    <div v-if=\"LoadingQ\">\r\n        <n-skeleton text :repeat=\"9\" />\r\n</div>\r\n<div v-else>\r\n<div v-html=\"normalizeq(T.q)\"></div>\r\n<n-button @click=\"deleteq()\">Delete</n-button>\r\n<n-button @click=\"editq()\">Edit</n-button>\r\n<n-button @click=\"showQA()\">Show Q &amp; A</n-button>\r\n<n-button @click=\"showRawData=!showRawData\">Show Raw data</n-button>\r\n<n-button @click=\"router.push('/view/'+route.params.id+'/printParse')\">PrintParse</n-button>\r\n<n-button @click=\"router.push('/view/'+route.params.id+'/editOrigin')\">editOrigin</n-button>\r\n<n-button @click=\"showAtZujuan\">组卷网中的这道题</n-button>\r\n<div >\r\n    <img :src=\"XKWGetFile.a\" style=\"width:600px;display:block;\">\r\n    <img :src=\"XKWGetFile.p\" style=\"width:600px;display:block;\">\r\n</div>\r\n<div v-if=\"showRawData\">\r\n    <n-config-provider :hljs=\"hljs\">\r\n    <n-code :code=\"code\" language=\"json\" show-line-numbers /></n-config-provider>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport { onMounted, ref } from \"vue\"\r\nimport {useRoute,useRouter} from \"vue-router\"\r\nimport { normalizeq } from \"@/shared/normalize_q/toScreenDSingle\"\r\nimport swal from \"sweetalert\"\r\nimport { NButton,NSkeleton,NCode,NConfigProvider } from \"naive-ui\"\r\nimport {API} from \"@/shared/APIHelper\" \r\nimport { useSettings } from '@/stored/settings'\r\nimport hljs from 'highlight.js/lib/core'\r\n  import json from 'highlight.js/lib/languages/json'\r\n  hljs.registerLanguage('json', json)\r\n\r\nconst store = useSettings()\r\nconst route=useRoute(),router=useRouter()\r\n\r\nconst LoadingQ=ref(true)\r\n\r\nconst T=ref({})\r\n\r\nconst XKWGetFile=ref({a:\"\",p:\"\"})\r\n\r\n\r\nconst showRawData=ref(false),code=ref(\"\")\r\n\r\n\r\nAPI.get(\"/api/data/get/\"+route.params.id).then(v=>{\r\n    T.value=v\r\n    LoadingQ.value=false\r\n    code.value=JSON.stringify(v,null,4)\r\n})\r\n\r\nconst showQA=()=>{\r\n    API.get(\"/api/xkw-helper/getCachedImg/\"+T.value.bankid+\"/\"+T.value.qid+\"/600\").then(r=>{\r\n        XKWGetFile.value={\r\n            a:API.host+\"/api/xkw-helper/route-pic?purl=\"+btoa(r.answer.replace(\"@2\",\"@3\")),\r\n            p:API.host+\"/api/xkw-helper/route-pic?purl=\"+btoa(r.parse.replace(\"@2\",\"@3\")),\r\n        }\r\n})\r\n}\r\n//e217b45e97cef0e2850ca10b3360e62867b4\r\nconst deleteq=()=>{\r\n    swal(\"Are you sure?\",{\r\n        dangerMode:true,buttons:true\r\n    }).then(v=>{\r\n        if(v){\r\n            API.get(\"/api/qapi/delete/\"+route.params.id).then(v=>{\r\n                swal(JSON.stringify(v,null,4))\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\n\r\nconst showAtZujuan=()=>{\r\n    window.open(\"https://zujuan.xkw.com/\"+T.value.bankid+\"q\"+T.value.qid+\".html\")\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"names":["hljs","json","useSettings","route","useRoute","router","useRouter","LoadingQ","ref","T","XKWGetFile","showRawData","code","API","v","showQA","r","deleteq","swal","showAtZujuan"],"mappings":"unCAmCEA,EAAA,iBAAA,OAAAC,CAAA,EAEFC,EAAA,EACA,MAAAC,EAAAC,EAAA,EAAAC,EAAAC,EAAA,EAEAC,EAAAC,EAAA,EAAA,EAEAC,EAAAD,EAAA,EAAA,EAEAE,EAAAF,EAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,EAGAG,EAAAH,EAAA,EAAA,EAAAI,EAAAJ,EAAA,EAAA,EAGAK,EAAA,IAAA,iBAAAV,EAAA,OAAA,EAAA,EAAA,KAAAW,GAAA,CACAL,EAAA,MAAAK,EACAP,EAAA,MAAA,GACAK,EAAA,MAAA,KAAA,UAAAE,EAAA,KAAA,CAAA,CACA,CAAA,EAEA,MAAAC,EAAA,IAAA,CACAF,EAAA,IAAA,gCAAAJ,EAAA,MAAA,OAAA,IAAAA,EAAA,MAAA,IAAA,MAAA,EAAA,KAAAO,GAAA,CACAN,EAAA,MAAA,CACA,EAAAG,EAAA,KAAA,kCAAA,KAAAG,EAAA,OAAA,QAAA,KAAA,IAAA,CAAA,EACA,EAAAH,EAAA,KAAA,kCAAA,KAAAG,EAAA,MAAA,QAAA,KAAA,IAAA,CAAA,CACA,CACA,CAAA,CACA,EAEAC,EAAA,IAAA,CACAC,EAAA,gBAAA,CACA,WAAA,GAAA,QAAA,EACA,CAAA,EAAA,KAAAJ,GAAA,CACAA,GACAD,EAAA,IAAA,oBAAAV,EAAA,OAAA,EAAA,EAAA,KAAAW,GAAA,CACAI,EAAA,KAAA,UAAAJ,EAAA,KAAA,CAAA,CAAA,CACA,CAAA,CAEA,CAAA,CACA,EAGAK,EAAA,IAAA,CACA,OAAA,KAAA,0BAAAV,EAAA,MAAA,OAAA,IAAAA,EAAA,MAAA,IAAA,OAAA,CACA"}