import{A as L}from"./APIHelper-89899791.js";import{useRoute as H,useRouter as U}from"./vue-router-85f8dd9e.js";import"./sweetalert.min-b990379b.js";import{u as P}from"./settings-a16c4400.js";import{a as B}from"./generateHTMLCode-2e08e708.js";import{w as F,ab as d,m as w,n,b2 as s,av as x,k as N,aH as l,u as a,bc as e,t as c,F as $,ah as I,bi as O,l as V,N as y}from"./index-6b27469d.js";import{N as G}from"./Skeleton-6c716d44.js";import{N as E}from"./Card-b4e38b92.js";import{N as Q}from"./text-c9fbbb88.js";import{N as J,S as K,R as W,b as X}from"./SearchOutline-37369a08.js";import{N as Y}from"./Tag-156be23d.js";import{N as g}from"./Button-a421b774.js";import{N as Z,a as ee}from"./Checkbox-d6d0f1db.js";import ae from"./subjects-1684b75a.js";import{N as le}from"./Tooltip-46e4aeaa.js";import{E as te}from"./ExitOutline-1481b731.js";import{E as oe}from"./EllipsisVerticalOutline-f118589b.js";import{N as R}from"./Input-c49f615f.js";import{N as T}from"./Icon-bc12cdb3.js";import{N as ie}from"./Cascader-3dd91518.js";import{N as ue}from"./Dropdown-6e48c879.js";import{N as re}from"./InputGroup-0a19f812.js";import{N as pe}from"./Modal-845087fa.js";import"./light-cb8e5d18.js";import"./format-length-c9d165c6.js";import"./Icon-0741e3aa.js";import"./Warning-ad995842.js";import"./Close-df27b242.js";import"./Scrollbar-6ef5ad24.js";import"./runtime-dom.esm-bundler-4f377a37.js";import"./keysOf-5d5107c5.js";import"./_commonjsHelpers-de833af9.js";import"./toScreenDSingle-d0be9dca.js";import"./diff.map-0594d4b4.js";import"./use-houdini-2b215f58.js";import"./use-memo-7138c88c.js";import"./use-is-mounted-e356ec1d.js";import"./use-compitable-182c3d4e.js";import"./light-5c2f581c.js";import"./use-locale-13d55c5c.js";import"./index-975a2d8f.js";import"./use-merged-state-236ae148.js";import"./utils-1657c4d7.js";import"./Popover-d5735fab.js";import"./index-cabd39fd.js";import"./flatten-0afec71b.js";import"./use-false-until-truthy-35c1fbae.js";import"./get-9cb40f85.js";import"./cssr-752b8ed7.js";import"./utils-eca1999b.js";import"./next-frame-once-7035a838.js";import"./fade-in-scale-up.cssr-59f6c429.js";import"./create-59670860.js";import"./Loading-a27cceda.js";import"./ChevronRight-f0e435af.js";import"./Suffix-8898b6d6.js";import"./index-cbfaa337.js";import"./light-5edeff63.js";import"./index-d51aa4a2.js";import"./FadeInExpandTransition-65435983.js";const ne={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},se=n("path",{d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),me=n("path",{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38z",fill:"currentColor"},null,-1),ve=n("path",{d:"M399.34 90L218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z",fill:"currentColor"},null,-1),de=[se,me,ve],ce=F({name:"CreateOutline",render:function(M,h){return d(),w("svg",ne,de)}}),ge=["innerHTML"],fe={key:0},ke=n("p",null,"\u7B54\u6848",-1),he=["innerHTML"],_e=n("p",null,"\u89E3\u6790",-1),we=["innerHTML"],Te=n("p",null,"\u6CE8\u91CA",-1),Ce=["innerHTML"],ze={__name:"comp.viewMCItemSing",setup(M){P(),H(),U();const h=s(!0),C=new Date().getTime();s({a:"",p:""});const f=s(!1),_=x(),u=s({T:{},Q:{}});L.get("/api/data/mistakes_coll/get/full_with_question/"+_.ItemId).then(v=>{u.value.T=v.mistakes_coll,u.value.Q=v.quesRecord,h.value=!1});const z=()=>{f.value=!0};return(v,m)=>h.value?(d(),N(e(E),{key:0},{default:l(()=>[a(e(G),{repeat:8})]),_:1})):(d(),N(e(E),{key:1},{default:l(()=>[a(e(Q),null,{default:l(()=>[c("\u6536\u5F55\u4E8E\uFF1A")]),_:1}),a(e(J),{time:u.value.T.collTime,to:e(C),type:"relative"},null,8,["time","to"]),a(e(Q),null,{default:l(()=>[c("| Tags:")]),_:1}),(d(!0),w($,null,I(u.value.T.tags,t=>(d(),N(e(Y),{onClick:o=>v.$router.push("/mistakes_coll/list/filter/tag/"+t.value)},{default:l(()=>[c(O(t.label),1)]),_:2},1032,["onClick"]))),256)),n("div",{innerHTML:e(B)(u.value.T,u.value.Q)},null,8,ge),a(e(g),{onClick:m[0]||(m[0]=t=>v.deleteq())},{default:l(()=>[c("Delete")]),_:1}),a(e(g),{onClick:m[1]||(m[1]=t=>v.$router.push("/mistakes_coll/edit/"+u.value.T.id))},{default:l(()=>[c("Edit")]),_:1}),a(e(g),{onClick:m[2]||(m[2]=t=>z())},{default:l(()=>[c("Show Q & A")]),_:1}),a(e(Z),{value:u.value.T.id},null,8,["value"]),f.value?(d(),w("div",fe,[ke,n("div",{innerHTML:u.value.T.answer},null,8,he),_e,n("div",{innerHTML:u.value.T.parse},null,8,we),Te,n("div",{innerHTML:u.value.T.note},null,8,Ce)])):V("",!0)]),_:1}))}},Ne=n("br",null,null,-1),Se=n("p",null,"\u4E3A\u5BFC\u51FA\u7684\u9519\u9898\u96C6Session\u547D\u540D",-1),be={__name:"list",setup(M){const h=H(),C=U(),f=x(),_=s(!0),u=s(!1),z=s(""),v=s([]),m=s([]),t=s(0),o=s({page:1,pageSize:10,showSizePicker:!0,itemCount:0,pageSizes:[5,10,20,50,100,200],onChange:r=>{o.value.page=r,_.value=!0,k()},onUpdatePageSize:r=>{o.value.pageSize=r,o.value.page=1,_.value=!0,k()}}),k=()=>{let r="";f.page=="basic"?r=`/api/data/mistakes_coll/list.id?offset=${(o.value.page-1)*o.value.pageSize}&pagesize=${o.value.pageSize}${t.value!=0?"&bankid="+t.value:""}`:f.page=="tag"&&(r=`/api/data/mistakes_coll/list.id/filter/tag/${h.params.id}?offset=${(o.value.page-1)*o.value.pageSize}&pagesize=${o.value.pageSize}${t.value!=0?"&bankid="+t.value:""}`),L.get(r).then(i=>{v.value=i.data,o.value.itemCount=i.count,_.value=!1,u.value=!1})};k();const S=s(""),b=s(!1),q=()=>{console.log(m.value),b.value=!0},D=()=>{console.log(m.value)},j=()=>{L.post("/api/data/mistakes_coll/session/create",{list:m.value.join(","),timestamp:new Date().getTime(),bankid:t.value,title:S.value,generator:`${f.page}${f.page=="tag"?"@"+h.params.id:""}${t.value!=0?"+bankid@"+t.value:""}`}).then(r=>{C.push("/mistakes_coll/preexport-1/"+r.id)})},A=[{label:"\u7F16\u8F91Tags",key:"edit-tags",icon:(r=>()=>y(T,null,{default:()=>y(r)}))(ce),props:{onClick:()=>{C.push("/mistakes_coll/edit-tags")}}}];return(r,i)=>(d(),w($,null,[a(e(re),null,{default:l(()=>[a(e(R),{placeholder:"Search",value:z.value,"onUpdate:value":i[0]||(i[0]=p=>z.value=p),loading:u.value,"on-input":r.SearchUpdate},null,8,["value","loading","on-input"]),a(e(g),{onClick:r.handleSearch},{icon:l(()=>[a(e(T),{component:e(K)},null,8,["component"])]),_:1},8,["onClick"]),a(e(ie),{value:t.value,"onUpdate:value":[i[1]||(i[1]=p=>t.value=p),k],options:e(ae),"check-strategy":"child","show-path":!0},null,8,["value","options"]),a(e(g),{onClick:k},{icon:l(()=>[a(e(T),{component:e(W)},null,8,["component"])]),_:1}),a(e(le),{trigger:"hover"},{trigger:l(()=>[a(e(g),{strong:"",onClick:q},{icon:l(()=>[a(e(T),{component:e(te)},null,8,["component"])]),_:1})]),default:l(()=>[c(" \u5BFC\u51FA"),Ne,c(" Export ")]),_:1}),a(e(ue),{options:A},{default:l(()=>[a(e(g),null,{icon:l(()=>[a(e(T),{component:e(oe)},null,8,["component"])]),_:1})]),_:1})]),_:1}),a(e(ee),{value:m.value,"onUpdate:value":i[2]||(i[2]=p=>m.value=p),"onUpdate:checked":D},{default:l(()=>[n("div",null,[(d(!0),w($,null,I(v.value,p=>(d(),N(ze,{ItemId:p.id},null,8,["ItemId"]))),256))])]),_:1},8,["value"]),a(e(X),{page:o.value.page,"onUpdate:page":i[3]||(i[3]=p=>o.value.page=p),"item-count":o.value.itemCount,"show-size-picker":"","page-sizes":o.value.pageSizes,"on-update:page-size":k,"on-update:page":k},null,8,["page","item-count","page-sizes"]),a(e(pe),{show:b.value,"onUpdate:show":i[5]||(i[5]=p=>b.value=p),class:"custom-card",preset:"card",title:"Naming",bordered:!1,size:"huge"},{default:l(()=>[Se,a(e(R),{value:S.value,"onUpdate:value":i[4]||(i[4]=p=>S.value=p)},null,8,["value"]),a(e(g),{onClick:j},{default:l(()=>[c("\u597D\u7684")]),_:1})]),_:1},8,["show"])],64))}};export{be as default};
