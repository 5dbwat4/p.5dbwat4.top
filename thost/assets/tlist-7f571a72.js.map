{"version":3,"file":"tlist-7f571a72.js","sources":["../../src/views/zujuanink-v3/views/export/tlist.vue"],"sourcesContent":["<template>\r\n<div v-if=\"step==1\">\r\n    <p>标题：</p>\r\n    <n-input v-model:value=\"GPtitle\"></n-input>\r\n    <p>Group uuid：</p>\r\n    <n-input v-model:value=\"GPUUID\"></n-input>\r\n<p>标题形式：</p>\r\n<p>1:</p>\r\n<div class=\"bordered\">\r\n    <p style=\"font-size:6.5pt;font-family:'Times New Roman' , 仿宋;margin:0px\">\r\n                Generated by thost | Group UUID: {{GPUUID}} | Title: {{GPtitle}}</p>\r\n</div>\r\n<p>2:</p>\r\n<div class=\"bordered\">\r\n<div  style=\"text-align:center;font-family:Cambria , 仿宋;margin:0px\">\r\n                <p style=\"font-size:10pt;\">{{GPtitle}}</p>\r\n                <p style=\"font-size:6.5pt;\">Generated by thost | UUID: <span\r\n                        style=\"font-family:'courier new'\">{{GPUUID}}</span></p>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <p>3:</p>\r\n        <div class=\"bordered\">\r\n\r\n            <div style=\"text-align:center;font-family:黑体;margin:0px\">\r\n                <p style=\"font-size:10pt;\">{{GPtitle}}</p>\r\n            </div>\r\n        </div>\r\n\r\n        <n-input-number v-model:value=\"GTitleFormat\"></n-input-number>\r\n<p>正文信息：1，完整；2.题型+难度；3.仅含题号</p>\r\n<n-input-number v-model:value=\"GContentFormat\"></n-input-number>\r\n\r\n\r\n<n-button @click=\"step=2;initGQPContent()\">NEXT</n-button>\r\n</div>\r\n\r\n<div v-show=\"step==2\">\r\n\r\n<div id=\"_GQP_content_core\"  :style=\"{width:'18.76cm',columns:1,'line-height':'normal'}\">\r\n\r\n</div>\r\n\r\n</div>\r\n</template>\r\n<script setup>\r\n\r\nimport {ref,nextTick} from \"vue\"\r\nimport {NInput,NInputNumber,NButton} from \"naive-ui\"\r\n\r\n\r\nimport { useRouter,useRoute } from \"vue-router\";\r\nconst router=useRouter(),route=useRoute()\r\nconst step=ref(1)\r\n\r\nconst GPtitle=ref(\"\"),GPUUID=ref(\"\"),GTitleFormat=ref(1),GContentFormat=ref(1)\r\n\r\nimport { normalizeqA } from \"./nomorlize_q\"\r\n\r\nconst initGQPContent=async()=>{\r\n    let htmlelem=document.createElement(\"div\")\r\n    let ctncode=\"\"\r\n        ctncode+=`    <p style=\"font-size:6.5pt;font-family:'Times New Roman' , 仿宋;margin:0px\">\r\n                Generated by thost | Title: ${GPtitle.value}</p>`\r\n                ctncode+=\"<div>\"\r\n    for (let i = 0; i < window.TList.length; i++) {\r\n        const qcontent=window.TList[i]\r\n            ctncode+=`\r\n            <div class=\"qqmain\" id=\"qmain-${i}\">\r\n            <div class=\"qblock\" id=\"qblock-${i}\">${normalizeqA(qcontent.body,{GContentFormat,qcontent,index:i+1})}\r\n            \r\n            <div class=\"extb\" id=\"extb-${i}\"></div>    </div>\r\n\r\n            \r\n            </div>\r\n            `\r\n    }\r\n    ctncode+=\"</div>\"\r\n    document.getElementById(\"_GQP_content_core\").innerHTML=ctncode\r\n    function toTable(opts,lns){\r\n    if(lns==1){\r\n        return \"<tbody><tr>\"+opts.join(\"\")+\"</tr></tbody>\"\r\n    }\r\n    if(lns==2){\r\n        return `<tbody><tr>${opts[0]}${opts[1]}</tr><tr>${opts[2]}${opts[3]}</tr></tbody>`\r\n    }\r\n    if(lns==4){\r\n        return \"<tbody><tr>\"+opts.join(\"</tr><tr>\")+\"</tr></tbody>\"\r\n    }\r\n}\r\nawait nextTick()\r\n    document.getElementById(\"_GQP_content_core\").querySelectorAll(\"table[name=optionsTable]\").forEach(v=>{\r\n        let ops=[],maxw=0\r\n        v.querySelectorAll(\"td\").forEach(oo=>{\r\n                maxw=Math.max(maxw,oo.querySelector(\"span\").clientWidth)\r\n                ops.push(oo.outerHTML)\r\n            })\r\n            console.log(maxw);\r\n        if(maxw>=v.clientWidth/2){\r\n\r\n        }else if(maxw>=v.clientWidth/4){\r\n            v.innerHTML=toTable(ops,2)\r\n            console.log(2);\r\n        }else{\r\n            v.innerHTML=toTable(ops,1)\r\n            console.log(4);\r\n        }\r\n        // console.log(v.innerHTML);\r\n        \r\n    })\r\n\r\n    window.HTMLExportString=document.getElementById(\"_GQP_content_core\").innerHTML\r\n    router.push(\"/gen/\"+GPUUID.value)\r\n    return \"Inited.\"\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.bordered{\r\nborder: 1px dashed red;\r\n}\r\n</style>"],"names":["router","useRouter","useRoute","step","ref","GPtitle","GPUUID","GTitleFormat","GContentFormat","initGQPContent","ctncode","i","qcontent","normalizeqA","toTable","opts","lns","nextTick","v","ops","maxw","oo"],"mappings":"0nDAqDK,MAACA,EAAOC,EAAW,EAAOC,EAAU,EACzC,MAAMC,EAAKC,EAAI,CAAC,EAEVC,EAAQD,EAAI,EAAE,EAAEE,EAAOF,EAAI,EAAE,EAAEG,EAAaH,EAAI,CAAC,EAAEI,EAAeJ,EAAI,CAAC,EAIvEK,EAAe,SAAS,CACb,SAAS,cAAc,KAAK,EACzC,IAAIC,EAAQ,GACRA,GAAS;AAAA,8CAC6BL,EAAQ,KAAK,OAC3CK,GAAS,QACrB,QAASC,EAAI,EAAGA,EAAI,OAAO,MAAM,OAAQA,IAAK,CAC1C,MAAMC,EAAS,OAAO,MAAMD,CAAC,EACzBD,GAAS;AAAA,4CACuBC,CAAC;AAAA,6CACAA,CAAC,KAAKE,EAAYD,EAAS,KAAK,CAAC,eAAAJ,EAAe,SAAAI,EAAS,MAAMD,EAAE,CAAC,CAAC,CAAC;AAAA;AAAA,yCAExEA,CAAC;AAAA;AAAA;AAAA;AAAA,aAKrC,CACDD,GAAS,SACT,SAAS,eAAe,mBAAmB,EAAE,UAAUA,EACvD,SAASI,EAAQC,EAAKC,EAAI,CAC1B,GAAGA,GAAK,EACJ,MAAO,cAAcD,EAAK,KAAK,EAAE,EAAE,gBAEvC,GAAGC,GAAK,EACJ,MAAO,cAAcD,EAAK,CAAC,CAAC,GAAGA,EAAK,CAAC,CAAC,YAAYA,EAAK,CAAC,CAAC,GAAGA,EAAK,CAAC,CAAC,gBAEvE,GAAGC,GAAK,EACJ,MAAO,cAAcD,EAAK,KAAK,WAAW,EAAE,eAEpD,CACA,aAAME,EAAU,EACZ,SAAS,eAAe,mBAAmB,EAAE,iBAAiB,0BAA0B,EAAE,QAAQC,GAAG,CACjG,IAAIC,EAAI,GAAGC,EAAK,EAChBF,EAAE,iBAAiB,IAAI,EAAE,QAAQG,GAAI,CAC7BD,EAAK,KAAK,IAAIA,EAAKC,EAAG,cAAc,MAAM,EAAE,WAAW,EACvDF,EAAI,KAAKE,EAAG,SAAS,CACrC,CAAa,EACD,QAAQ,IAAID,CAAI,EACjBA,GAAMF,EAAE,YAAY,IAEdE,GAAMF,EAAE,YAAY,GACzBA,EAAE,UAAUJ,EAAQK,EAAI,CAAC,EACzB,QAAQ,IAAI,CAAC,IAEbD,EAAE,UAAUJ,EAAQK,EAAI,CAAC,EACzB,QAAQ,IAAI,CAAC,GAIzB,CAAK,EAED,OAAO,iBAAiB,SAAS,eAAe,mBAAmB,EAAE,UACrEnB,EAAO,KAAK,QAAQM,EAAO,KAAK,EACzB,SACX"}