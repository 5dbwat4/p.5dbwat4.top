import{useRoute as q,useRouter as I}from"./vue-router-3740985a.js";import{A as _}from"./APIHelper-e0fd8d04.js";import{as as j,aZ as p,a8 as b,l as h,t as e,aE as l,s as n,b7 as o,m as A,bd as B,F as L,J as v}from"./runtime-core.esm-bundler-c066f4bf.js";import{N as R}from"./DataTable-25f45bd7.js";import{N as y}from"./InputGroupLabel-87ffcfd7.js";import{N}from"./InputNumber-76a678c1.js";import{a as m}from"./Button-0891d5bc.js";import{N as T}from"./InputGroup-c4a877bc.js";import"./light-185f79ed.js";import"./format-length-c9d165c6.js";import"./Icon-13ca7aa7.js";import"./Warning-9f568e6f.js";import"./Close-869cd549.js";import"./Scrollbar-431c7fad.js";import"./runtime-dom.esm-bundler-caa8590e.js";import"./Checkbox-9546fcc9.js";import"./use-merged-state-89f8109f.js";import"./FadeInExpandTransition-ff940b4d.js";import"./use-memo-b9add725.js";import"./flatten-a133123b.js";import"./get-slot-1efb97e5.js";import"./Popover-fc210933.js";import"./fade-in-scale-up.cssr-3d9943f6.js";import"./use-false-until-truthy-a506b738.js";import"./get-af977d88.js";import"./utils-d7fa52af.js";import"./use-compitable-42538ef7.js";import"./next-frame-once-7035a838.js";import"./Suffix-f17523aa.js";import"./Dropdown-7b432191.js";import"./Icon-a4a30104.js";import"./ChevronRight-989c7384.js";import"./create-e19b3023.js";import"./Ellipsis-df703194.js";import"./Tooltip-1dec7089.js";import"./utils-de113cde.js";import"./use-locale-c50998bd.js";import"./index-975a2d8f.js";import"./Tag-976b884f.js";import"./attribute-2ee9e579.js";import"./light-32637dc7.js";import"./Input-557ba55c.js";import"./index-cbfaa337.js";const U=["innerHTML"],D={__name:"extention-preview",setup(x){const r=j(),s=p("");return _.get("/api/qapi/get/"+r.id).then(a=>{s.value=a.q}),(a,k)=>(b(),h("div",{innerHTML:s.value},null,8,U))}},wt={__name:"index",setup(x){const r=q(),s=I(),a=p([]),k=[{type:"selection"},{type:"expand",renderExpand(t){return v(D,{id:t.id})}},{title:"uuid",key:"id"},{title:"submit time",render(t){return v("p",{},new Date(t.timestamp).toISOString())}},{title:"extra",key:"extra"},{title:"view",render(t){return v(m,{text:!0,onClick:()=>{s.push("/view/"+t.id)}},{default:()=>"View"})}}],g=p([]),C=t=>{g.value=t,console.log(t)},w=()=>{s.push("/batch/"+g.value.join(","))},f=p(!0),d=p(parseInt(r.query.offset||"0")),c=p(parseInt(r.query.limit||"50"));return console.log(r.query),r.query.filter||_.get("/api/list/v2/directget/"+d.value+"/"+c.value).then(t=>{a.value=t,f.value=!1}),r.query.filter=="subject"&&_.get("/api/list/v2/filter/subject/"+r.query.subject+"/"+d.value+"/"+c.value).then(t=>{a.value=t,f.value=!1}),(t,u)=>(b(),h(L,null,[e(o(m),{onClick:u[0]||(u[0]=i=>t.$router.push("/list/uuids_all"))},{default:l(()=>[n("ALL UUIDS")]),_:1}),e(o(R),{remote:"",data:a.value,columns:k,loading:f.value,"onUpdate:checkedRowKeys":C,"row-key":i=>i.id,"visual-scroll":""},null,8,["data","loading","row-key"]),e(o(T),null,{default:l(()=>[e(o(y),null,{default:l(()=>[n("偏移(offset)")]),_:1}),e(o(N),{min:0,value:d.value,"onUpdate:value":u[1]||(u[1]=i=>d.value=i)},null,8,["value"]),e(o(y),null,{default:l(()=>[n("总数(limit)")]),_:1}),e(o(N),{min:0,value:c.value,"onUpdate:value":u[2]||(u[2]=i=>c.value=i)},null,8,["value"]),e(o(m),{onClick:t.relist},{default:l(()=>[n("前往")]),_:1},8,["onClick"]),e(o(m),{onClick:t.relist_nextos},{default:l(()=>[n("下一组")]),_:1},8,["onClick"])]),_:1}),e(o(m),{onClick:w},{default:l(()=>[n("BATCH")]),_:1}),A("p",null,B(a.value.map(i=>i.id).join(",")),1)],64))}};export{wt as default};
