{"version":3,"file":"view-1a4f27fb.js","sources":["../../src/views/mistakes_coll/view.vue"],"sourcesContent":["<template>\r\n    <div v-if=\"LoadingQ\">\r\n        <n-skeleton text :repeat=\"9\" />\r\n</div>\r\n<div v-else>\r\n<div v-html=\"generateHTMLCodeQ(T,Q)\"></div>\r\n<n-button @click=\"deleteq()\">Delete</n-button>\r\n<n-button @click=\"$router.push('../edit/'+$route.params.id)\">Edit</n-button>\r\n<n-button @click=\"showQA()\">Show Q &amp; A</n-button>\r\n<div v-if=\"showQA_flag\">\r\n    <p>答案</p>\r\n<div v-html=\"T.answer\"></div>\r\n<p>解析</p>\r\n<div v-html=\"T.parse\"></div>\r\n<p>注释</p>\r\n<div v-html=\"T.note\"></div>\r\n</div>\r\n<!-- <div >\r\n    <img :src=\"XKWGetFile.a\" style=\"width:600px;display:block;\">\r\n    <img :src=\"XKWGetFile.p\" style=\"width:600px;display:block;\">\r\n</div> -->\r\n</div>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport { onMounted, ref } from \"vue\"\r\nimport {useRoute,useRouter} from \"vue-router\"\r\nimport { normalizeq } from \"@/shared/normalize_q/toScreenDSingle\"\r\nimport swal from \"sweetalert\"\r\nimport { NButton,NSkeleton } from \"naive-ui\"\r\nimport {API} from \"@/shared/APIHelper\" \r\nimport { useSettings } from '@/stored/settings'\r\nimport { generateHTMLCodeQ } from \"./generateHTMLCode\"\r\n\r\n\r\nconst store = useSettings()\r\nconst route=useRoute(),router=useRouter()\r\n\r\nconst LoadingQ=ref(true)\r\n\r\nconst T=ref({}),Q=ref({})\r\n\r\nconst XKWGetFile=ref({a:\"\",p:\"\"})\r\n\r\nconst showQA_flag=ref(false)\r\n\r\n\r\n\r\nAPI.get(\"/api/data/mistakes_coll/get/full_with_question/\"+route.params.id).then(v=>{\r\n    T.value=v.mistakes_coll\r\n    Q.value=v.quesRecord\r\n    LoadingQ.value=false\r\n})\r\n\r\nconst showQA=()=>{\r\n    showQA_flag.value=true\r\n//     API.get(\"/api/xkw-helper/getCachedImg/\"+T.value.bankid+\"/\"+T.value.qid+\"/600\").then(r=>{\r\n//         XKWGetFile.value={\r\n//             a:API.host+\"/api/xkw-helper/route-pic?purl=\"+btoa(r.answer.replace(\"@2\",\"@3\")),\r\n//             p:API.host+\"/api/xkw-helper/route-pic?purl=\"+btoa(r.parse.replace(\"@2\",\"@3\")),\r\n//         }\r\n// })\r\n}\r\n//e217b45e97cef0e2850ca10b3360e62867b4\r\nconst deleteq=()=>{\r\n    swal(\"Are you sure?\",{\r\n        dangerMode:true,buttons:true\r\n    }).then(v=>{\r\n        if(v){\r\n            API.get(\"/api/qapi/delete/\"+route.params.id).then(v=>{\r\n                swal(JSON.stringify(v,null,4))\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"names":["useSettings","route","useRoute","useRouter","LoadingQ","ref","T","Q","showQA_flag","API","v","showQA","deleteq","swal"],"mappings":"+oCAoCAA,EAAA,EACA,MAAAC,EAAAC,EAAA,EAAAC,EAAA,EAEA,MAAAC,EAAAC,EAAA,EAAA,EAEAC,EAAAD,EAAA,CAAA,CAAA,EAAAE,EAAAF,EAAA,CAAA,CAAA,EAEAA,EAAA,CAAA,EAAA,GAAA,EAAA,EAAA,CAAA,EAEA,MAAAG,EAAAH,EAAA,EAAA,EAIAI,EAAA,IAAA,kDAAAR,EAAA,OAAA,EAAA,EAAA,KAAAS,GAAA,CACAJ,EAAA,MAAAI,EAAA,cACAH,EAAA,MAAAG,EAAA,WACAN,EAAA,MAAA,EACA,CAAA,EAEA,MAAAO,EAAA,IAAA,CACAH,EAAA,MAAA,EAOA,EAEAI,EAAA,IAAA,CACAC,EAAA,gBAAA,CACA,WAAA,GAAA,QAAA,EACA,CAAA,EAAA,KAAAH,GAAA,CACAA,GACAD,EAAA,IAAA,oBAAAR,EAAA,OAAA,EAAA,EAAA,KAAAS,GAAA,CACAG,EAAA,KAAA,UAAAH,EAAA,KAAA,CAAA,CAAA,CACA,CAAA,CAEA,CAAA,CACA"}