import C from"./subjects-8683e557.js";import{Z as q}from"./zujuan-api-6553a0fa.js";import{A as N}from"./APIHelper-89899791.js";import"./router-goto-0b03734e.js";import{C as g}from"./zjw-1bb8dc5b.js";import{useRouter as w,useRoute as I}from"./vue-router-85f8dd9e.js";import{p as R}from"./polishinguptlist-d7ae60d0.js";import{s as D}from"./sweetalert.min-b990379b.js";import{b as F}from"./blankpic-ca06291d.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";import{b2 as n,ab as p,m as c,k as _,aH as r,bc as o,l as k,F as h,u as a,t as u,ah as O}from"./index-6b27469d.js";import{N as j}from"./p-d63b6958.js";import{N as x}from"./Cascader-3dd91518.js";import{N as d}from"./Button-a421b774.js";import{N as f}from"./Card-b4e38b92.js";import"./light-cb8e5d18.js";import"./format-length-c9d165c6.js";import"./Icon-0741e3aa.js";import"./Warning-ad995842.js";import"./Close-df27b242.js";import"./Scrollbar-6ef5ad24.js";import"./runtime-dom.esm-bundler-4f377a37.js";import"./keysOf-5d5107c5.js";import"./CONFIG-d506a2d4.js";import"./nomorlize_q-tailored-672252d5.js";import"./Divider-7d564df1.js";import"./Ellipsis-b74cfcb8.js";import"./Tooltip-46e4aeaa.js";import"./Popover-d5735fab.js";import"./index-cabd39fd.js";import"./flatten-0afec71b.js";import"./use-false-until-truthy-35c1fbae.js";import"./get-9cb40f85.js";import"./use-memo-7138c88c.js";import"./cssr-752b8ed7.js";import"./utils-eca1999b.js";import"./use-is-mounted-e356ec1d.js";import"./use-merged-state-236ae148.js";import"./use-compitable-182c3d4e.js";import"./next-frame-once-7035a838.js";import"./Space-5a87e743.js";import"./get-slot-1efb97e5.js";import"./_commonjsHelpers-de833af9.js";import"./light-5c2f581c.js";import"./utils-1657c4d7.js";import"./fade-in-scale-up.cssr-59f6c429.js";import"./create-59670860.js";import"./Loading-a27cceda.js";import"./ChevronRight-f0e435af.js";import"./use-locale-13d55c5c.js";import"./index-975a2d8f.js";import"./Suffix-8898b6d6.js";import"./Tag-156be23d.js";import"./Checkbox-d6d0f1db.js";import"./index-cbfaa337.js";import"./FadeInExpandTransition-65435983.js";const B={class:"centered"},K={__name:"manualadd",setup(T){w();const v=I(),e=n(15),s=n(1),l=n([]);v.query.bankid&&(e.value=parseInt(v.query.bankid));const b=async()=>{q("/app-server/v1/basket/"+e.value).then(async i=>{let t=[];i.data.structure.forEach(m=>{t.push(...m.list)}),t=await R(e.value,t),s.value=2,l.value=t})},y=async()=>{for(let i=0;i<l.value.length;i++)await N.post("/zujuan-ink-be-core/donerec/add",{quid:l.value[i].quid,date:new Date().toDateString(),timestamp:new Date().getTime(),image:F,parent:"unsaved"});D({icon:"success",title:"OK"})};return(i,t)=>(p(),c(h,null,[s.value==1?(p(),_(o(f),{key:0,title:"\u624B\u52A8\u6DFB\u52A0\u9519\u9898"},{default:r(()=>[a(o(j),null,{default:r(()=>[u("\u5C06\u4F7F\u7528\u6765\u81EA\u8BD5\u9898\u7BEE\u7684\u6570\u636E")]),_:1}),a(o(x),{value:e.value,"onUpdate:value":t[0]||(t[0]=m=>e.value=m),options:o(C),"check-strategy":"child","show-path":!0},null,8,["value","options"]),a(o(d),{onClick:b},{default:r(()=>[u("CONFIRM")]),_:1})]),_:1})):k("",!0),s.value==2?(p(),_(o(f),{key:1,title:"\u786E\u8BA4\u9519\u9898\u6570\u636E"},{default:r(()=>[a(o(d),{onClick:t[1]||(t[1]=m=>s.value=0)},{default:r(()=>[u("> BACK")]),_:1}),(p(!0),c(h,null,O(l.value,m=>(p(),c("div",B,[a(o(f),{hoverable:""},{default:r(()=>[a(g,{qcontent:m},null,8,["qcontent"])]),_:2},1024)]))),256)),a(o(d),{onClick:y},{default:r(()=>[u("CONFIRM")]),_:1})]),_:1})):k("",!0)],64))}},M=A(K,[["__scopeId","data-v-c1866d2c"]]);export{M as default};
