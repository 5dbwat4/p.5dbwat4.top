import{useRoute as q,useRouter as I}from"./vue-router-3740985a.js";import{A as _}from"./APIHelper-c9b99a18.js";import{as as j,aZ as p,a8 as b,l as h,t as e,aE as l,s as n,b7 as o,m as A,bd as B,F as L,J as v}from"./runtime-core.esm-bundler-c066f4bf.js";import{N as R}from"./DataTable-8341377b.js";import{N as y}from"./InputGroupLabel-fcc44e7d.js";import{N}from"./InputNumber-61190372.js";import{a as m}from"./Button-68cb5d7d.js";import{N as T}from"./InputGroup-63dc8180.js";import"./light-5802f424.js";import"./format-length-c9d165c6.js";import"./Icon-fde79c06.js";import"./Warning-459cf3e9.js";import"./Close-10bb4ae3.js";import"./Scrollbar-068db0c3.js";import"./runtime-dom.esm-bundler-caa8590e.js";import"./Checkbox-45e1205f.js";import"./use-merged-state-89f8109f.js";import"./FadeInExpandTransition-ff940b4d.js";import"./use-memo-b9add725.js";import"./flatten-a133123b.js";import"./get-slot-1efb97e5.js";import"./Popover-df9fe6bd.js";import"./fade-in-scale-up.cssr-e615339f.js";import"./use-false-until-truthy-a506b738.js";import"./get-aeafa5fe.js";import"./utils-d7fa52af.js";import"./use-compitable-42538ef7.js";import"./next-frame-once-7035a838.js";import"./Suffix-768f3d5e.js";import"./Dropdown-9bc6cbef.js";import"./Icon-8f0b32a6.js";import"./ChevronRight-989c7384.js";import"./create-e19b3023.js";import"./Ellipsis-af2e5d17.js";import"./Tooltip-bcde8d3a.js";import"./utils-656c6aaf.js";import"./use-locale-5324fa07.js";import"./index-975a2d8f.js";import"./Tag-d710591a.js";import"./light-a0d3ac36.js";import"./Input-cf865318.js";import"./index-cbfaa337.js";const U=["innerHTML"],D={__name:"extention-preview",setup(x){const r=j(),s=p("");return _.get("/api/qapi/get/"+r.id).then(a=>{s.value=a.q}),(a,k)=>(b(),h("div",{innerHTML:s.value},null,8,U))}},Ct={__name:"index",setup(x){const r=q(),s=I(),a=p([]),k=[{type:"selection"},{type:"expand",renderExpand(t){return v(D,{id:t.id})}},{title:"uuid",key:"id"},{title:"submit time",render(t){return v("p",{},new Date(t.timestamp).toISOString())}},{title:"extra",key:"extra"},{title:"view",render(t){return v(m,{text:!0,onClick:()=>{s.push("/view/"+t.id)}},{default:()=>"View"})}}],g=p([]),C=t=>{g.value=t,console.log(t)},w=()=>{s.push("/batch/"+g.value.join(","))},f=p(!0),d=p(parseInt(r.query.offset||"0")),c=p(parseInt(r.query.limit||"50"));return console.log(r.query),r.query.filter||_.get("/api/list/v2/directget/"+d.value+"/"+c.value).then(t=>{a.value=t,f.value=!1}),r.query.filter=="subject"&&_.get("/api/list/v2/filter/subject/"+r.query.subject+"/"+d.value+"/"+c.value).then(t=>{a.value=t,f.value=!1}),(t,u)=>(b(),h(L,null,[e(o(m),{onClick:u[0]||(u[0]=i=>t.$router.push("/list/uuids_all"))},{default:l(()=>[n("ALL UUIDS")]),_:1}),e(o(R),{remote:"",data:a.value,columns:k,loading:f.value,"onUpdate:checkedRowKeys":C,"row-key":i=>i.id,"visual-scroll":""},null,8,["data","loading","row-key"]),e(o(T),null,{default:l(()=>[e(o(y),null,{default:l(()=>[n("偏移(offset)")]),_:1}),e(o(N),{min:0,value:d.value,"onUpdate:value":u[1]||(u[1]=i=>d.value=i)},null,8,["value"]),e(o(y),null,{default:l(()=>[n("总数(limit)")]),_:1}),e(o(N),{min:0,value:c.value,"onUpdate:value":u[2]||(u[2]=i=>c.value=i)},null,8,["value"]),e(o(m),{onClick:t.relist},{default:l(()=>[n("前往")]),_:1},8,["onClick"]),e(o(m),{onClick:t.relist_nextos},{default:l(()=>[n("下一组")]),_:1},8,["onClick"])]),_:1}),e(o(m),{onClick:w},{default:l(()=>[n("BATCH")]),_:1}),A("p",null,B(a.value.map(i=>i.id).join(",")),1)],64))}};export{Ct as default};
