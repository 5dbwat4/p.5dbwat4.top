import{useRoute as P,useRouter as j}from"./vue-router-ee92e3b2.js";import{q as B}from"./define_basic_qtypes-5cc5565b.js";import{A as I}from"./APIHelper-c6c5541a.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import{a8 as a,l as s,s as n,m as i,bd as p,aZ as l,t as d,aE as c,b7 as u,F as C,ae as T,bc as z,j as w,k as h}from"./index-c2ed52a5.js";import{b as D}from"./generateHTMLCode-be38b55b.js";import{N as f}from"./Button-591cb8c7.js";import"./light-3c431b54.js";import"./format-length-c9d165c6.js";import"./Icon-9d083982.js";import"./Warning-fc401418.js";import"./Close-4e65a8ab.js";import"./Scrollbar-5b7370f2.js";import"./runtime-dom.esm-bundler-51aad541.js";import"./keysOf-5d5107c5.js";import"./toScreenDSingle-d0be9dca.js";import"./diff.map-0594d4b4.js";import"./Loading-b36f50c8.js";import"./use-is-mounted-912be460.js";import"./use-memo-13475312.js";import"./FadeInExpandTransition-3bfdffc9.js";const A={},F={style:{"font-size":"6.5pt","font-family":"Cambria, \u4EFF\u5B8B",margin:"0px"}},N={style:{"font-family":"'courier new'"}};function O(o,m){return a(),s("p",F,[n(" Generated by thost | Group UUID: "),i("span",N,p(o.$attrs.data.guid),1),n(" | Title: "+p(o.$attrs.data.title),1)])}const S=x(A,[["render",O]]),Z={},J={style:{"text-align":"center","font-family":"Cambria, \u4EFF\u5B8B",margin:"0px"}},K={style:{"font-size":"10pt"}},Q={style:{"font-size":"6.5pt"}},V={style:{"font-family":"'courier new'"}};function W(o,m){return a(),s("div",J,[i("p",K,p(o.$attrs.data.title),1),i("p",Q,[n(" Generated by thost | UUID: "),i("span",V,p(o.$attrs.data.guid),1)])])}const X=x(Z,[["render",W]]),Y={},tt={style:{"text-align":"center","font-family":"\u9ED1\u4F53",margin:"0px"}},et={style:{"font-size":"10pt"}};function at(o,m){return a(),s("div",tt,[i("p",et,p(o.$attrs.data.title),1)])}const it=x(Y,[["render",at]]),lt={style:{width:"18.76cm","line-height":"normal"},id:"oonom"},ot={class:"noprint"},st={class:"labi-container"},nt=["onClick","data_id"],rt=["innerHTML"],mt={__name:"preexport-1",setup(o){const m=P(),R=j(),v=l(0),U=l(0),g=3,$=l({q:!0,a:!1,p:!1}),E=l(""),_=l({title:"",guid:m.params.id}),k=l({}),G=l(!1);I.get("/api/data/mistakes_coll/session/get/"+m.params.id).then(r=>{r.list.split(",").forEach(t=>{k.value[t]=B}),_.value.title=E.value=r.title,Promise.all(r.list.split(",").map(t=>new Promise((e,b)=>{I.get("/api/data/mistakes_coll/get/full_with_question/"+t).then(q=>{k.value[t]=q})}))).then(()=>{})});const H=r=>Object.entries(r).map(t=>t[1]),L=l(r=>{}),y=l(1),M=()=>{localStorage.setItem("___thost___html_export",document.getElementById("corehtml").outerHTML),R.push("/grouping/preexport-2/"+m.params.id)};return l("Cambria , \u5B8B\u4F53"),(r,t)=>(a(),s(C,null,[d(u(f),{class:"noprint",onClick:t[0]||(t[0]=e=>y.value==2?y.value=1:y.value=2)},{default:c(()=>[n("\u6539\u53D8\u5217\u6570 ")]),_:1}),d(u(f),{class:"noprint",onClick:t[1]||(t[1]=e=>G.value=!0)},{default:c(()=>[n("Retheme 2")]),_:1}),d(u(f),{class:"noprint",ref:"btn1",onClick:t[2]||(t[2]=e=>v.value++)},{default:c(()=>[n("Title format")]),_:1},512),d(u(f),{class:"noprint",ref:"btn2",onClick:t[3]||(t[3]=e=>U.value++)},{default:c(()=>[n("Info format")]),_:1},512),d(u(f),{class:"noprint",ref:"btn3",onClick:t[4]||(t[4]=e=>M())},{default:c(()=>[n("\u8FDB\u5165\u4E0D\u5305\u542Bfixed content\u7684\u4FEE\u6B63\u9875\u9762")]),_:1},512),i("div",lt,[i("div",ot,[i("div",st,[(a(),s(C,null,T([1,2,3,4,5,6,7],e=>i("div",{class:"labi-block",key:e,style:{height:"1045px"}}," Page # "+p(e),1)),64))])]),i("div",{id:"corehtml",style:z({width:"18.95cm",columns:y.value,"line-height":"normal"})},[v.value%g==0?(a(),w(S,{key:0,data:_.value},null,8,["data"])):h("",!0),v.value%g==1?(a(),w(X,{key:1,data:_.value},null,8,["data"])):h("",!0),v.value%g==2?(a(),w(it,{key:2,data:_.value},null,8,["data"])):h("",!0),(a(!0),s(C,null,T(H(k.value),(e,b)=>(a(),s("div",{key:e.id,onClick:q=>L.value(e.id),class:"___core_block",data_id:b},[i("div",{innerHTML:u(D)(e.mistakes_coll,e.quesRecord,b+1)},null,8,rt),$.value.q?(a(),s("div",{key:0,style:z({display:"block",height:(e._extb_height||0)+"px"}),class:"extblank"},null,4)):h("",!0)],8,nt))),128))],4)])],64))}};export{mt as default};
