import{n as I}from"./ild-3efa88fc.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import{a8 as y,l as g,t as m,aE as D,m as h,bd as c,b7 as u,s as w,F as q,ae as k,bc as S,ab as T,a9 as $}from"./runtime-core.esm-bundler-42be6625.js";import{N as C}from"./Divider-0de4fb74.js";import{N as E}from"./Ellipsis-8153a355.js";import{N as F}from"./Space-26ed86db.js";const P=p=>(T("data-v-ec0a387f"),p=p(),$(),p),W={class:"header-info"},L={class:"header-info"},N={class:"header-info"},U={class:"header-info"},z=["innerHTML"],X=P(()=>h("p",{class:"paperSource"},"Included by:",-1)),Y={class:"paperSourceId"},B={__name:"zjw",setup(p){return(t,n)=>(y(),g(q,null,[m(u(F),null,{default:D(()=>[h("p",W,c(t.$attrs.qcontent.diff.name)+"("+c(t.$attrs.qcontent.diff.value)+") ",1),m(u(C),{vertical:""}),h("p",L,c(t.$attrs.qcontent.type.name),1),m(u(C),{vertical:""}),h("p",N,"ID:"+c(t.$attrs.qcontent.id),1),m(u(C),{vertical:""}),h("p",U,[w(" Knowledge: "),m(u(E),{style:{"max-width":"240px"}},{default:D(()=>[w(c(t.$attrs.qcontent.knowledgeInfo),1)]),_:1})])]),_:1}),h("div",{innerHTML:u(I)(t.$attrs.qcontent.body,{source:t.$attrs.qcontent.title})},null,8,z),h("div",null,[X,(y(!0),g(q,null,k(t.$attrs.qcontent.paperSources,a=>(y(),g("p",{class:"paperSource",style:S({fontWeight:a.name.includes("江苏")?600:400})},[w(c(a.name),1),h("span",Y," ID:"+c(a.id),1)],4))),256))])],64))}},A=M(B,[["__scopeId","data-v-ec0a387f"]]);class x{constructor(t){this.dom=t,this.paintlines=[],this.painting=!1,this.context=t.getContext("2d")}onmousedown(t){console.log(window.PaintCONFIG.color),this.paintlines.push(new R({color:window.PaintCONFIG.color||"black"})),this.painting=!0,this.paintlines[this.paintlines.length-1].touchDown(t.layerX,t.layerY),this.paintlines[this.paintlines.length-1].touchMove(t.layerX+1,t.layerY+1),this.refreshCanvas()}onmouseup(t){this.painting=!1,this.paintlines[this.paintlines.length-1].touchUp(t.layerX,t.layerY)}onpointermove(t){this.painting&&(this.paintlines[this.paintlines.length-1].touchMove(t.layerX,t.layerY),this.refreshCanvas())}refreshCanvas(t){this.paintlines.forEach(n=>{n.drawSelf(this.context)})}clear(){this.paintlines=[],this.refreshCanvas()}export(){var t=this.dom.toDataURL();console.log(t)}}class R{constructor(t){this.path=new Path2D,this.paint={color:t.color||"black",lineWidth:1,operation:"source-over",alpha:1,mode:0},this.step=-1;var n=[],a=null,d,f;this.isEffective=function(){return n.length>0&&this.step>=0},this.getCacheData=function(){if(n.length<=0||!this.isEffective())return null;var e=[];for(var s in n){if(s>this.step)break;var r=n[s],i=null;for(var l in r)i==null&&(i=[]),i.push(r[l].x+","+r[l].y);i!=null&&e.push(i)}return e.length>0?{points:e,color:this.paint.color.replace("#",""),line_width:this.paint.lineWidth,alpha:this.paint.alpha,mode:this.paint.mode}:null},this.setCacheData=function(e){try{this.paint.config(e);var s=e.points;for(var r in s){var i=s[r];for(var l in i){var _=i[l],v=_.split(","),o=parseFloat(v[0]),b=parseFloat(v[1]);l==0?this.touchDown(o,b):this.touchMove(o,b)}this.touchUp()}}catch{}},this.touchDown=function(e,s){return d=e,f=s,this.path.moveTo(e*3,s*3),a=[],a.push({x:e,y:s}),!0},this.touchMove=function(e,s){return a!=null&&(Math.abs(e-d)>=4||Math.abs(s-f)>=4)?(this.path.quadraticCurveTo(d*3,f*3,(e+d)/2*3,(s+f)/2*3),d=e,f=s,a.push({x:e,y:s}),!0):!1},this.touchUp=function(){return a&&a.length>0?(this.step<n.length-1&&n.splice(this.step+1),n.push(a),this.step=n.length-1,a=null,!0):(a=null,!1)},this.mementoStep=function(e){var s=this.step+e;if(s>=-1&&s<n.length){this.path=new Path2D,this.step=s;for(var r=0;r<=s;r++){var i=0,l=0,_=n[r];for(var v in _){var o=_[v];v==0?(i=o.x,l=o.y,this.path.moveTo(o.x*density,o.y*density)):(Math.abs(o.x-i)>=4||Math.abs(o.y-l)>=4)&&(this.path.quadraticCurveTo(i*density,l*density,(o.x+i)/2*density,(o.y+l)/2*density),i=o.x,l=o.y)}}return!0}return!1},this.drawSelf=function(e){e.globalCompositeOperation=this.paint.operation,e.strokeStyle=this.paint.color,e.globalAlpha=this.paint.alpha,e.lineWidth=this.paint.lineWidth*3,e.lineCap="round",e.stroke(this.path)}}}export{A as C,x as P};
