import{A as d}from"./APIHelper-c6c5541a.js";import{useRoute as w,useRouter as y}from"./vue-router-ee92e3b2.js";import{s as N}from"./subjects-flattened-reversed-970fd5c2.js";import{N as R,S as _,R as $}from"./SearchOutline-de4d5287.js";import{N as b}from"./DataTable-503b185f.js";import{aZ as a,a8 as U,l as x,t as i,aE as s,b7 as o,F as P,J as v}from"./index-c2ed52a5.js";import{N as g}from"./Button-591cb8c7.js";import{N as B}from"./Input-b50999c9.js";import{N as f}from"./Icon-75f6c652.js";import{N as D}from"./InputGroup-b7c6b534.js";import"./light-3c431b54.js";import"./format-length-c9d165c6.js";import"./Icon-9d083982.js";import"./Warning-fc401418.js";import"./Close-4e65a8ab.js";import"./Scrollbar-5b7370f2.js";import"./runtime-dom.esm-bundler-51aad541.js";import"./keysOf-5d5107c5.js";import"./use-locale-ca0d0990.js";import"./index-975a2d8f.js";import"./use-merged-state-5c1c3246.js";import"./use-memo-13475312.js";import"./utils-ae16cb7a.js";import"./Popover-4ea150e0.js";import"./index-80752888.js";import"./flatten-30e3eebb.js";import"./use-false-until-truthy-96bf4c79.js";import"./get-8a3b42fc.js";import"./cssr-b950d06d.js";import"./utils-20c36e7e.js";import"./use-is-mounted-912be460.js";import"./use-compitable-c3112252.js";import"./next-frame-once-7035a838.js";import"./fade-in-scale-up.cssr-6d358681.js";import"./create-2c70b56a.js";import"./Loading-b36f50c8.js";import"./ChevronRight-473b2df6.js";import"./Suffix-26bafbe6.js";import"./Tag-9a87d369.js";import"./index-cbfaa337.js";import"./Dropdown-877d87c3.js";import"./light-951b0264.js";import"./_commonjsHelpers-de833af9.js";import"./index-d51aa4a2.js";import"./Checkbox-7001ae57.js";import"./RadioGroup-3baf482c.js";import"./get-slot-1efb97e5.js";import"./Radio-e62a93f3.js";import"./Ellipsis-96e2d292.js";import"./Tooltip-121d8b6c.js";import"./download-b096fc6b.js";import"./FadeInExpandTransition-3bfdffc9.js";const I={__name:"list",setup(j){w();const S=y(),r=a(!0),l=a(!1),p=a(""),u=a([]),h=[{type:"selection"},{title:"uuid",key:"id"},{title:"title",key:"title"},{title:"Subjects",render(e){return v("span",{},N[""+e.bankid])}},{title:"submit time",render(e){return v(R,{time:e.timestamp,to:new Date().getTime(),type:"relative"})}},{title:"view",render(e){return v(g,{text:!0,onClick:()=>{S.push("/group/"+e.id)}},{default:()=>"View"})}}],k=a([]),z=e=>{k.value=e,console.log(e)},t=a({page:1,pageSize:10,showSizePicker:!0,itemCount:0,pageSizes:[5,10,20,50],onChange:e=>{t.value.page=e,r.value=!0,m()},onUpdatePageSize:e=>{t.value.pageSize=e,t.value.page=1,r.value=!0,m()}}),m=()=>{p.value==""?d.get(`/api/v2/group/list?offset=${(t.value.page-1)*t.value.pageSize}&pagesize=${t.value.pageSize}`).then(e=>{u.value=e.data,t.value.itemCount=e.count,r.value=!1,l.value=!1}):d.get(`/api/v2/group/list/search/uuid?q=${encodeURIComponent(p.value)}&offset=${(t.value.page-1)*t.value.pageSize}&pagesize=${t.value.pageSize}`).then(e=>{u.value=e.data,r.value=!1,l.value=!1})},C=e=>{p.value=e,l.value=!0,m()};return m(),(e,c)=>(U(),x(P,null,[i(o(D),null,{default:s(()=>[i(o(B),{placeholder:"Search",value:p.value,"onUpdate:value":c[0]||(c[0]=n=>p.value=n),loading:l.value,"on-input":C},null,8,["value","loading"]),i(o(g),{onClick:e.handleSearch},{icon:s(()=>[i(o(f),{component:o(_)},null,8,["component"])]),_:1},8,["onClick"]),i(o(g),{onClick:m},{icon:s(()=>[i(o(f),{component:o($)},null,8,["component"])]),_:1})]),_:1}),i(o(b),{remote:"",loading:r.value,pagination:t.value,data:u.value,columns:h,"onUpdate:checkedRowKeys":z,"row-key":n=>n.id,"visual-scroll":""},null,8,["loading","pagination","data","row-key"])],64))}};export{I as default};
