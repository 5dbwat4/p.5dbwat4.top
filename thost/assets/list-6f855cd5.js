import{A as d}from"./APIHelper-89899791.js";import{useRoute as _,useRouter as b}from"./vue-router-85f8dd9e.js";import{s as x}from"./subjects-flattened-reversed-970fd5c2.js";import{av as R,b2 as r,ab as h,m as S,u as p,aH as g,bc as a,F as $,N as n}from"./index-6b27469d.js";import{N as U,S as T,R as D}from"./SearchOutline-37369a08.js";import{N as c}from"./Button-a421b774.js";import{N as H}from"./Input-c49f615f.js";import{N as k}from"./Icon-bc12cdb3.js";import{N as P}from"./InputGroup-0a19f812.js";import{N as q}from"./DataTable-6b415fd4.js";import"./light-cb8e5d18.js";import"./format-length-c9d165c6.js";import"./Icon-0741e3aa.js";import"./Warning-ad995842.js";import"./Close-df27b242.js";import"./Scrollbar-6ef5ad24.js";import"./runtime-dom.esm-bundler-4f377a37.js";import"./keysOf-5d5107c5.js";import"./use-locale-13d55c5c.js";import"./index-975a2d8f.js";import"./use-merged-state-236ae148.js";import"./use-memo-7138c88c.js";import"./utils-1657c4d7.js";import"./Popover-d5735fab.js";import"./index-cabd39fd.js";import"./flatten-0afec71b.js";import"./use-false-until-truthy-35c1fbae.js";import"./get-9cb40f85.js";import"./cssr-752b8ed7.js";import"./utils-eca1999b.js";import"./use-is-mounted-e356ec1d.js";import"./use-compitable-182c3d4e.js";import"./next-frame-once-7035a838.js";import"./fade-in-scale-up.cssr-59f6c429.js";import"./create-59670860.js";import"./Loading-a27cceda.js";import"./ChevronRight-f0e435af.js";import"./Suffix-8898b6d6.js";import"./Tag-156be23d.js";import"./index-cbfaa337.js";import"./Dropdown-6e48c879.js";import"./light-5edeff63.js";import"./_commonjsHelpers-de833af9.js";import"./index-d51aa4a2.js";import"./FadeInExpandTransition-65435983.js";import"./Checkbox-d6d0f1db.js";import"./RadioGroup-5d465f0a.js";import"./get-slot-1efb97e5.js";import"./Radio-0d9e1289.js";import"./Ellipsis-b74cfcb8.js";import"./Tooltip-46e4aeaa.js";import"./download-b096fc6b.js";const A=["innerHTML"],F={__name:"expansion-preview",setup(z){const u=R(),i=r("");return d.get("/api/data/get/"+u.id).then(o=>{i.value=o.q}),(o,m)=>(h(),S("div",{innerHTML:i.value},null,8,A))}},I={__name:"list",setup(z){_();const u=b(),i=r(!0),o=r(!1),m=r(""),s=r([]),w=[{type:"selection"},{type:"expand",renderExpand(e){return n(F,{id:e.id})}},{title:"uuid",key:"id"},{title:"Subject",render(e){return n("p",{},x[""+e.bankid])}},{title:"Origin",key:"origin"},{title:"submit time",render(e){return n(U,{time:e.timestamp,to:new Date().getTime(),type:"relative"})}},{title:"view",render(e){return n(c,{text:!0,onClick:()=>{u.push("/view/"+e.id)}},{default:()=>"View"})}}],y=r([]),C=e=>{y.value=e,console.log(e)},t=r({page:1,pageSize:10,showSizePicker:!0,itemCount:0,pageSizes:[5,10,20,50],onChange:e=>{t.value.page=e,i.value=!0,l()},onUpdatePageSize:e=>{t.value.pageSize=e,t.value.page=1,i.value=!0,l()}}),l=()=>{m.value==""?d.get(`/api/data/list/v2/directget/${(t.value.page-1)*t.value.pageSize}/${t.value.pageSize}`).then(e=>{s.value=e.data,t.value.itemCount=e.count,i.value=!1,o.value=!1}):d.get(`/api/data/v2/group/list/search/uuid?q=${encodeURIComponent(m.value)}&offset=${(t.value.page-1)*t.value.pageSize}&pagesize=${t.value.pageSize}`).then(e=>{s.value=e.data,i.value=!1,o.value=!1})},N=e=>{m.value=e,o.value=!0,l()};return l(),(e,f)=>(h(),S($,null,[p(a(P),null,{default:g(()=>[p(a(H),{name:"search",placeholder:"Search",value:m.value,"onUpdate:value":f[0]||(f[0]=v=>m.value=v),loading:o.value,"on-input":N},null,8,["value","loading"]),p(a(c),{onClick:e.handleSearch},{icon:g(()=>[p(a(k),{component:a(T)},null,8,["component"])]),_:1},8,["onClick"]),p(a(c),{onClick:l},{icon:g(()=>[p(a(k),{component:a(D)},null,8,["component"])]),_:1})]),_:1}),p(a(q),{remote:"",loading:i.value,pagination:t.value,data:s.value,columns:w,"onUpdate:checkedRowKeys":C,"row-key":v=>v.id,"visual-scroll":""},null,8,["loading","pagination","data","row-key"])],64))}};export{I as default};
