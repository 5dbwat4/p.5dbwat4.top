import{u as n,A as e}from"./APIHelper-c6c5541a.js";import{useRouter as p,useRoute as m}from"./vue-router-ee92e3b2.js";import{_ as c}from"./_plugin-vue_export-helper-c27b6911.js";import{a8 as l,l as h,ab as d,a9 as _,m as r}from"./index-c2ed52a5.js";import"./light-3c431b54.js";import"./format-length-c9d165c6.js";import"./Icon-9d083982.js";import"./Warning-fc401418.js";import"./Close-4e65a8ab.js";import"./Scrollbar-5b7370f2.js";import"./runtime-dom.esm-bundler-51aad541.js";import"./keysOf-5d5107c5.js";const u=t=>(d("data-v-151da73c"),t=t(),_(),t),f={class:"loader-container"},g=u(()=>r("div",{class:"loader"},null,-1)),b=u(()=>r("p",{class:"loader-info"},"\u6B63\u5728\u9274\u6743",-1)),j=[g,b],v={__name:"before",setup(t){const i=n(),o=p();return m(),e.get("/zujuan-ink-be-core/auth/status").then(s=>{if(s.auth)o.push("./home");else if(localStorage.getItem("__thost_zujuanink_auth")){const a=JSON.parse(localStorage.getItem("__thost_zujuanink_auth"));a.autologin?e.post("/zujuan-ink-be-core/auth/json/login",{password:a.authcode}).then(k=>{i.success({content:"\u5DF2\u8FDE\u63A5\u81F3API\u5E76\u6210\u529F\u9274\u6743\u3002",duration:2e3}),o.push("./home")}):o.push("./settings")}else o.push("./settings")}),(s,a)=>(l(),h("div",f,j))}},I=c(v,[["__scopeId","data-v-151da73c"]]);export{I as default};
