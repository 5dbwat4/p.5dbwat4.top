import{useRoute as h,useRouter as E}from"./vue-router-66374999.js";import{a2 as g,a8 as T,l as k,t as n,aE as r,s as o,b7 as a,F as M,m as L}from"./runtime-core.esm-bundler-42be6625.js";import{b as i}from"./Button-cc4d8cf9.js";import"./light-061b806c.js";import"./use-memo-8d560c6d.js";import"./resolve-slot-612957d7.js";import"./FadeInExpandTransition-8360c680.js";import"./runtime-dom.esm-bundler-4c01a608.js";import"./call-7e0089d6.js";const H=L("div",{id:"coreop"},null,-1),V={__name:"preexport-2",setup(S){g(()=>{document.getElementById("coreop").innerHTML=localStorage.getItem("___thost___html_export")});const s=h(),c=E(),p=()=>{const e=l=>{console.log(l.target),l.target.dataset.width||(l.target.dataset.width=l.target.width),l.target.dataset.width=parseInt(l.target.dataset.width)-30,l.target.style.width=l.target.dataset.width+"px"};document.getElementById("coreop").querySelectorAll("img").forEach(l=>{l.src.includes("/dksih/")&&l.addEventListener("click",e)})},_=()=>{document.getElementById("coreop").querySelectorAll("p").forEach(e=>{e.style.fontFamily.includes("仿宋")||(e.style.fontFamily="Times New Roman , 宋体")}),document.getElementById("coreop").querySelectorAll("bk u").forEach(e=>{e.innerHTML=e.innerHTML.replace(/【小题(\d*)】/,"$1.______________"),e.outerHTML=e.outerHTML.replace("<u>","<span>").replace("</u>","</span>")})},u=()=>{document.getElementById("coreop").querySelectorAll("p").forEach(e=>{e.style.fontFamily.includes("仿宋")||(e.style.fontFamily="Times New Roman , 宋体")}),document.getElementById("coreop").querySelectorAll("span").forEach(e=>{e.innerHTML=e.innerHTML.replace(/【小题(\d*)】/,"$1.")}),document.getElementById("coreop").querySelectorAll("bk").forEach(e=>{e.innerHTML="<u>&nbsp;&nbsp;&nbsp;"+e.attributes.index.nodeValue+"&nbsp;&nbsp;&nbsp;</u>"})},d=()=>{document.getElementById("coreop").querySelectorAll("span").forEach(e=>{e.innerHTML=e.innerHTML.replace(/【小题(\d*)】/,"$1.")})},m=()=>{document.querySelectorAll(".___core_block").forEach(e=>{e.attributes.data_type.nodeValue=="阅读理解"&&(console.log("hdn yd",e),e.innerHTML=e.innerHTML.replaceAll(/【小题(\d*)】/g,"$1.")),e.attributes.data_type.nodeValue=="七选五"&&(e.querySelectorAll("bk u").forEach(t=>{t.innerHTML=t.innerHTML.replace(/【小题(\d*)】/,"$1.______________"),t.outerHTML=t.outerHTML.replace("<u>","<span>").replace("</u>","</span>")}),e.querySelectorAll("table[name=optionsTable]").forEach(t=>{t.outerHTML=t.innerText.split(`
`).join("<br/>")+"<br/>"})),e.attributes.data_type.nodeValue=="完形填空"&&(e.querySelectorAll("span").forEach(t=>{t.innerHTML=t.innerHTML.replace(/【小题(\d*)】/,"$1.")}),e.querySelectorAll("bk").forEach(t=>{t.innerHTML="<u>&nbsp;&nbsp;&nbsp;"+t.attributes.index.nodeValue+"&nbsp;&nbsp;&nbsp;</u>"}),e.querySelectorAll("table[name=optionsTable]").forEach(t=>{t.style.width="calc(100% - "+t.previousElementSibling.offsetWidth+"px)",t.previousElementSibling.style.display="inline-block",t.parentElement.style.display="block",t.style.display="inline-table",t.style.verticalAlign="middle"})),(e.attributes.data_type.nodeValue="用单词的适当形式完成短文")&&e.querySelectorAll("bk u").forEach(t=>{t.innerHTML=t.innerHTML.replace(/【小题(\d*)】/,"$1.__________________"),t.outerHTML=t.outerHTML.replace("<u>","<span>").replace("</u>","</span>")}),document.getElementById("coreop").querySelectorAll("p").forEach(t=>{t.style.fontFamily.includes("仿宋")||(t.style.fontFamily="Times New Roman , 宋体")})})},y=()=>{localStorage.setItem("___thost___html_export",document.getElementById("corehtml").outerHTML),c.push("/export/"+s.params.id)},b=()=>{document.getElementById("coreop").querySelectorAll("table[name=optionsTable]").forEach(e=>{e.style.width="calc(100% - "+e.previousElementSibling.offsetWidth+"px)",e.previousElementSibling.style.display="inline-block",e.parentElement.style.display="block",e.style.display="inline-table",e.style.verticalAlign="middle"})},f=()=>{document.querySelectorAll("bk").forEach(e=>{e.innerText.includes("_")&&e.innerText.length<15&&(e.innerText=new Array(16).join("_"))})};return(e,t)=>(T(),k(M,null,[n(a(i),{class:"noprint",onClick:p},{default:r(()=>[o("image resize")]),_:1}),n(a(i),{class:"noprint",onClick:_},{default:r(()=>[o("Blank retheme X._______")]),_:1}),n(a(i),{class:"noprint",onClick:u},{default:r(()=>[o("Blank retheme 完型")]),_:1}),n(a(i),{class:"noprint",onClick:d},{default:r(()=>[o("调节'【小题x】'类展出")]),_:1}),n(a(i),{class:"noprint",onClick:m},{default:r(()=>[o("OtherFormatter EN")]),_:1}),n(a(i),{class:"noprint",onClick:f},{default:r(()=>[o("Extendblank")]),_:1}),n(a(i),{class:"noprint",onClick:b},{default:r(()=>[o("Destroy table")]),_:1}),n(a(i),{class:"noprint",onClick:t[0]||(t[0]=l=>y())},{default:r(()=>[o("导出页")]),_:1}),H],64))}};export{V as default};
