import{A as $}from"./APIHelper-c6c5541a.js";import{useRoute as U,useRouter as H}from"./vue-router-ee92e3b2.js";import"./sweetalert.min-b990379b.js";import{u as P}from"./settings-74559ce9.js";import{a as B}from"./generateHTMLCode-be38b55b.js";import{v as F,a8 as d,l as w,m as n,aZ as s,as as x,j as S,aE as l,t as a,b7 as e,s as c,F as M,ae as I,bd as J,k as O,J as y}from"./index-c2ed52a5.js";import{N as V}from"./Skeleton-9ecd2bda.js";import{N as E}from"./Card-bc241d1a.js";import{N as Q}from"./text-b5c6fee5.js";import{N as Z,S as G,R as K,a as W}from"./SearchOutline-de4d5287.js";import{N as X}from"./Tag-9a87d369.js";import{N as g}from"./Button-591cb8c7.js";import{N as Y,a as ee}from"./Checkbox-7001ae57.js";import ae from"./subjects-1684b75a.js";import{N as le}from"./Tooltip-121d8b6c.js";import{E as te}from"./ExitOutline-35d7e7d3.js";import{E as oe}from"./EllipsisVerticalOutline-0f4e999a.js";import{N as R}from"./Input-b50999c9.js";import{N as T}from"./Icon-75f6c652.js";import{N as ie}from"./Cascader-e2e09c75.js";import{N as ue}from"./Dropdown-877d87c3.js";import{N as re}from"./InputGroup-b7c6b534.js";import{N as pe}from"./Modal-edc91d29.js";import"./light-3c431b54.js";import"./format-length-c9d165c6.js";import"./Icon-9d083982.js";import"./Warning-fc401418.js";import"./Close-4e65a8ab.js";import"./Scrollbar-5b7370f2.js";import"./runtime-dom.esm-bundler-51aad541.js";import"./keysOf-5d5107c5.js";import"./_commonjsHelpers-de833af9.js";import"./toScreenDSingle-d0be9dca.js";import"./diff.map-0594d4b4.js";import"./use-houdini-5de772fd.js";import"./use-memo-13475312.js";import"./use-is-mounted-912be460.js";import"./use-compitable-c3112252.js";import"./light-951fcd76.js";import"./use-locale-ca0d0990.js";import"./index-975a2d8f.js";import"./use-merged-state-5c1c3246.js";import"./utils-ae16cb7a.js";import"./Popover-4ea150e0.js";import"./index-80752888.js";import"./flatten-30e3eebb.js";import"./use-false-until-truthy-96bf4c79.js";import"./get-8a3b42fc.js";import"./cssr-b950d06d.js";import"./utils-20c36e7e.js";import"./next-frame-once-7035a838.js";import"./fade-in-scale-up.cssr-6d358681.js";import"./create-2c70b56a.js";import"./Loading-b36f50c8.js";import"./ChevronRight-473b2df6.js";import"./Suffix-26bafbe6.js";import"./index-cbfaa337.js";import"./light-951b0264.js";import"./index-d51aa4a2.js";import"./FadeInExpandTransition-3bfdffc9.js";const ne={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},se=n("path",{d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),me=n("path",{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38z",fill:"currentColor"},null,-1),ve=n("path",{d:"M399.34 90L218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z",fill:"currentColor"},null,-1),de=[se,me,ve],ce=F({name:"CreateOutline",render:function(b,h){return d(),w("svg",ne,de)}}),ge=["innerHTML"],fe={key:0},ke=n("p",null,"\u7B54\u6848",-1),he=["innerHTML"],_e=n("p",null,"\u89E3\u6790",-1),we=["innerHTML"],Te=n("p",null,"\u6CE8\u91CA",-1),Ce=["innerHTML"],ze={__name:"comp.viewMCItemSing",setup(b){P(),U(),H();const h=s(!0),C=new Date().getTime();s({a:"",p:""});const f=s(!1),_=x(),u=s({T:{},Q:{}});$.get("/api/data/mistakes_coll/get/full_with_question/"+_.ItemId).then(v=>{u.value.T=v.mistakes_coll,u.value.Q=v.quesRecord,h.value=!1});const z=()=>{f.value=!0};return(v,m)=>h.value?(d(),S(e(E),{key:0},{default:l(()=>[a(e(V),{repeat:8})]),_:1})):(d(),S(e(E),{key:1},{default:l(()=>[a(e(Q),null,{default:l(()=>[c("\u6536\u5F55\u4E8E\uFF1A")]),_:1}),a(e(Z),{time:u.value.T.collTime,to:e(C),type:"relative"},null,8,["time","to"]),a(e(Q),null,{default:l(()=>[c("| Tags:")]),_:1}),(d(!0),w(M,null,I(u.value.T.tags,t=>(d(),S(e(X),{onClick:o=>v.$router.push("/mistakes_coll/list/filter/tag/"+t.value)},{default:l(()=>[c(J(t.label),1)]),_:2},1032,["onClick"]))),256)),n("div",{innerHTML:e(B)(u.value.T,u.value.Q)},null,8,ge),a(e(g),{onClick:m[0]||(m[0]=t=>v.deleteq())},{default:l(()=>[c("Delete")]),_:1}),a(e(g),{onClick:m[1]||(m[1]=t=>v.$router.push("/mistakes_coll/edit/"+u.value.T.id))},{default:l(()=>[c("Edit")]),_:1}),a(e(g),{onClick:m[2]||(m[2]=t=>z())},{default:l(()=>[c("Show Q & A")]),_:1}),a(e(Y),{value:u.value.T.id},null,8,["value"]),f.value?(d(),w("div",fe,[ke,n("div",{innerHTML:u.value.T.answer},null,8,he),_e,n("div",{innerHTML:u.value.T.parse},null,8,we),Te,n("div",{innerHTML:u.value.T.note},null,8,Ce)])):O("",!0)]),_:1}))}},Se=n("br",null,null,-1),Ne=n("p",null,"\u4E3A\u5BFC\u51FA\u7684\u9519\u9898\u96C6Session\u547D\u540D",-1),Le={__name:"list",setup(b){const h=U(),C=H(),f=x(),_=s(!0),u=s(!1),z=s(""),v=s([]),m=s([]),t=s(0),o=s({page:1,pageSize:10,showSizePicker:!0,itemCount:0,pageSizes:[5,10,20,50,100,200],onChange:r=>{o.value.page=r,_.value=!0,k()},onUpdatePageSize:r=>{o.value.pageSize=r,o.value.page=1,_.value=!0,k()}}),k=()=>{let r="";f.page=="basic"?r=`/api/data/mistakes_coll/list.id?offset=${(o.value.page-1)*o.value.pageSize}&pagesize=${o.value.pageSize}${t.value!=0?"&bankid="+t.value:""}`:f.page=="tag"&&(r=`/api/data/mistakes_coll/list.id/filter/tag/${h.params.id}?offset=${(o.value.page-1)*o.value.pageSize}&pagesize=${o.value.pageSize}${t.value!=0?"&bankid="+t.value:""}`),$.get(r).then(i=>{v.value=i.data,o.value.itemCount=i.count,_.value=!1,u.value=!1})};k();const N=s(""),L=s(!1),j=()=>{console.log(m.value),L.value=!0},q=()=>{console.log(m.value)},D=()=>{$.post("/api/data/mistakes_coll/session/create",{list:m.value.join(","),timestamp:new Date().getTime(),bankid:t.value,title:N.value,generator:`${f.page}${f.page=="tag"?"@"+h.params.id:""}${t.value!=0?"+bankid@"+t.value:""}`}).then(r=>{C.push("/mistakes_coll/preexport-1/"+r.id)})},A=[{label:"\u7F16\u8F91Tags",key:"edit-tags",icon:(r=>()=>y(T,null,{default:()=>y(r)}))(ce),props:{onClick:()=>{C.push("/mistakes_coll/edit-tags")}}}];return(r,i)=>(d(),w(M,null,[a(e(re),null,{default:l(()=>[a(e(R),{placeholder:"Search",value:z.value,"onUpdate:value":i[0]||(i[0]=p=>z.value=p),loading:u.value,"on-input":r.SearchUpdate},null,8,["value","loading","on-input"]),a(e(g),{onClick:r.handleSearch},{icon:l(()=>[a(e(T),{component:e(G)},null,8,["component"])]),_:1},8,["onClick"]),a(e(ie),{value:t.value,"onUpdate:value":[i[1]||(i[1]=p=>t.value=p),k],options:e(ae),"check-strategy":"child","show-path":!0},null,8,["value","options"]),a(e(g),{onClick:k},{icon:l(()=>[a(e(T),{component:e(K)},null,8,["component"])]),_:1}),a(e(le),{trigger:"hover"},{trigger:l(()=>[a(e(g),{strong:"",onClick:j},{icon:l(()=>[a(e(T),{component:e(te)},null,8,["component"])]),_:1})]),default:l(()=>[c(" \u5BFC\u51FA"),Se,c(" Export ")]),_:1}),a(e(ue),{options:A},{default:l(()=>[a(e(g),null,{icon:l(()=>[a(e(T),{component:e(oe)},null,8,["component"])]),_:1})]),_:1})]),_:1}),a(e(ee),{value:m.value,"onUpdate:value":i[2]||(i[2]=p=>m.value=p),"onUpdate:checked":q},{default:l(()=>[n("div",null,[(d(!0),w(M,null,I(v.value,p=>(d(),S(ze,{ItemId:p.id},null,8,["ItemId"]))),256))])]),_:1},8,["value"]),a(e(W),{page:o.value.page,"onUpdate:page":i[3]||(i[3]=p=>o.value.page=p),"item-count":o.value.itemCount,"show-size-picker":"","page-sizes":o.value.pageSizes,"on-update:page-size":k,"on-update:page":k},null,8,["page","item-count","page-sizes"]),a(e(pe),{show:L.value,"onUpdate:show":i[5]||(i[5]=p=>L.value=p),class:"custom-card",preset:"card",title:"Naming",bordered:!1,size:"huge"},{default:l(()=>[Ne,a(e(R),{value:N.value,"onUpdate:value":i[4]||(i[4]=p=>N.value=p)},null,8,["value"]),a(e(g),{onClick:D},{default:l(()=>[c("\u597D\u7684")]),_:1})]),_:1},8,["show"])],64))}};export{Le as default};
