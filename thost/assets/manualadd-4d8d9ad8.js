import y from"./subjects-8683e557.js";import{Z as h}from"./zujuan-api-b3ac40bc.js";import{A as I}from"./APIHelper-5dc80534.js";import"./router-goto-fdf2e3db.js";import{C as g}from"./zjw-267318e7.js";import{useRouter as w,useRoute as q}from"./vue-router-3740985a.js";import{p as x}from"./polishinguptlist-1f54ffb2.js";import{s as B}from"./sweetalert.min-9dab74b7.js";import{b as T}from"./blankpic-ca06291d.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import{aZ as l,a8 as p,l as c,j as v,aE as e,t as r,s as u,b7 as o,k,F as C,ae as A}from"./runtime-core.esm-bundler-c066f4bf.js";import{N as F}from"./p-8a064552.js";import{N as P}from"./Cascader-51e17301.js";import{a as d}from"./Button-d0cd9be2.js";import{N as f}from"./Card-bfcad74c.js";import"./light-d6058c0b.js";import"./format-length-c9d165c6.js";import"./Icon-d321f943.js";import"./Warning-3558c7da.js";import"./Close-ebf3a9fb.js";import"./Scrollbar-24cda971.js";import"./runtime-dom.esm-bundler-caa8590e.js";import"./CONFIG-d506a2d4.js";import"./nomorlize_q-tailored-672252d5.js";import"./Divider-32ec1336.js";import"./Ellipsis-54a8d8d8.js";import"./Tooltip-971e9ca1.js";import"./Popover-c9633131.js";import"./fade-in-scale-up.cssr-e8989780.js";import"./flatten-a133123b.js";import"./use-false-until-truthy-a506b738.js";import"./_baseIsEqual-dedfc21f.js";import"./get-e8fa5947.js";import"./use-memo-b9add725.js";import"./utils-d7fa52af.js";import"./FadeInExpandTransition-ff940b4d.js";import"./use-merged-state-89f8109f.js";import"./use-compitable-42538ef7.js";import"./next-frame-once-7035a838.js";import"./Space-a913e812.js";import"./get-slot-1efb97e5.js";import"./_commonjsHelpers-725317a4.js";import"./light-d7d7fe15.js";import"./utils-1333c5ba.js";import"./create-e19b3023.js";import"./use-locale-1c262ea4.js";import"./index-975a2d8f.js";import"./Suffix-586fb6ff.js";import"./Tag-76f96a47.js";import"./attribute-2ee9e579.js";import"./ChevronRight-989c7384.js";import"./Checkbox-475099bc.js";import"./index-cbfaa337.js";const R={class:"centered"},Z={__name:"manualadd",setup(D){w();const _=q(),m=l(15),s=l(1),n=l([]);_.query.bankid&&(m.value=parseInt(_.query.bankid));const N=async()=>{h("/app-server/v1/basket/"+m.value).then(async a=>{let t=[];a.data.structure.forEach(i=>{t.push(...i.list)}),t=await x(m.value,t),s.value=2,n.value=t})},b=async()=>{for(let a=0;a<n.value.length;a++)await I.post("/zujuan-ink-be-core/donerec/add",{quid:n.value[a].quid,date:new Date().toDateString(),timestamp:new Date().getTime(),image:T,parent:"unsaved"});B({icon:"success",title:"OK"})};return(a,t)=>(p(),c(C,null,[s.value==1?(p(),v(o(f),{key:0,title:"手动添加错题"},{default:e(()=>[r(o(F),null,{default:e(()=>[u("将使用来自试题篮的数据")]),_:1}),r(o(P),{value:m.value,"onUpdate:value":t[0]||(t[0]=i=>m.value=i),options:o(y),"check-strategy":"child","show-path":!0},null,8,["value","options"]),r(o(d),{onClick:N},{default:e(()=>[u("CONFIRM")]),_:1})]),_:1})):k("",!0),s.value==2?(p(),v(o(f),{key:1,title:"确认错题数据"},{default:e(()=>[r(o(d),{onClick:t[1]||(t[1]=i=>s.value=0)},{default:e(()=>[u("> BACK")]),_:1}),(p(!0),c(C,null,A(n.value,i=>(p(),c("div",R,[r(o(f),{hoverable:""},{default:e(()=>[r(g,{qcontent:i},null,8,["qcontent"])]),_:2},1024)]))),256)),r(o(d),{onClick:b},{default:e(()=>[u("CONFIRM")]),_:1})]),_:1})):k("",!0)],64))}},Dt=j(Z,[["__scopeId","data-v-c1866d2c"]]);export{Dt as default};
