import{A as g}from"./APIHelper-4c0d0968.js";import{useRoute as C,useRouter as N}from"./vue-router-3740985a.js";import{N as f}from"./Icon-3fbf0a05.js";import{S as R,R as x,N as _}from"./SearchOutline-2f558d6d.js";import{aZ as i,a8 as y,l as I,t as o,aE as s,b7 as a,F as P,J as c}from"./runtime-core.esm-bundler-c066f4bf.js";import{N as U}from"./Input-32bb51de.js";import{a as d}from"./Button-418af94d.js";import{N as $}from"./InputGroup-1135b579.js";import"./light-96080c0b.js";import"./format-length-c9d165c6.js";import"./Icon-e6ca0735.js";import"./Warning-ff31488d.js";import"./Close-d6ea1a86.js";import"./Scrollbar-25ba1ebe.js";import"./runtime-dom.esm-bundler-caa8590e.js";import"./Checkbox-b5c247e6.js";import"./use-merged-state-89f8109f.js";import"./FadeInExpandTransition-ff940b4d.js";import"./use-memo-b9add725.js";import"./flatten-a133123b.js";import"./get-slot-1efb97e5.js";import"./Popover-c2999df7.js";import"./fade-in-scale-up.cssr-18f1ebda.js";import"./use-false-until-truthy-a506b738.js";import"./_baseIsEqual-9220f819.js";import"./get-9e715692.js";import"./cssr-ce5b581a.js";import"./utils-d7fa52af.js";import"./use-compitable-42538ef7.js";import"./next-frame-once-7035a838.js";import"./Suffix-fac0a942.js";import"./Dropdown-e7fd699d.js";import"./ChevronRight-989c7384.js";import"./create-e19b3023.js";import"./Ellipsis-2210e394.js";import"./Tooltip-bd1c8576.js";import"./utils-4c4b4d7d.js";import"./use-locale-55e0af58.js";import"./index-975a2d8f.js";import"./Tag-c27ccbde.js";import"./attribute-2ee9e579.js";import"./light-a188f855.js";import"./index-cbfaa337.js";const Ce={__name:"index",setup(E){C();const h=N(),r=i(!0),l=i(!1),n=i(""),u=i([]),S=[{type:"selection"},{type:"expand",renderExpand(e){return c(ExtrntionPreview,{id:e.id})}},{title:"uuid",key:"id"},{title:"submit time",render(e){return c("p",{},new Date(e.timestamp).toISOString())}},{title:"extra",key:"extra"},{title:"view",render(e){return c(d,{text:!0,onClick:()=>{h.push("/view/"+e.id)}},{default:()=>"View"})}}],k=i([]),w=e=>{k.value=e,console.log(e)},t=i({page:1,pageSize:10,showSizePicker:!0,itemCount:0,pageSizes:[5,10,20,50],onChange:e=>{t.value.page=e,r.value=!0,p()},onUpdatePageSize:e=>{t.value.pageSize=e,t.value.page=1,r.value=!0,p()}}),p=()=>{n.value==""?g.get(`/api/list/v2/directget/${(t.value.page-1)*t.value.pageSize}/${t.value.pageSize}`).then(e=>{u.value=e.data,t.value.itemCount=e.count,r.value=!1,l.value=!1}):g.get(`/api/v2/group/list/search/uuid?q=${encodeURIComponent(n.value)}&offset=${(t.value.page-1)*t.value.pageSize}&pagesize=${t.value.pageSize}`).then(e=>{u.value=e.data,r.value=!1,l.value=!1})},z=e=>{n.value=e,l.value=!0,p()};return p(),(e,v)=>(y(),I(P,null,[o(a($),null,{default:s(()=>[o(a(U),{placeholder:"Search",value:n.value,"onUpdate:value":v[0]||(v[0]=m=>n.value=m),loading:l.value,"on-input":z},null,8,["value","loading"]),o(a(d),{onClick:e.handleSearch},{icon:s(()=>[o(a(f),{component:a(R)},null,8,["component"])]),_:1},8,["onClick"]),o(a(d),{onClick:p},{icon:s(()=>[o(a(f),{component:a(x)},null,8,["component"])]),_:1})]),_:1}),o(a(_),{remote:"",loading:r.value,pagination:t.value,data:u.value,columns:S,"onUpdate:checkedRowKeys":w,"row-key":m=>m.id,"visual-scroll":""},null,8,["loading","pagination","data","row-key"])],64))}};export{Ce as default};
