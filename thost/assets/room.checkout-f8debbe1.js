import{A as S}from"./APIHelper-c9b99a18.js";import{Z as Et}from"./zujuan-api-e56e0e51.js";import{aZ as g,as as xt,a8 as C,l as _,t as m,b7 as d,aE as p,a2 as kt,m as P,F as pe,ae as St,bc as L,s as b,j as Ct,ai as $t,bd as fe,k as ge,J as _t}from"./runtime-core.esm-bundler-c066f4bf.js";import{N as we}from"./Spin-ff5dfbad.js";import{N as ve}from"./Space-10d52240.js";import{N as ye,a as Pt}from"./Image-171fe8dd.js";import{P as It}from"./painttools-0071b983.js";import{C as Tt,__tla as Dt}from"./ild-0efa9475.js";import{C as Rt}from"./zjw-68fcb478.js";import{_ as Nt}from"./_plugin-vue_export-helper-c27b6911.js";import{N as Bt,a as qt}from"./Checkbox-45e1205f.js";import{a as I}from"./Button-68cb5d7d.js";import{N as At}from"./Form-b1aaaf80.js";import{N as j}from"./FormItem-e2958ccc.js";import{N as V}from"./Input-cf865318.js";import{N as Lt}from"./Rate-e790c3ec.js";import{N as jt}from"./p-d7e0cfbf.js";import{N as be}from"./Modal-d88b004e.js";import{N as Ht}from"./Alert-cf605fdb.js";import"./light-5802f424.js";import"./format-length-c9d165c6.js";import"./Icon-fde79c06.js";import"./Warning-459cf3e9.js";import"./Close-10bb4ae3.js";import"./Scrollbar-068db0c3.js";import"./runtime-dom.esm-bundler-caa8590e.js";import"./use-compitable-42538ef7.js";import"./flatten-a133123b.js";import"./get-slot-1efb97e5.js";import"./fade-in-scale-up.cssr-e615339f.js";import"./use-false-until-truthy-a506b738.js";import"./Tooltip-bcde8d3a.js";import"./Popover-df9fe6bd.js";import"./get-aeafa5fe.js";import"./use-memo-b9add725.js";import"./utils-d7fa52af.js";import"./FadeInExpandTransition-ff940b4d.js";import"./use-merged-state-89f8109f.js";import"./next-frame-once-7035a838.js";import"./use-locale-5324fa07.js";import"./index-975a2d8f.js";import"./nomorlize_q-tailored-672252d5.js";import"./diffs-b381e85b.js";import{__tla as Mt}from"./index-e90fbebd.js";import"./Ellipsis-af2e5d17.js";import"./Divider-430ce100.js";import"./text-7102f01a.js";import"./light-111bcf27.js";import"./light-a0d3ac36.js";import"./Suffix-768f3d5e.js";import"./Card-40f9cb29.js";import"./index-cbfaa337.js";import"./fade-in-height-expand.cssr-ecae3bc2.js";let Ee,zt=Promise.all([(()=>{try{return Dt}catch{}})(),(()=>{try{return Mt}catch{}})()]).then(async()=>{const xe={key:0},ke={key:1},Se={__name:"room.answerImgHelper",setup(e){const t=g(!0),n=g(""),r=g("");t.value=!0;const{id:o,width:a}=xt();return Et(`/app-server/v1/ques/detail/${window.bankid}/${o}?browserWidth=${a}`).then(i=>{n.value=S.host+"/api/xkw-helper/route-pic?purl="+btoa(i.data.answerImg.replace("@2","@3")),r.value=S.host+"/api/xkw-helper/route-pic?purl="+btoa(i.data.parseImg.replace("@2","@3")),t.value=!1}),(i,s)=>t.value?(C(),_("div",xe,[m(d(we))])):(C(),_("div",ke,[m(d(Pt),null,{default:p(()=>[m(d(ve),null,{default:p(()=>[m(d(ye),{width:d(a),src:n.value},null,8,["width","src"]),m(d(ye),{width:d(a),src:r.value},null,8,["width","src"])]),_:1})]),_:1})]))}};function Ce(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}const $e=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function x(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function D(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function _e(e){const t=D(e,"border-left-width"),n=D(e,"border-right-width");return e.clientWidth+t+n}function Pe(e){const t=D(e,"border-top-width"),n=D(e,"border-bottom-width");return e.clientHeight+t+n}function W(e,t={}){const n=t.width||_e(e),r=t.height||Pe(e);return{width:n,height:r}}function Ie(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const w=16384;function Te(e){(e.width>w||e.height>w)&&(e.width>w&&e.height>w?e.width>e.height?(e.height*=w/e.width,e.width=w):(e.width*=w/e.height,e.height=w):e.width>w?(e.height*=w/e.width,e.width=w):(e.width*=w/e.height,e.height=w))}function R(e){return new Promise((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function De(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Re(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),o.appendChild(a),a.appendChild(e),De(o)}const f=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||f(n,t)};function Ne(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Be(e){return x(e).map(t=>{const n=e.getPropertyValue(t),r=e.getPropertyPriority(t);return`${t}: ${n}${r?" !important":""};`}).join(" ")}function qe(e,t,n){const r=`.${e}:${t}`,o=n.cssText?Ne(n):Be(n);return document.createTextNode(`${r}{${o}}`)}function G(e,t,n){const r=window.getComputedStyle(e,n),o=r.getPropertyValue("content");if(o===""||o==="none")return;const a=$e();try{t.className=`${t.className} ${a}`}catch{return}const i=document.createElement("style");i.appendChild(qe(a,n,r)),t.appendChild(i)}function Ae(e,t){G(e,t,":before"),G(e,t,":after")}const Q="application/font-woff",X="image/jpeg",Le={woff:Q,woff2:Q,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:X,jpeg:X,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function je(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function H(e){const t=je(e).toLowerCase();return Le[t]||""}function He(e){return e.split(/,/)[1]}function M(e){return e.search(/^(data:)/)!==-1}function Z(e,t){return`data:${t};base64,${e}`}async function J(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise((a,i)=>{const s=new FileReader;s.onerror=i,s.onloadend=()=>{try{a(n({res:r,result:s.result}))}catch(c){i(c)}},s.readAsDataURL(o)})}const z={};function Me(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function F(e,t,n){const r=Me(e,t,n.includeQueryParams);if(z[r]!=null)return z[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const a=await J(e,n.fetchRequestInit,({res:i,result:s})=>(t||(t=i.headers.get("Content-Type")||""),He(s)));o=Z(a,t)}catch(a){o=n.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;a&&(i=typeof a=="string"?a:a.message),i&&console.warn(i)}return z[r]=o,o}async function ze(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):R(t)}async function Fe(e,t){if(e.currentSrc){const a=document.createElement("canvas"),i=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,i==null||i.drawImage(e,0,0,a.width,a.height);const s=a.toDataURL();return R(s)}const n=e.poster,r=H(n),o=await F(n,r,t);return R(o)}async function Ue(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await N(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function Oe(e,t){return f(e,HTMLCanvasElement)?ze(e):f(e,HTMLVideoElement)?Fe(e,t):f(e,HTMLIFrameElement)?Ue(e):e.cloneNode(!1)}const Ve=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function We(e,t,n){var r,o;let a=[];return Ve(e)&&e.assignedNodes?a=x(e.assignedNodes()):f(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?a=x(e.contentDocument.body.childNodes):a=x(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),a.length===0||f(e,HTMLVideoElement)||await a.reduce((i,s)=>i.then(()=>N(s,n)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function Ge(e,t){const n=t.style;if(!n)return;const r=window.getComputedStyle(e);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):x(r).forEach(o=>{let a=r.getPropertyValue(o);o==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),f(e,HTMLIFrameElement)&&o==="display"&&a==="inline"&&(a="block"),o==="d"&&t.getAttribute("d")&&(a=`path(${t.getAttribute("d")})`),n.setProperty(o,a,r.getPropertyPriority(o))})}function Qe(e,t){f(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),f(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Xe(e,t){if(f(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(o=>e.value===o.getAttribute("value"));r&&r.setAttribute("selected","")}}function Ze(e,t){return f(t,Element)&&(Ge(e,t),Ae(e,t),Qe(e,t),Xe(e,t)),t}async function Je(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const i=n[a].getAttribute("xlink:href");if(i){const s=e.querySelector(i),c=document.querySelector(i);!s&&c&&!r[i]&&(r[i]=await N(c,t,!0))}}const o=Object.values(r);if(o.length){const a="http://www.w3.org/1999/xhtml",i=document.createElementNS(a,"svg");i.setAttribute("xmlns",a),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const s=document.createElementNS(a,"defs");i.appendChild(s);for(let c=0;c<o.length;c++)s.appendChild(o[c]);e.appendChild(i)}return e}async function N(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>Oe(r,t)).then(r=>We(e,r,t)).then(r=>Ze(e,r)).then(r=>Je(r,t))}const K=/url\((['"]?)([^'"]+?)\1\)/g,Ke=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Ye=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function et(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function tt(e){const t=[];return e.replace(K,(n,r,o)=>(t.push(o),n)),t.filter(n=>!M(n))}async function nt(e,t,n,r,o){try{const a=n?Ce(t,n):t,i=H(t);let s;if(o){const c=await o(a);s=Z(c,i)}else s=await F(a,i,r);return e.replace(et(t),`$1${s}$3`)}catch{}return e}function rt(e,{preferredFontFormat:t}){return t?e.replace(Ye,n=>{for(;;){const[r,,o]=Ke.exec(n)||[];if(!o)return"";if(o===t)return`src: ${r};`}}):e}function Y(e){return e.search(K)!==-1}async function ee(e,t,n){if(!Y(e))return e;const r=rt(e,n);return tt(r).reduce((o,a)=>o.then(i=>nt(i,a,t,n)),Promise.resolve(r))}async function B(e,t,n){var r;const o=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(o){const a=await ee(o,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function ot(e,t){await B("background",e,t)||await B("background-image",e,t),await B("mask",e,t)||await B("mask-image",e,t)}async function at(e,t){const n=f(e,HTMLImageElement);if(!(n&&!M(e.src))&&!(f(e,SVGImageElement)&&!M(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,o=await F(r,H(r),t);await new Promise((a,i)=>{e.onload=a,e.onerror=i;const s=e;s.decode&&(s.decode=a),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o})}async function it(e,t){const n=x(e.childNodes).map(r=>te(r,t));await Promise.all(n).then(()=>e)}async function te(e,t){f(e,Element)&&(await ot(e,t),await at(e,t),await it(e,t))}function lt(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(o=>{n[o]=r[o]}),e}const ne={};async function re(e){let t=ne[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},ne[e]=t,t}async function oe(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let i=a.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),J(i,t.fetchRequestInit,({result:s})=>(n=n.replace(a,`url(${s})`),[a,s]))});return Promise.all(o).then(()=>n)}function ae(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=o.exec(r);if(c===null)break;t.push(c[0])}r=r.replace(o,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(i,"gi");for(;;){let c=a.exec(r);if(c===null){if(c=s.exec(r),c===null)break;a.lastIndex=s.lastIndex}else s.lastIndex=a.lastIndex;t.push(c[0])}return t}async function st(e,t){const n=[],r=[];return e.forEach(o=>{if("cssRules"in o)try{x(o.cssRules||[]).forEach((a,i)=>{if(a.type===CSSRule.IMPORT_RULE){let s=i+1;const c=a.href,$=re(c).then(E=>oe(E,t)).then(E=>ae(E).forEach(T=>{try{o.insertRule(T,T.startsWith("@import")?s+=1:o.cssRules.length)}catch(q){console.error("Error inserting rule from remote css",{rule:T,error:q})}})).catch(E=>{console.error("Error loading remote css",E.toString())});r.push($)}})}catch(a){const i=e.find(s=>s.href==null)||document.styleSheets[0];o.href!=null&&r.push(re(o.href).then(s=>oe(s,t)).then(s=>ae(s).forEach(c=>{i.insertRule(c,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(o=>{if("cssRules"in o)try{x(o.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${o.href}`,a)}}),n))}function ut(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Y(t.style.getPropertyValue("src")))}async function ct(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=x(e.ownerDocument.styleSheets),r=await st(n,t);return ut(r)}async function dt(e,t){const n=await ct(e,t);return(await Promise.all(n.map(r=>{const o=r.parentStyleSheet?r.parentStyleSheet.href:null;return ee(r.cssText,o,t)}))).join(`
`)}async function mt(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await dt(e,t);if(n){const r=document.createElement("style"),o=document.createTextNode(n);r.appendChild(o),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function ht(e,t={}){const{width:n,height:r}=W(e,t),o=await N(e,t,!0);return await mt(o,t),await te(o,t),lt(o,t),await Re(o,n,r)}async function pt(e,t={}){const{width:n,height:r}=W(e,t),o=await ht(e,t),a=await R(o),i=document.createElement("canvas"),s=i.getContext("2d"),c=t.pixelRatio||Ie(),$=t.canvasWidth||n,E=t.canvasHeight||r;return i.width=$*c,i.height=E*c,t.skipAutoScale||Te(i),i.style.width=`${$}`,i.style.height=`${E}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,i.width,i.height)),s.drawImage(a,0,0,i.width,i.height),i}async function ft(e,t={}){return(await pt(e,t)).toDataURL("image/jpeg",t.quality||1)}let ie,le,se,ue,ce,de,me,he;ie={class:"block_main"},le=["id"],se=["id","onPointermove","onMouseup","onMousedown"],ue={class:"hanged_container"},ce={style:{display:"flex","justify-content":"flex-end"}},de={key:0},me={key:1},he={__name:"room.checkout",setup(e){const t=g([]);t.value=window.useranswerPaths;const n=g([]);n.value=window.TList;const r=g([]),o=g(""),a=g(!1),i=n.value.map((l,u)=>new ResizeObserver(h=>{c.recalculateSize(u)}));let s=[];window.PaintCONFIG.color="red",kt(()=>{for(let l=0;l<n.value.length;l++)n.value[l],document.getElementById("drawableCanvas-"+l).width=document.getElementById("DrawableBlock-"+l).clientWidth*3,document.getElementById("drawableCanvas-"+l).height=document.getElementById("DrawableBlock-"+l).clientHeight*3,document.getElementById("drawableCanvas-"+l).style.height=document.getElementById("DrawableBlock-"+l).clientHeight+"px",r.value[l]=document.getElementById("DrawableBlock-"+l).clientHeight,s[l]=new It(document.getElementById("drawableCanvas-"+l)),i[l].observe(document.getElementById("DrawableBlock-"+l)),c.initPaint(l,window.useranswerPaths[l]||[])});const c={onpointermove:(l,u)=>{console.log(l),s[l].onpointermove&&s[l].onpointermove(u)},onmouseup:(l,u)=>{s[l].onmouseup&&s[l].onmouseup(u)},onmousedown:(l,u)=>{s[l].onmousedown&&s[l].onmousedown(u)},recalculateSize:l=>{document.getElementById("drawableCanvas-"+l).width=document.getElementById("DrawableBlock-"+l).clientWidth*3,document.getElementById("drawableCanvas-"+l).height=document.getElementById("DrawableBlock-"+l).clientHeight*3,r.value[l]=document.getElementById("DrawableBlock-"+l).clientHeight},clear:l=>{s[l].clear()},export:l=>s[l].export(),initPaint:(l,u)=>{s[l].paintlines=u,s[l].refreshCanvas()}},$=g([]);$.value=window.extendheight;const E=l=>{document.getElementById("DrawableBlock-"+(l+1)).scrollIntoView()},T=l=>{var u=document.getElementById("DrawableBlock-"+l);return u.querySelectorAll("img").forEach(h=>{h.src.includes("/formula/")&&(h.src=h.src.replace("https://staticzujuan.xkw.com/quesimg/Upload/formula/",S.host+"/api/xkw-helper/route-formula-svg/").replace(".svg",""))}),u.querySelector("canvas").style.position="fixed",u.querySelector("canvas").style.top="0",u.querySelector("canvas").style.left="0",u.style.backgroundColor="white",new Promise((h,v)=>{ft(u,{quality:.8,includeQueryParams:!0}).then(function(y){u.style.display="none",h(y)}).catch(function(y){})})},q=g("");q.value=window.qcomponent;const gt=l=>_t(window.qcomponent=="zjw"?Rt:Tt,{qcontent:l}),U=g([]),O=g(1),wt=async()=>{a.value=!0,o.value="Passing on data.";const l=(await S.post("/zujuan-ink-be-core/records/add",{date:new Date().toDateString(),timestamp:new Date().getTime(),count:n.value.length,bankid:window.bankid})).data;for(let u=0;u<n.value.length;u++){o.value=`Generate Image ${u+1} / ${n.value.length}`;let h;U.value.indexOf(u)!=-1?h=await T(u):h='data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"><foreignObject width="300" height="50"><body xmlns="http://www.w3.org/1999/xhtml"><p>\u7528\u6237\u9009\u62E9\u4E0D\u6536\u5F55\u7B54\u9898\u8BB0\u5F55\u56FE\u7247</p></body></foreignObject></svg>',o.value=`Submitting Record ${u+1} / ${n.value.length}`,await S.post("/zujuan-ink-be-core/donerec/add",{quid:n.value[u].quid,date:new Date().toDateString(),timestamp:new Date().getTime(),image:h,parent:l}),o.value=`Update Data ${u+1} / ${n.value.length}`,await S.get("/zujuan-ink-be-core/data/submitAsDone/"+n.value[u].quid)}o.value="Done.",O.value=2},vt=async(l,u)=>{await S.get("/zujuan-ink-be-core/data/addFailedColl/"+n.value[l].quid),n.value[l].failedcoll=!0},A=g(!1),k=g({quid:"",insights:"",note:"",rate:0,timestamp:0,times:0,lastfinishdate:0,mastarate:0,bankid:0}),yt=l=>{k.value={quid:n.value[l].quid,insights:"",note:"",rate:0,timestamp:new Date().getTime(),times:1,lastfinishdate:new Date().getTime(),mastarate:0,bankid:window.bankid},A.value=!0},bt=l=>{S.post("/zujuan-ink-be-core/ftc/push_to_collection",k.value).then(u=>{A.value=!1})};return(l,u)=>(C(),_(pe,null,[P("div",ie,[m(d(qt),{value:U.value,"onUpdate:value":u[0]||(u[0]=h=>U.value=h)},{default:p(()=>[(C(!0),_(pe,null,St(n.value,(h,v)=>(C(),_("div",null,[P("div",{id:"DrawableBlock-"+v},[P("canvas",{id:"drawableCanvas-"+v,class:"drawableCanvas",onPointermove:y=>c.onpointermove(v,y),onMouseup:y=>c.onmouseup(v,y),onMousedown:y=>c.onmousedown(v,y),style:L({height:r.value[v]+"px"})},null,44,se),P("div",ue,[m(d(ve),{vertical:""},{default:p(()=>[m(d(I),{onClick:y=>E(v),disabled:v==n.value.length-1},{default:p(()=>[b("NEXT")]),_:2},1032,["onClick","disabled"]),m(d(I),{onClick:y=>vt(v)},{default:p(()=>[b("\u6536\u5F55\u9519\u9898\u96C6")]),_:2},1032,["onClick"]),m(d(I),{onClick:y=>yt(v)},{default:p(()=>[b("\u6536\u5F55ftc session")]),_:2},1032,["onClick"]),m(d(Bt),{value:v,label:"\u4FDD\u5B58\u672C\u9898\u7B54\u9898\u56FE\u7247"},null,8,["value"])]),_:2},1024)]),(C(),Ct($t(gt(h)))),P("div",{style:L({height:($.value[h]||0)+"px"}),class:"extendHeightBlock"},null,4),m(Se,{id:q.value=="zjw"?h.id:h.qid,width:700},null,8,["id"])],8,le)]))),256))]),_:1},8,["value"]),P("div",null,[m(d(I),{onClick:wt},{default:p(()=>[b("Finish.")]),_:1})])]),m(d(be),{show:A.value,"onUpdate:show":u[3]||(u[3]=h=>A.value=h),style:L([{width:"50%"},l.bodyStyle]),class:"custom-card",preset:"card",title:"\u5C06\u8FD9\u9053\u9898\u76EE\u6536\u5F55\u5230FTC Session",bordered:!1,size:"huge",segmented:l.segmented},{default:p(()=>[m(d(At),{"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging"},{default:p(()=>[m(d(j),{label:"quid"},{default:p(()=>[m(d(V),{disabled:"",value:k.value.quid},null,8,["value"])]),_:1}),m(d(j),{label:"\u4F60\u7684\u611F\u60F3"},{default:p(()=>[m(d(V),{type:"textarea",value:k.value.insights,"onUpdate:value":u[1]||(u[1]=h=>k.value.insights=h),placeholder:"\u5BF9\u8FD9\u9053\u9898\u76EE\u7684\u60F3\u6CD5\uFF0C\u6536\u83B7\u7684\u77E5\u8BC6\u70B9\uFF0C\u7B49\u7B49"},null,8,["value"])]),_:1}),m(d(j),{label:"\u6CE8\u91CA"},{default:p(()=>[m(d(V),{type:"textarea",value:k.value.note,"onUpdate:value":u[2]||(u[2]=h=>k.value.note=h),placeholder:"\u663E\u793A\u5728\u9898\u76EE\u524D\u7684\u4FE1\u606F e.g. \u9519\u9898\u7684\u5C0F\u9898\u53F7"},null,8,["value"])]),_:1}),m(d(j),{label:"\u8BC4\u7EA7"},{default:p(()=>[m(d(Lt),{"allow-half":"",count:10,"on-update:value":h=>{k.value.rate=h*10}},null,8,["on-update:value"]),m(d(jt),null,{default:p(()=>[b(fe(k.value.rate),1)]),_:1})]),_:1}),P("div",ce,[m(d(I),{round:"",type:"primary",onClick:bt},{default:p(()=>[b(" \u6536\u5F55 ")]),_:1})])]),_:1})]),_:1},8,["show","style","segmented"]),m(d(be),{show:a.value,"onUpdate:show":u[6]||(u[6]=h=>a.value=h),style:L([{width:"50%"},l.bodyStyle]),class:"custom-card",preset:"card",title:"\u8BF7\u7A0D\u5019",bordered:!1,size:"huge",segmented:l.segmented},{default:p(()=>[O.value==1?(C(),_("div",de,[m(d(Ht),{type:"warning"},{default:p(()=>[b(" \u8BE5\u5E94\u7528\u7684\u540E\u7AEF\u6CA1\u6709\u539F\u5B50\u6027\uFF0C\u800C\u6B64\u8FC7\u7A0B\u4E2D\u7684API\u5F80\u8FD4\u8F83\u591A\uFF0C\u56E0\u6B64\uFF0C\u8BF7\u4E0D\u8981\u5728\u63D0\u4EA4\u8FC7\u7A0B\u4E2D\u65AD\u5F00\u8054\u7F51\uFF0C\u6216\u53D6\u6D88\u4FDD\u5B58 ")]),_:1}),b(),m(d(we),null,{description:p(()=>[b(fe(o.value),1)]),_:1})])):ge("",!0),O.value==2?(C(),_("div",me,[m(d(I),{onClick:u[4]||(u[4]=h=>l.$router.push("../preparing-room"))},{default:p(()=>[b("\u8FD4\u56DE\u51C6\u5907\u5BA4")]),_:1}),m(d(I),{onClick:u[5]||(u[5]=h=>l.$router.push("../home"))},{default:p(()=>[b("\u8FD4\u56DE\u9996\u9875")]),_:1})])):ge("",!0)]),_:1},8,["show","style","segmented"])],64))}},Ee=Nt(he,[["__scopeId","data-v-6b12297e"]])});export{zt as __tla,Ee as default};
