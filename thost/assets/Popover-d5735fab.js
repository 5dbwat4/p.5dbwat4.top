import{m as _e,T as Te}from"./runtime-dom.esm-bundler-4f377a37.js";import{a as kt,d as Rt,p as Pt,e as Ee,f as It,z as Wt,L as Ae,c as Nt,F as ke,g as Ft}from"./index-cabd39fd.js";import{g as Lt,f as Re,E as nt,C as at,F as Pe,G as Ie,H as vt,I as We,A as J,J as G,z as Dt,M as gt,K as Ne,S as Xt,L as Fe,U as Yt,N as Ht,O as lt,P as Le,y as Vt,B as De,Q as Xe,R as Ye,T as He,V as Ve,W as Ue,c as Ke,h as N,a as P,j as mt,i as bt,b as st,X as Je,u as Ge,d as wt,e as Qe}from"./light-cb8e5d18.js";import{a as Ze}from"./Icon-0741e3aa.js";import{c as qe,t as yt,i as Ut,g as tr,b as er}from"./get-9cb40f85.js";import{o as Q,a as X,g as Kt,X as rr,k as or}from"./Scrollbar-6ef5ad24.js";import{f as $t}from"./format-length-c9d165c6.js";import{u as q,i as Jt,r as xt}from"./use-memo-7138c88c.js";import{R as F,b2 as T,a5 as Gt,a1 as it,w as tt,ad as et,J as nr,aJ as ut,aC as rt,b8 as Y,N as S,_ as ar,aD as Qt,j as ot,Z as lr,F as sr,h as ir,d as ur}from"./index-6b27469d.js";import{c as cr,o as dr,a as ct}from"./cssr-752b8ed7.js";import{i as Zt,c as dt}from"./use-is-mounted-e356ec1d.js";import{u as pr}from"./use-merged-state-236ae148.js";import{u as fr}from"./use-compitable-182c3d4e.js";import{b as hr}from"./next-frame-once-7035a838.js";let St;function vr(){return St===void 0&&(St=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),St}const gr=Lt("n-internal-select-menu"),qt=Lt("n-internal-select-menu-body"),te="__disabled__";function H(t){const e=F(kt,null),r=F(Rt,null),o=F(Pt,null),n=F(qt,null),a=T();if(typeof document<"u"){a.value=document.fullscreenElement;const l=()=>{a.value=document.fullscreenElement};Gt(()=>{Q("fullscreenchange",document,l)}),it(()=>{X("fullscreenchange",document,l)})}return q(()=>{var l;const{to:i}=t;return i!==void 0?i===!1?te:i===!0?a.value||"body":i:e!=null&&e.value?(l=e.value.$el)!==null&&l!==void 0?l:e.value:r!=null&&r.value?r.value:o!=null&&o.value?o.value:n!=null&&n.value?n.value:i??(a.value||"body")})}H.tdkey=te,H.propTo={type:[String,Object,Boolean],default:void 0};let L=null;function ee(){if(L===null&&(L=document.getElementById("v-binder-view-measurer"),L===null)){L=document.createElement("div"),L.id="v-binder-view-measurer";const{style:t}=L;t.position="fixed",t.left="0",t.right="0",t.top="0",t.bottom="0",t.pointerEvents="none",t.visibility="hidden",document.body.appendChild(L)}return L.getBoundingClientRect()}function mr(t,e){const r=ee();return{top:e,left:t,height:0,width:0,right:r.width-t,bottom:r.height-e}}function Mt(t){const e=t.getBoundingClientRect(),r=ee();return{left:e.left-r.left,top:e.top-r.top,bottom:r.height+r.top-e.bottom,right:r.width+r.left-e.right,width:e.width,height:e.height}}function br(t){return t.nodeType===9?null:t.parentNode}function re(t){if(t===null)return null;const e=br(t);if(e===null)return null;if(e.nodeType===9)return document;if(e.nodeType===1){const{overflow:r,overflowX:o,overflowY:n}=getComputedStyle(e);if(/(auto|scroll|overlay)/.test(r+n+o))return e}return re(e)}const wr=tt({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(t){var e;et("VBinder",(e=nr())===null||e===void 0?void 0:e.proxy);const r=F("VBinder",null),o=T(null),n=d=>{o.value=d,r&&t.syncTargetWithParent&&r.setTargetRef(d)};let a=[];const l=()=>{let d=o.value;for(;d=re(d),d!==null;)a.push(d);for(const $ of a)Q("scroll",$,b,!0)},i=()=>{for(const d of a)X("scroll",d,b,!0);a=[]},s=new Set,h=d=>{s.size===0&&l(),s.has(d)||s.add(d)},v=d=>{s.has(d)&&s.delete(d),s.size===0&&i()},b=()=>{hr(u)},u=()=>{s.forEach(d=>d())},f=new Set,g=d=>{f.size===0&&Q("resize",window,y),f.has(d)||f.add(d)},c=d=>{f.has(d)&&f.delete(d),f.size===0&&X("resize",window,y)},y=()=>{f.forEach(d=>d())};return it(()=>{X("resize",window,y),i()}),{targetRef:o,setTargetRef:n,addScrollListener:h,removeScrollListener:v,addResizeListener:g,removeResizeListener:c}},render(){return Ee("binder",this.$slots)}}),oe=wr,ne=tt({name:"Target",setup(){const{setTargetRef:t,syncTarget:e}=F("VBinder");return{syncTarget:e,setTargetDirective:{mounted:t,updated:t}}},render(){const{syncTarget:t,setTargetDirective:e}=this;return t?ut(It("follower",this.$slots),[[e]]):It("follower",this.$slots)}}),Z="@@mmoContext",yr={mounted(t,{value:e}){t[Z]={handler:void 0},typeof e=="function"&&(t[Z].handler=e,Q("mousemoveoutside",t,e))},updated(t,{value:e}){const r=t[Z];typeof e=="function"?r.handler?r.handler!==e&&(X("mousemoveoutside",t,r.handler),r.handler=e,Q("mousemoveoutside",t,e)):(t[Z].handler=e,Q("mousemoveoutside",t,e)):r.handler&&(X("mousemoveoutside",t,r.handler),r.handler=void 0)},unmounted(t){const{handler:e}=t[Z];e&&X("mousemoveoutside",t,e),t[Z].handler=void 0}},$r=yr,pt={top:"bottom",bottom:"top",left:"right",right:"left"},ae={start:"end",center:"center",end:"start"},Ct={top:"height",bottom:"height",left:"width",right:"width"},xr={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},Sr={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},Mr={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},le={top:!0,bottom:!1,left:!0,right:!1},se={top:"end",bottom:"start",left:"end",right:"start"};function Cr(t,e,r,o,n,a){if(!n||a)return{placement:t,top:0,left:0};const[l,i]=t.split("-");let s=i??"center",h={top:0,left:0};const v=(f,g,c)=>{let y=0,d=0;const $=r[f]-e[g]-e[f];return $>0&&o&&(c?d=le[g]?$:-$:y=le[g]?$:-$),{left:y,top:d}},b=l==="left"||l==="right";if(s!=="center"){const f=Mr[t],g=pt[f],c=Ct[f];if(r[c]>e[c]){if(e[f]+e[c]<r[c]){const y=(r[c]-e[c])/2;e[f]<y||e[g]<y?e[f]<e[g]?(s=ae[i],h=v(c,g,b)):h=v(c,f,b):s="center"}}else r[c]<e[c]&&e[g]<0&&e[f]>e[g]&&(s=ae[i])}else{const f=l==="bottom"||l==="top"?"left":"top",g=pt[f],c=Ct[f],y=(r[c]-e[c])/2;(e[f]<y||e[g]<y)&&(e[f]>e[g]?(s=se[f],h=v(c,f,b)):(s=se[g],h=v(c,g,b)))}let u=l;return e[l]<r[Ct[l]]&&e[l]<e[pt[l]]&&(u=pt[l]),{placement:s!=="center"?`${u}-${s}`:u,left:h.left,top:h.top}}function Or(t,e){return e?Sr[t]:xr[t]}function zr(t,e,r,o,n,a){if(a)switch(t){case"bottom-start":return{top:`${Math.round(r.top-e.top+r.height)}px`,left:`${Math.round(r.left-e.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(r.top-e.top+r.height)}px`,left:`${Math.round(r.left-e.left+r.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(r.top-e.top)}px`,left:`${Math.round(r.left-e.left)}px`,transform:""};case"top-end":return{top:`${Math.round(r.top-e.top)}px`,left:`${Math.round(r.left-e.left+r.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(r.top-e.top)}px`,left:`${Math.round(r.left-e.left+r.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(r.top-e.top+r.height)}px`,left:`${Math.round(r.left-e.left+r.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(r.top-e.top)}px`,left:`${Math.round(r.left-e.left)}px`,transform:""};case"left-end":return{top:`${Math.round(r.top-e.top+r.height)}px`,left:`${Math.round(r.left-e.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(r.top-e.top)}px`,left:`${Math.round(r.left-e.left+r.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(r.top-e.top+r.height/2)}px`,left:`${Math.round(r.left-e.left+r.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(r.top-e.top+r.height/2)}px`,left:`${Math.round(r.left-e.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(r.top-e.top+r.height)}px`,left:`${Math.round(r.left-e.left+r.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(t){case"bottom-start":return{top:`${Math.round(r.top-e.top+r.height+o)}px`,left:`${Math.round(r.left-e.left+n)}px`,transform:""};case"bottom-end":return{top:`${Math.round(r.top-e.top+r.height+o)}px`,left:`${Math.round(r.left-e.left+r.width+n)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(r.top-e.top+o)}px`,left:`${Math.round(r.left-e.left+n)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(r.top-e.top+o)}px`,left:`${Math.round(r.left-e.left+r.width+n)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(r.top-e.top+o)}px`,left:`${Math.round(r.left-e.left+r.width+n)}px`,transform:""};case"right-end":return{top:`${Math.round(r.top-e.top+r.height+o)}px`,left:`${Math.round(r.left-e.left+r.width+n)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(r.top-e.top+o)}px`,left:`${Math.round(r.left-e.left+n)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(r.top-e.top+r.height+o)}px`,left:`${Math.round(r.left-e.left+n)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(r.top-e.top+o)}px`,left:`${Math.round(r.left-e.left+r.width/2+n)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(r.top-e.top+r.height/2+o)}px`,left:`${Math.round(r.left-e.left+r.width+n)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(r.top-e.top+r.height/2+o)}px`,left:`${Math.round(r.left-e.left+n)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(r.top-e.top+r.height+o)}px`,left:`${Math.round(r.left-e.left+r.width/2+n)}px`,transform:"translateX(-50%)"}}}const jr=ct([ct(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),ct(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[ct("> *",{pointerEvents:"all"})])]),ie=tt({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(t){const e=F("VBinder"),r=q(()=>t.enabled!==void 0?t.enabled:t.show),o=T(null),n=T(null),a=()=>{const{syncTrigger:u}=t;u.includes("scroll")&&e.addScrollListener(s),u.includes("resize")&&e.addResizeListener(s)},l=()=>{e.removeScrollListener(s),e.removeResizeListener(s)};Gt(()=>{r.value&&(s(),a())});const i=Re();jr.mount({id:"vueuc/binder",head:!0,anchorMetaName:cr,ssr:i}),it(()=>{l()}),dr(()=>{r.value&&s()});const s=()=>{if(!r.value)return;const u=o.value;if(u===null)return;const f=e.targetRef,{x:g,y:c,overlap:y}=t,d=g!==void 0&&c!==void 0?mr(g,c):Mt(f);u.style.setProperty("--v-target-width",`${Math.round(d.width)}px`),u.style.setProperty("--v-target-height",`${Math.round(d.height)}px`);const{width:$,minWidth:A,placement:j,internalShift:B,flip:D}=t;u.setAttribute("v-placement",j),y?u.setAttribute("v-overlap",""):u.removeAttribute("v-overlap");const{style:m}=u;$==="target"?m.width=`${d.width}px`:$!==void 0?m.width=$:m.width="",A==="target"?m.minWidth=`${d.width}px`:A!==void 0?m.minWidth=A:m.minWidth="";const C=Mt(u),w=Mt(n.value),{left:z,top:W,placement:_}=Cr(j,d,C,B,D,y),k=Or(_,y),{left:p,top:x,transform:O}=zr(_,w,d,W,z,y);u.setAttribute("v-placement",_),u.style.setProperty("--v-offset-left",`${Math.round(z)}px`),u.style.setProperty("--v-offset-top",`${Math.round(W)}px`),u.style.transform=`translateX(${p}) translateY(${x}) ${O}`,u.style.setProperty("--v-transform-origin",k),u.style.transformOrigin=k};rt(r,u=>{u?(a(),h()):l()});const h=()=>{ar().then(s).catch(u=>console.error(u))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(u=>{rt(Y(t,u),s)}),["teleportDisabled"].forEach(u=>{rt(Y(t,u),h)}),rt(Y(t,"syncTrigger"),u=>{u.includes("resize")?e.addResizeListener(s):e.removeResizeListener(s),u.includes("scroll")?e.addScrollListener(s):e.removeScrollListener(s)});const v=Zt(),b=q(()=>{const{to:u}=t;if(u!==void 0)return u;v.value});return{VBinder:e,mergedEnabled:r,offsetContainerRef:n,followerRef:o,mergedTo:b,syncPosition:s}},render(){return S(Ae,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var t,e;const r=S("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[S("div",{class:"v-binder-follower-content",ref:"followerRef"},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))]);return this.zindexable?ut(r,[[Wt,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):r}})}});var Br=nt(at,"WeakMap");const Ot=Br;var _r=Pe(Object.keys,Object);const Tr=_r;var Er=Object.prototype,Ar=Er.hasOwnProperty;function kr(t){if(!Ie(t))return Tr(t);var e=[];for(var r in Object(t))Ar.call(t,r)&&r!="constructor"&&e.push(r);return e}function zt(t){return vt(t)?We(t):kr(t)}function Rr(t,e){for(var r=-1,o=e.length,n=t.length;++r<o;)t[n+r]=e[r];return t}function Pr(t,e){for(var r=-1,o=t==null?0:t.length,n=0,a=[];++r<o;){var l=t[r];e(l,r,t)&&(a[n++]=l)}return a}function Ir(){return[]}var Wr=Object.prototype,Nr=Wr.propertyIsEnumerable,ue=Object.getOwnPropertySymbols,Fr=ue?function(t){return t==null?[]:(t=Object(t),Pr(ue(t),function(e){return Nr.call(t,e)}))}:Ir;const Lr=Fr;function Dr(t,e,r){var o=e(t);return J(t)?o:Rr(o,r(t))}function ce(t){return Dr(t,zt,Lr)}var Xr=nt(at,"DataView");const jt=Xr;var Yr=nt(at,"Promise");const Bt=Yr;var Hr=nt(at,"Set");const _t=Hr;var de="[object Map]",Vr="[object Object]",pe="[object Promise]",fe="[object Set]",he="[object WeakMap]",ve="[object DataView]",Ur=G(jt),Kr=G(gt),Jr=G(Bt),Gr=G(_t),Qr=G(Ot),V=Dt;(jt&&V(new jt(new ArrayBuffer(1)))!=ve||gt&&V(new gt)!=de||Bt&&V(Bt.resolve())!=pe||_t&&V(new _t)!=fe||Ot&&V(new Ot)!=he)&&(V=function(t){var e=Dt(t),r=e==Vr?t.constructor:void 0,o=r?G(r):"";if(o)switch(o){case Ur:return ve;case Kr:return de;case Jr:return pe;case Gr:return fe;case Qr:return he}return e});const ge=V;var Zr="__lodash_hash_undefined__";function qr(t){return this.__data__.set(t,Zr),this}function to(t){return this.__data__.has(t)}function ft(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Ne;++e<r;)this.add(t[e])}ft.prototype.add=ft.prototype.push=qr,ft.prototype.has=to;function eo(t,e){for(var r=-1,o=t==null?0:t.length;++r<o;)if(e(t[r],r,t))return!0;return!1}function ro(t,e){return t.has(e)}var oo=1,no=2;function me(t,e,r,o,n,a){var l=r&oo,i=t.length,s=e.length;if(i!=s&&!(l&&s>i))return!1;var h=a.get(t),v=a.get(e);if(h&&v)return h==e&&v==t;var b=-1,u=!0,f=r&no?new ft:void 0;for(a.set(t,e),a.set(e,t);++b<i;){var g=t[b],c=e[b];if(o)var y=l?o(c,g,b,e,t,a):o(g,c,b,t,e,a);if(y!==void 0){if(y)continue;u=!1;break}if(f){if(!eo(e,function(d,$){if(!ro(f,$)&&(g===d||n(g,d,r,o,a)))return f.push($)})){u=!1;break}}else if(!(g===c||n(g,c,r,o,a))){u=!1;break}}return a.delete(t),a.delete(e),u}function ao(t){var e=-1,r=Array(t.size);return t.forEach(function(o,n){r[++e]=[n,o]}),r}function lo(t){var e=-1,r=Array(t.size);return t.forEach(function(o){r[++e]=o}),r}var so=1,io=2,uo="[object Boolean]",co="[object Date]",po="[object Error]",fo="[object Map]",ho="[object Number]",vo="[object RegExp]",go="[object Set]",mo="[object String]",bo="[object Symbol]",wo="[object ArrayBuffer]",yo="[object DataView]",be=Xt?Xt.prototype:void 0,Tt=be?be.valueOf:void 0;function $o(t,e,r,o,n,a,l){switch(r){case yo:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case wo:return!(t.byteLength!=e.byteLength||!a(new Yt(t),new Yt(e)));case uo:case co:case ho:return Fe(+t,+e);case po:return t.name==e.name&&t.message==e.message;case vo:case mo:return t==e+"";case fo:var i=ao;case go:var s=o&so;if(i||(i=lo),t.size!=e.size&&!s)return!1;var h=l.get(t);if(h)return h==e;o|=io,l.set(t,e);var v=me(i(t),i(e),o,n,a,l);return l.delete(t),v;case bo:if(Tt)return Tt.call(t)==Tt.call(e)}return!1}var xo=1,So=Object.prototype,Mo=So.hasOwnProperty;function Co(t,e,r,o,n,a){var l=r&xo,i=ce(t),s=i.length,h=ce(e),v=h.length;if(s!=v&&!l)return!1;for(var b=s;b--;){var u=i[b];if(!(l?u in e:Mo.call(e,u)))return!1}var f=a.get(t),g=a.get(e);if(f&&g)return f==e&&g==t;var c=!0;a.set(t,e),a.set(e,t);for(var y=l;++b<s;){u=i[b];var d=t[u],$=e[u];if(o)var A=l?o($,d,u,e,t,a):o(d,$,u,t,e,a);if(!(A===void 0?d===$||n(d,$,r,o,a):A)){c=!1;break}y||(y=u=="constructor")}if(c&&!y){var j=t.constructor,B=e.constructor;j!=B&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof B=="function"&&B instanceof B)&&(c=!1)}return a.delete(t),a.delete(e),c}var Oo=1,we="[object Arguments]",ye="[object Array]",ht="[object Object]",zo=Object.prototype,$e=zo.hasOwnProperty;function jo(t,e,r,o,n,a){var l=J(t),i=J(e),s=l?ye:ge(t),h=i?ye:ge(e);s=s==we?ht:s,h=h==we?ht:h;var v=s==ht,b=h==ht,u=s==h;if(u&&Ht(t)){if(!Ht(e))return!1;l=!0,v=!1}if(u&&!v)return a||(a=new lt),l||Le(t)?me(t,e,r,o,n,a):$o(t,e,s,r,o,n,a);if(!(r&Oo)){var f=v&&$e.call(t,"__wrapped__"),g=b&&$e.call(e,"__wrapped__");if(f||g){var c=f?t.value():t,y=g?e.value():e;return a||(a=new lt),n(c,y,r,o,a)}}return u?(a||(a=new lt),Co(t,e,r,o,n,a)):!1}function Et(t,e,r,o,n){return t===e?!0:t==null||e==null||!Vt(t)&&!Vt(e)?t!==t&&e!==e:jo(t,e,r,o,Et,n)}var Bo=1,_o=2;function To(t,e,r,o){var n=r.length,a=n,l=!o;if(t==null)return!a;for(t=Object(t);n--;){var i=r[n];if(l&&i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++n<a;){i=r[n];var s=i[0],h=t[s],v=i[1];if(l&&i[2]){if(h===void 0&&!(s in t))return!1}else{var b=new lt;if(o)var u=o(h,v,s,t,e,b);if(!(u===void 0?Et(v,h,Bo|_o,o,b):u))return!1}}return!0}function xe(t){return t===t&&!De(t)}function Eo(t){for(var e=zt(t),r=e.length;r--;){var o=e[r],n=t[o];e[r]=[o,n,xe(n)]}return e}function Se(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function Ao(t){var e=Eo(t);return e.length==1&&e[0][2]?Se(e[0][0],e[0][1]):function(r){return r===t||To(r,t,e)}}function ko(t,e){return t!=null&&e in Object(t)}function Ro(t,e,r){e=qe(e,t);for(var o=-1,n=e.length,a=!1;++o<n;){var l=yt(e[o]);if(!(a=t!=null&&r(t,l)))break;t=t[l]}return a||++o!=n?a:(n=t==null?0:t.length,!!n&&Xe(n)&&Ye(l,n)&&(J(t)||He(t)))}function Po(t,e){return t!=null&&Ro(t,e,ko)}var Io=1,Wo=2;function No(t,e){return Ut(t)&&xe(e)?Se(yt(t),e):function(r){var o=tr(r,t);return o===void 0&&o===e?Po(r,t):Et(e,o,Io|Wo)}}function Fo(t){return function(e){return e==null?void 0:e[t]}}function Lo(t){return function(e){return er(e,t)}}function Do(t){return Ut(t)?Fo(yt(t)):Lo(t)}function Xo(t){return typeof t=="function"?t:t==null?Ve:typeof t=="object"?J(t)?No(t[0],t[1]):Ao(t):Do(t)}function Yo(t,e){return t&&Ue(t,e,zt)}function Ho(t,e){return function(r,o){if(r==null)return r;if(!vt(r))return t(r,o);for(var n=r.length,a=e?n:-1,l=Object(r);(e?a--:++a<n)&&o(l[a],a,l)!==!1;);return r}}var Vo=Ho(Yo);const Uo=Vo;function Ko(t,e){var r=-1,o=vt(t)?Array(t.length):[];return Uo(t,function(n,a,l){o[++r]=e(n,a,l)}),o}function Jo(t,e){var r=J(t)?Ze:Ko;return r(t,Xo(e))}const Go={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},Qo=t=>{const{boxShadow2:e,popoverColor:r,textColor2:o,borderRadius:n,fontSize:a,dividerColor:l}=t;return Object.assign(Object.assign({},Go),{fontSize:a,borderRadius:n,color:r,dividerColor:l,textColor:o,boxShadow:e})},Zo={name:"Popover",common:Ke,self:Qo},Me=Zo,At={top:"bottom",bottom:"top",left:"right",right:"left"},M="var(--n-arrow-height) * 1.414",qo=N([P("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[N(">",[P("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),mt("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[mt("scrollable",[mt("show-header-or-footer","padding: var(--n-padding);")])]),bt("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),bt("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),st("scrollable, show-header-or-footer",[bt("content",`
 padding: var(--n-padding);
 `)])]),P("popover-shared",`
 transform-origin: inherit;
 `,[P("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[P("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${M});
 height: calc(${M});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),N("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),N("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),N("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),N("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),E("top-start",`
 top: calc(${M} / -2);
 left: calc(${I("top-start")} - var(--v-offset-left));
 `),E("top",`
 top: calc(${M} / -2);
 transform: translateX(calc(${M} / -2)) rotate(45deg);
 left: 50%;
 `),E("top-end",`
 top: calc(${M} / -2);
 right: calc(${I("top-end")} + var(--v-offset-left));
 `),E("bottom-start",`
 bottom: calc(${M} / -2);
 left: calc(${I("bottom-start")} - var(--v-offset-left));
 `),E("bottom",`
 bottom: calc(${M} / -2);
 transform: translateX(calc(${M} / -2)) rotate(45deg);
 left: 50%;
 `),E("bottom-end",`
 bottom: calc(${M} / -2);
 right: calc(${I("bottom-end")} + var(--v-offset-left));
 `),E("left-start",`
 left: calc(${M} / -2);
 top: calc(${I("left-start")} - var(--v-offset-top));
 `),E("left",`
 left: calc(${M} / -2);
 transform: translateY(calc(${M} / -2)) rotate(45deg);
 top: 50%;
 `),E("left-end",`
 left: calc(${M} / -2);
 bottom: calc(${I("left-end")} + var(--v-offset-top));
 `),E("right-start",`
 right: calc(${M} / -2);
 top: calc(${I("right-start")} - var(--v-offset-top));
 `),E("right",`
 right: calc(${M} / -2);
 transform: translateY(calc(${M} / -2)) rotate(45deg);
 top: 50%;
 `),E("right-end",`
 right: calc(${M} / -2);
 bottom: calc(${I("right-end")} + var(--v-offset-top));
 `),...Jo({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(t,e)=>{const r=["right","left"].includes(e),o=r?"width":"height";return t.map(n=>{const a=n.split("-")[1]==="end",l=`calc((${`var(--v-target-${o}, 0px)`} - ${M}) / 2)`,i=I(n);return N(`[v-placement="${n}"] >`,[P("popover-shared",[st("center-arrow",[P("popover-arrow",`${e}: calc(max(${l}, ${i}) ${a?"+":"-"} var(--v-offset-${r?"left":"top"}));`)])])])})})]);function I(t){return["top","bottom"].includes(t.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function E(t,e){const r=t.split("-")[0],o=["top","bottom"].includes(r)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return N(`[v-placement="${t}"] >`,[P("popover-shared",`
 margin-${At[r]}: var(--n-space);
 `,[st("show-arrow",`
 margin-${At[r]}: var(--n-space-arrow);
 `),st("overlap",`
 margin: 0;
 `),Je("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${r}: 100%;
 ${At[r]}: auto;
 ${o}
 `,[P("popover-arrow",e)])])])}const Ce=Object.assign(Object.assign({},wt.props),{to:H.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number}),Oe=({arrowClass:t,arrowStyle:e,arrowWrapperClass:r,arrowWrapperStyle:o,clsPrefix:n})=>S("div",{key:"__popover-arrow__",style:o,class:[`${n}-popover-arrow-wrapper`,r]},S("div",{class:[`${n}-popover-arrow`,t],style:e})),tn=tt({name:"PopoverBody",inheritAttrs:!1,props:Ce,setup(t,{slots:e,attrs:r}){const{namespaceRef:o,mergedClsPrefixRef:n,inlineThemeDisabled:a}=Ge(t),l=wt("Popover","-popover",qo,Me,t,n),i=T(null),s=F("NPopover"),h=T(null),v=T(t.show),b=T(!1);Qt(()=>{const{show:m}=t;m&&!vr()&&!t.internalDeactivateImmediately&&(b.value=!0)});const u=ot(()=>{const{trigger:m,onClickoutside:C}=t,w=[],{positionManuallyRef:{value:z}}=s;return z||(m==="click"&&!C&&w.push([Nt,j,void 0,{capture:!0}]),m==="hover"&&w.push([$r,A])),C&&w.push([Nt,j,void 0,{capture:!0}]),(t.displayDirective==="show"||t.animated&&b.value)&&w.push([_e,t.show]),w}),f=ot(()=>{const m=t.width==="trigger"?void 0:$t(t.width),C=[];m&&C.push({width:m});const{maxWidth:w,minWidth:z}=t;return w&&C.push({maxWidth:$t(w)}),z&&C.push({maxWidth:$t(z)}),a||C.push(g.value),C}),g=ot(()=>{const{common:{cubicBezierEaseInOut:m,cubicBezierEaseIn:C,cubicBezierEaseOut:w},self:{space:z,spaceArrow:W,padding:_,fontSize:k,textColor:p,dividerColor:x,color:O,boxShadow:U,borderRadius:K,arrowHeight:R,arrowOffset:je,arrowOffsetVertical:Be}}=l.value;return{"--n-box-shadow":U,"--n-bezier":m,"--n-bezier-ease-in":C,"--n-bezier-ease-out":w,"--n-font-size":k,"--n-text-color":p,"--n-color":O,"--n-divider-color":x,"--n-border-radius":K,"--n-arrow-height":R,"--n-arrow-offset":je,"--n-arrow-offset-vertical":Be,"--n-padding":_,"--n-space":z,"--n-space-arrow":W}}),c=a?Qe("popover",void 0,g,t):void 0;s.setBodyInstance({syncPosition:y}),it(()=>{s.setBodyInstance(null)}),rt(Y(t,"show"),m=>{t.animated||(m?v.value=!0:v.value=!1)});function y(){var m;(m=i.value)===null||m===void 0||m.syncPosition()}function d(m){t.trigger==="hover"&&t.keepAliveOnHover&&t.show&&s.handleMouseEnter(m)}function $(m){t.trigger==="hover"&&t.keepAliveOnHover&&s.handleMouseLeave(m)}function A(m){t.trigger==="hover"&&!B().contains(Kt(m))&&s.handleMouseMoveOutside(m)}function j(m){(t.trigger==="click"&&!B().contains(Kt(m))||t.onClickoutside)&&s.handleClickOutside(m)}function B(){return s.getTriggerElement()}et(Pt,h),et(Rt,null),et(kt,null);function D(){if(c==null||c.onRender(),!(t.displayDirective==="show"||t.show||t.animated&&b.value))return null;let m;const C=s.internalRenderBodyRef.value,{value:w}=n;if(C)m=C([`${w}-popover-shared`,c==null?void 0:c.themeClass.value,t.overlap&&`${w}-popover-shared--overlap`,t.showArrow&&`${w}-popover-shared--show-arrow`,t.arrowPointToCenter&&`${w}-popover-shared--center-arrow`],h,f.value,d,$);else{const{value:z}=s.extraClassRef,{internalTrapFocus:W}=t,_=!Jt(e.header)||!Jt(e.footer),k=()=>{var p,x;const O=_?S(sr,null,xt(e.header,R=>R?S("div",{class:[`${w}-popover__header`,t.headerClass],style:t.headerStyle},R):null),xt(e.default,R=>R?S("div",{class:[`${w}-popover__content`,t.contentClass],style:t.contentStyle},e):null),xt(e.footer,R=>R?S("div",{class:[`${w}-popover__footer`,t.footerClass],style:t.footerStyle},R):null)):t.scrollable?(p=e.default)===null||p===void 0?void 0:p.call(e):S("div",{class:[`${w}-popover__content`,t.contentClass],style:t.contentStyle},e),U=t.scrollable?S(rr,{contentClass:_?void 0:`${w}-popover__content ${(x=t.contentClass)!==null&&x!==void 0?x:""}`,contentStyle:_?void 0:t.contentStyle},{default:()=>O}):O,K=t.showArrow?Oe({arrowClass:t.arrowClass,arrowStyle:t.arrowStyle,arrowWrapperClass:t.arrowWrapperClass,arrowWrapperStyle:t.arrowWrapperStyle,clsPrefix:w}):null;return[U,K]};m=S("div",lr({class:[`${w}-popover`,`${w}-popover-shared`,c==null?void 0:c.themeClass.value,z.map(p=>`${w}-${p}`),{[`${w}-popover--scrollable`]:t.scrollable,[`${w}-popover--show-header-or-footer`]:_,[`${w}-popover--raw`]:t.raw,[`${w}-popover-shared--overlap`]:t.overlap,[`${w}-popover-shared--show-arrow`]:t.showArrow,[`${w}-popover-shared--center-arrow`]:t.arrowPointToCenter}],ref:h,style:f.value,onKeydown:s.handleKeydown,onMouseenter:d,onMouseleave:$},r),W?S(ke,{active:t.show,autoFocus:!0},{default:k}):k())}return ut(m,u.value)}return{displayed:b,namespace:o,isMounted:s.isMountedRef,zIndex:s.zIndexRef,followerRef:i,adjustedTo:H(t),followerEnabled:v,renderContentNode:D}},render(){return S(ie,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===H.tdkey},{default:()=>this.animated?S(Te,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var t;(t=this.internalOnAfterLeave)===null||t===void 0||t.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),en=Object.keys(Ce),rn={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function on(t,e,r){rn[e].forEach(o=>{t.props?t.props=Object.assign({},t.props):t.props={};const n=t.props[o],a=r[o];n?t.props[o]=(...l)=>{n(...l),a(...l)}:t.props[o]=a})}const ze={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:H.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},nn=Object.assign(Object.assign(Object.assign({},wt.props),ze),{internalOnAfterLeave:Function,internalRenderBody:Function}),an=tt({name:"Popover",inheritAttrs:!1,props:nn,__popover__:!0,setup(t){const e=Zt(),r=T(null),o=ot(()=>t.show),n=T(t.defaultShow),a=pr(o,n),l=q(()=>t.disabled?!1:a.value),i=()=>{if(t.disabled)return!0;const{getDisabled:p}=t;return!!(p!=null&&p())},s=()=>i()?!1:a.value,h=fr(t,["arrow","showArrow"]),v=ot(()=>t.overlap?!1:h.value);let b=null;const u=T(null),f=T(null),g=q(()=>t.x!==void 0&&t.y!==void 0);function c(p){const{"onUpdate:show":x,onUpdateShow:O,onShow:U,onHide:K}=t;n.value=p,x&&dt(x,p),O&&dt(O,p),p&&U&&dt(U,!0),p&&K&&dt(K,!1)}function y(){b&&b.syncPosition()}function d(){const{value:p}=u;p&&(window.clearTimeout(p),u.value=null)}function $(){const{value:p}=f;p&&(window.clearTimeout(p),f.value=null)}function A(){const p=i();if(t.trigger==="focus"&&!p){if(s())return;c(!0)}}function j(){const p=i();if(t.trigger==="focus"&&!p){if(!s())return;c(!1)}}function B(){const p=i();if(t.trigger==="hover"&&!p){if($(),u.value!==null||s())return;const x=()=>{c(!0),u.value=null},{delay:O}=t;O===0?x():u.value=window.setTimeout(x,O)}}function D(){const p=i();if(t.trigger==="hover"&&!p){if(d(),f.value!==null||!s())return;const x=()=>{c(!1),f.value=null},{duration:O}=t;O===0?x():f.value=window.setTimeout(x,O)}}function m(){D()}function C(p){var x;s()&&(t.trigger==="click"&&(d(),$(),c(!1)),(x=t.onClickoutside)===null||x===void 0||x.call(t,p))}function w(){if(t.trigger==="click"&&!i()){d(),$();const p=!s();c(p)}}function z(p){t.internalTrapFocus&&p.key==="Escape"&&(d(),$(),c(!1))}function W(p){n.value=p}function _(){var p;return(p=r.value)===null||p===void 0?void 0:p.targetRef}function k(p){b=p}return et("NPopover",{getTriggerElement:_,handleKeydown:z,handleMouseEnter:B,handleMouseLeave:D,handleClickOutside:C,handleMouseMoveOutside:m,setBodyInstance:k,positionManuallyRef:g,isMountedRef:e,zIndexRef:Y(t,"zIndex"),extraClassRef:Y(t,"internalExtraClass"),internalRenderBodyRef:Y(t,"internalRenderBody")}),Qt(()=>{a.value&&i()&&c(!1)}),{binderInstRef:r,positionManually:g,mergedShowConsideringDisabledProp:l,uncontrolledShow:n,mergedShowArrow:v,getMergedShow:s,setShow:W,handleClick:w,handleMouseEnter:B,handleMouseLeave:D,handleFocus:A,handleBlur:j,syncPosition:y}},render(){var t;const{positionManually:e,$slots:r}=this;let o,n=!1;if(!e&&(r.activator?o=Ft(r,"activator"):o=Ft(r,"trigger"),o)){o=ir(o),o=o.type===ur?S("span",[o]):o;const a={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((t=o.type)===null||t===void 0)&&t.__popover__)n=!0,o.props||(o.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),o.props.internalSyncTargetWithParent=!0,o.props.internalInheritedEventHandlers?o.props.internalInheritedEventHandlers=[a,...o.props.internalInheritedEventHandlers]:o.props.internalInheritedEventHandlers=[a];else{const{internalInheritedEventHandlers:l}=this,i=[a,...l],s={onBlur:h=>{i.forEach(v=>{v.onBlur(h)})},onFocus:h=>{i.forEach(v=>{v.onFocus(h)})},onClick:h=>{i.forEach(v=>{v.onClick(h)})},onMouseenter:h=>{i.forEach(v=>{v.onMouseenter(h)})},onMouseleave:h=>{i.forEach(v=>{v.onMouseleave(h)})}};on(o,l?"nested":e?"manual":this.trigger,s)}}return S(oe,{ref:"binderInstRef",syncTarget:!n,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const a=this.getMergedShow();return[this.internalTrapFocus&&a?ut(S("div",{style:{position:"fixed",inset:0}}),[[Wt,{enabled:a,zIndex:this.zIndex}]]):null,e?null:S(ne,null,{default:()=>o}),S(tn,or(this.$props,en,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:a})),{default:()=>{var l,i;return(i=(l=this.$slots).default)===null||i===void 0?void 0:i.call(l)},header:()=>{var l,i;return(i=(l=this.$slots).header)===null||i===void 0?void 0:i.call(l)},footer:()=>{var l,i;return(i=(l=this.$slots).footer)===null||i===void 0?void 0:i.call(l)}})]}})}});export{an as N,oe as V,ne as a,ie as b,ze as c,qt as d,gr as i,Me as p,Oe as r,H as u};
