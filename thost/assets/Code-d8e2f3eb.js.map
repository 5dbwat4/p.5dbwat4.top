{"version":3,"file":"Code-d8e2f3eb.js","sources":["../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/_mixins/use-hljs.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/code/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/code/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/code/src/Code.mjs"],"sourcesContent":["import { inject, computed, watchEffect } from 'vue';\nimport { configProviderInjectionKey } from \"../config-provider/src/context.mjs\";\nimport { warn } from \"../_utils/index.mjs\";\nexport default function useHljs(props, shouldHighlightRef) {\n  const NConfigProvider = inject(configProviderInjectionKey, null);\n  if (process.env.NODE_ENV !== 'production') {\n    const warnHljs = () => {\n      if (!props.hljs && !(NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedHljsRef.value)) {\n        warn('code', 'hljs is not set.');\n      }\n    };\n    if (!shouldHighlightRef) {\n      warnHljs();\n    } else {\n      watchEffect(() => {\n        if (shouldHighlightRef.value) {\n          warnHljs();\n        }\n      });\n    }\n  }\n  return computed(() => {\n    return props.hljs || (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedHljsRef.value);\n  });\n}","import { commonLight } from \"../../_styles/common/index.mjs\";\nconst self = vars => {\n  const {\n    textColor2,\n    fontSize,\n    fontWeightStrong,\n    textColor3\n  } = vars;\n  return {\n    textColor: textColor2,\n    fontSize,\n    fontWeightStrong,\n    // extracted from hljs atom-one-light.scss\n    'mono-3': '#a0a1a7',\n    'hue-1': '#0184bb',\n    'hue-2': '#4078f2',\n    'hue-3': '#a626a4',\n    'hue-4': '#50a14f',\n    'hue-5': '#e45649',\n    'hue-5-2': '#c91243',\n    'hue-6': '#986801',\n    'hue-6-2': '#c18401',\n    // line-number styles\n    lineNumberTextColor: textColor3\n  };\n};\nconst codeLight = {\n  name: 'Code',\n  common: commonLight,\n  self\n};\nexport default codeLight;","import { c, cB, cE, cM } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-font-size\n// --n-font-family\n// --n-font-weight-strong\n// --n-bezier\n// --n-text-color\n// --n-mono-3\n// --n-hue-1\n// --n-hue-2\n// --n-hue-3\n// --n-hue-4\n// --n-hue-5\n// --n-hue-5-2\n// --n-hue-6\n// --n-hue-6-2\n// --n-line-number-color\n// --n-line-number-text-color\nexport default c([cB('code', `\n font-size: var(--n-font-size);\n font-family: var(--n-font-family);\n `, [cM('show-line-numbers', `\n display: flex;\n `), cE('line-numbers', `\n user-select: none;\n padding-right: 12px;\n text-align: right;\n transition: color .3s var(--n-bezier);\n color: var(--n-line-number-text-color);\n `), cM('word-wrap', [c('pre', `\n white-space: pre-wrap;\n word-break: break-all;\n `)]), c('pre', `\n margin: 0;\n line-height: inherit;\n font-size: inherit;\n font-family: inherit;\n `), c('[class^=hljs]', `\n color: var(--n-text-color);\n transition: \n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n `)]), ({\n  props\n}) => {\n  // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n  const codeClass = `${props.bPrefix}code`;\n  return [`${codeClass} .hljs-comment,\n ${codeClass} .hljs-quote {\n color: var(--n-mono-3);\n font-style: italic;\n }`, `${codeClass} .hljs-doctag,\n ${codeClass} .hljs-keyword,\n ${codeClass} .hljs-formula {\n color: var(--n-hue-3);\n }`, `${codeClass} .hljs-section,\n ${codeClass} .hljs-name,\n ${codeClass} .hljs-selector-tag,\n ${codeClass} .hljs-deletion,\n ${codeClass} .hljs-subst {\n color: var(--n-hue-5);\n }`, `${codeClass} .hljs-literal {\n color: var(--n-hue-1);\n }`, `${codeClass} .hljs-string,\n ${codeClass} .hljs-regexp,\n ${codeClass} .hljs-addition,\n ${codeClass} .hljs-attribute,\n ${codeClass} .hljs-meta-string {\n color: var(--n-hue-4);\n }`, `${codeClass} .hljs-built_in,\n ${codeClass} .hljs-class .hljs-title {\n color: var(--n-hue-6-2);\n }`, `${codeClass} .hljs-attr,\n ${codeClass} .hljs-variable,\n ${codeClass} .hljs-template-variable,\n ${codeClass} .hljs-type,\n ${codeClass} .hljs-selector-class,\n ${codeClass} .hljs-selector-attr,\n ${codeClass} .hljs-selector-pseudo,\n ${codeClass} .hljs-number {\n color: var(--n-hue-6);\n }`, `${codeClass} .hljs-symbol,\n ${codeClass} .hljs-bullet,\n ${codeClass} .hljs-link,\n ${codeClass} .hljs-meta,\n ${codeClass} .hljs-selector-id,\n ${codeClass} .hljs-title {\n color: var(--n-hue-2);\n }`, `${codeClass} .hljs-emphasis {\n font-style: italic;\n }`, `${codeClass} .hljs-strong {\n font-weight: var(--n-font-weight-strong);\n }`, `${codeClass} .hljs-link {\n text-decoration: underline;\n }`];\n}]);","import { defineComponent, h, toRef, watch, onMounted, ref, computed } from 'vue';\nimport { useTheme, useHljs, useConfig, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { codeLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const codeProps = Object.assign(Object.assign({}, useTheme.props), {\n  language: String,\n  code: {\n    type: String,\n    default: ''\n  },\n  trim: {\n    type: Boolean,\n    default: true\n  },\n  hljs: Object,\n  uri: Boolean,\n  inline: Boolean,\n  wordWrap: Boolean,\n  showLineNumbers: Boolean,\n  // In n-log, we only need to mount code's style for highlight\n  internalFontSize: Number,\n  internalNoHighlight: Boolean\n});\nexport default defineComponent({\n  name: 'Code',\n  props: codeProps,\n  setup(props, {\n    slots\n  }) {\n    const {\n      internalNoHighlight\n    } = props;\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled\n    } = useConfig();\n    const codeRef = ref(null);\n    const hljsRef = internalNoHighlight ? {\n      value: undefined\n    } : useHljs(props);\n    const createCodeHtml = (language, code, trim) => {\n      const {\n        value: hljs\n      } = hljsRef;\n      if (!hljs) {\n        return null;\n      }\n      if (!(language && hljs.getLanguage(language))) {\n        return null;\n      }\n      return hljs.highlight(trim ? code.trim() : code, {\n        language\n      }).value;\n    };\n    const mergedShowLineNumbersRef = computed(() => {\n      if (props.inline || props.wordWrap) return false;\n      return props.showLineNumbers;\n    });\n    const setCode = () => {\n      if (slots.default) return;\n      const {\n        value: codeEl\n      } = codeRef;\n      if (!codeEl) return;\n      const {\n        language\n      } = props;\n      const code = props.uri ? window.decodeURIComponent(props.code) : props.code;\n      if (language) {\n        const html = createCodeHtml(language, code, props.trim);\n        if (html !== null) {\n          if (props.inline) {\n            codeEl.innerHTML = html;\n          } else {\n            const prevPreEl = codeEl.querySelector('.__code__');\n            if (prevPreEl) codeEl.removeChild(prevPreEl);\n            const preEl = document.createElement('pre');\n            preEl.className = '__code__';\n            preEl.innerHTML = html;\n            codeEl.appendChild(preEl);\n          }\n          return;\n        }\n      }\n      if (props.inline) {\n        codeEl.textContent = code;\n        return;\n      }\n      const maybePreEl = codeEl.querySelector('.__code__');\n      if (maybePreEl) {\n        maybePreEl.textContent = code;\n      } else {\n        const wrap = document.createElement('pre');\n        wrap.className = '__code__';\n        wrap.textContent = code;\n        codeEl.innerHTML = '';\n        codeEl.appendChild(wrap);\n      }\n    };\n    onMounted(setCode);\n    watch(toRef(props, 'language'), setCode);\n    watch(toRef(props, 'code'), setCode);\n    if (!internalNoHighlight) watch(hljsRef, setCode);\n    const themeRef = useTheme('Code', '-code', style, codeLight, props, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        common: {\n          cubicBezierEaseInOut,\n          fontFamilyMono\n        },\n        self: {\n          textColor,\n          fontSize,\n          fontWeightStrong,\n          lineNumberTextColor,\n          // extracted from hljs atom-one-light.scss\n          'mono-3': $1,\n          'hue-1': $2,\n          'hue-2': $3,\n          'hue-3': $4,\n          'hue-4': $5,\n          'hue-5': $6,\n          'hue-5-2': $7,\n          'hue-6': $8,\n          'hue-6-2': $9\n        }\n      } = themeRef.value;\n      const {\n        internalFontSize\n      } = props;\n      return {\n        '--n-font-size': internalFontSize ? `${internalFontSize}px` : fontSize,\n        '--n-font-family': fontFamilyMono,\n        '--n-font-weight-strong': fontWeightStrong,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-text-color': textColor,\n        '--n-mono-3': $1,\n        '--n-hue-1': $2,\n        '--n-hue-2': $3,\n        '--n-hue-3': $4,\n        '--n-hue-4': $5,\n        '--n-hue-5': $6,\n        '--n-hue-5-2': $7,\n        '--n-hue-6': $8,\n        '--n-hue-6-2': $9,\n        '--n-line-number-text-color': lineNumberTextColor\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('code', computed(() => {\n      return `${props.internalFontSize || 'a'}`;\n    }), cssVarsRef, props) : undefined;\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      codeRef,\n      mergedShowLineNumbers: mergedShowLineNumbersRef,\n      lineNumbers: computed(() => {\n        let number = 1;\n        const numbers = [];\n        let lastIsLineWrap = false;\n        for (const char of props.code) {\n          if (char === '\\n') {\n            lastIsLineWrap = true;\n            numbers.push(number++);\n          } else {\n            lastIsLineWrap = false;\n          }\n        }\n        if (!lastIsLineWrap) {\n          numbers.push(number++);\n        }\n        return numbers.join('\\n');\n      }),\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    var _a, _b;\n    const {\n      mergedClsPrefix,\n      wordWrap,\n      mergedShowLineNumbers,\n      onRender\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"code\", {\n      class: [`${mergedClsPrefix}-code`, this.themeClass, wordWrap && `${mergedClsPrefix}-code--word-wrap`, mergedShowLineNumbers && `${mergedClsPrefix}-code--show-line-numbers`],\n      style: this.cssVars,\n      ref: \"codeRef\"\n    }, mergedShowLineNumbers ? h(\"pre\", {\n      class: `${mergedClsPrefix}-code__line-numbers`\n    }, this.lineNumbers) : null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a));\n  }\n});"],"names":["useHljs","props","shouldHighlightRef","NConfigProvider","inject","configProviderInjectionKey","computed","self","vars","textColor2","fontSize","fontWeightStrong","textColor3","codeLight","commonLight","codeLight$1","style","c","cB","cM","cE","codeClass","codeProps","useTheme","NCode","defineComponent","slots","internalNoHighlight","mergedClsPrefixRef","inlineThemeDisabled","useConfig","codeRef","ref","hljsRef","createCodeHtml","language","code","trim","hljs","mergedShowLineNumbersRef","setCode","codeEl","html","prevPreEl","preEl","maybePreEl","wrap","onMounted","watch","toRef","themeRef","cssVarsRef","cubicBezierEaseInOut","fontFamilyMono","textColor","lineNumberTextColor","$1","$2","$3","$4","$5","$6","$7","$8","$9","internalFontSize","themeClassHandle","useThemeClass","number","numbers","lastIsLineWrap","char","_a","_b","mergedClsPrefix","wordWrap","mergedShowLineNumbers","onRender","h"],"mappings":"6LAGe,SAASA,EAAQC,EAAOC,EAAoB,CACzD,MAAMC,EAAkBC,EAAOC,EAA4B,IAAI,EAiB/D,OAAOC,EAAS,IACPL,EAAM,MAA2EE,GAAgB,cAAc,KACvH,CACH,CCvBA,MAAMI,EAAOC,GAAQ,CACnB,KAAM,CACJ,WAAAC,EACA,SAAAC,EACA,iBAAAC,EACA,WAAAC,CACD,EAAGJ,EACJ,MAAO,CACL,UAAWC,EACX,SAAAC,EACA,iBAAAC,EAEA,SAAU,UACV,QAAS,UACT,QAAS,UACT,QAAS,UACT,QAAS,UACT,QAAS,UACT,UAAW,UACX,QAAS,UACT,UAAW,UAEX,oBAAqBC,CACzB,CACA,EACMC,EAAY,CAChB,KAAM,OACN,OAAQC,EACR,KAAAP,CACF,EACAQ,EAAeF,ECbfG,EAAeC,EAAE,CAACC,EAAG,OAAQ;AAAA;AAAA;AAAA,GAGzB,CAACC,EAAG,oBAAqB;AAAA;AAAA,EAE3B,EAAGC,EAAG,eAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMtB,EAAGD,EAAG,YAAa,CAACF,EAAE,MAAO;AAAA;AAAA;AAAA,EAG7B,CAAC,CAAC,EAAGA,EAAE,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAKd,EAAGA,EAAE,gBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKtB,CAAC,CAAC,EAAG,CAAC,CACN,MAAAhB,CACF,IAAM,CAEJ,MAAMoB,EAAY,GAAGpB,EAAM,OAAO,OAClC,MAAO,CAAC,GAAGoB,CAAS;AAAA,GACnBA,CAAS;AAAA;AAAA;AAAA,IAGP,GAAGA,CAAS;AAAA,GACdA,CAAS;AAAA,GACTA,CAAS;AAAA;AAAA,IAEP,GAAGA,CAAS;AAAA,GACdA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA;AAAA,IAEP,GAAGA,CAAS;AAAA;AAAA,IAEZ,GAAGA,CAAS;AAAA,GACdA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA;AAAA,IAEP,GAAGA,CAAS;AAAA,GACdA,CAAS;AAAA;AAAA,IAEP,GAAGA,CAAS;AAAA,GACdA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA;AAAA,IAEP,GAAGA,CAAS;AAAA,GACdA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA,GACTA,CAAS;AAAA;AAAA,IAEP,GAAGA,CAAS;AAAA;AAAA,IAEZ,GAAGA,CAAS;AAAA;AAAA,IAEZ,GAAGA,CAAS;AAAA;AAAA,GAEd,CACH,CAAC,CAAC,EC3FWC,EAAY,OAAO,OAAO,OAAO,OAAO,GAAIC,EAAS,KAAK,EAAG,CACxE,SAAU,OACV,KAAM,CACJ,KAAM,OACN,QAAS,EACV,EACD,KAAM,CACJ,KAAM,QACN,QAAS,EACV,EACD,KAAM,OACN,IAAK,QACL,OAAQ,QACR,SAAU,QACV,gBAAiB,QAEjB,iBAAkB,OAClB,oBAAqB,OACvB,CAAC,EACDC,GAAeC,EAAgB,CAC7B,KAAM,OACN,MAAOH,EACP,MAAMrB,EAAO,CACX,MAAAyB,CACJ,EAAK,CACD,KAAM,CACJ,oBAAAC,CACD,EAAG1B,EACE,CACJ,mBAAA2B,EACA,oBAAAC,CACD,EAAGC,EAAS,EACPC,EAAUC,EAAI,IAAI,EAClBC,EAAUN,EAAsB,CACpC,MAAO,MACb,EAAQ3B,EAAQC,CAAK,EACXiC,EAAiB,CAACC,EAAUC,EAAMC,IAAS,CAC/C,KAAM,CACJ,MAAOC,CACR,EAAGL,EAIJ,MAHI,CAACK,GAGD,EAAEH,GAAYG,EAAK,YAAYH,CAAQ,GAClC,KAEFG,EAAK,UAAUD,EAAOD,EAAK,KAAM,EAAGA,EAAM,CAC/C,SAAAD,CACD,CAAA,EAAE,KACT,EACUI,EAA2BjC,EAAS,IACpCL,EAAM,QAAUA,EAAM,SAAiB,GACpCA,EAAM,eACd,EACKuC,EAAU,IAAM,CACpB,GAAId,EAAM,QAAS,OACnB,KAAM,CACJ,MAAOe,CACR,EAAGV,EACJ,GAAI,CAACU,EAAQ,OACb,KAAM,CACJ,SAAAN,CACD,EAAGlC,EACEmC,EAAOnC,EAAM,IAAM,OAAO,mBAAmBA,EAAM,IAAI,EAAIA,EAAM,KACvE,GAAIkC,EAAU,CACZ,MAAMO,EAAOR,EAAeC,EAAUC,EAAMnC,EAAM,IAAI,EACtD,GAAIyC,IAAS,KAAM,CACjB,GAAIzC,EAAM,OACRwC,EAAO,UAAYC,MACd,CACL,MAAMC,EAAYF,EAAO,cAAc,WAAW,EAC9CE,GAAWF,EAAO,YAAYE,CAAS,EAC3C,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAY,WAClBA,EAAM,UAAYF,EAClBD,EAAO,YAAYG,CAAK,CACzB,CACD,MACD,CACF,CACD,GAAI3C,EAAM,OAAQ,CAChBwC,EAAO,YAAcL,EACrB,MACD,CACD,MAAMS,EAAaJ,EAAO,cAAc,WAAW,EACnD,GAAII,EACFA,EAAW,YAAcT,MACpB,CACL,MAAMU,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,WACjBA,EAAK,YAAcV,EACnBK,EAAO,UAAY,GACnBA,EAAO,YAAYK,CAAI,CACxB,CACP,EACIC,EAAUP,CAAO,EACjBQ,EAAMC,EAAMhD,EAAO,UAAU,EAAGuC,CAAO,EACvCQ,EAAMC,EAAMhD,EAAO,MAAM,EAAGuC,CAAO,EAC9Bb,GAAqBqB,EAAMf,EAASO,CAAO,EAChD,MAAMU,EAAW3B,EAAS,OAAQ,QAASP,EAAOH,EAAWZ,EAAO2B,CAAkB,EAChFuB,EAAa7C,EAAS,IAAM,CAChC,KAAM,CACJ,OAAQ,CACN,qBAAA8C,EACA,eAAAC,CACD,EACD,KAAM,CACJ,UAAAC,EACA,SAAA5C,EACA,iBAAAC,EACA,oBAAA4C,EAEA,SAAUC,EACV,QAASC,EACT,QAASC,EACT,QAASC,EACT,QAASC,EACT,QAASC,EACT,UAAWC,EACX,QAASC,EACT,UAAWC,CACZ,CACT,EAAUd,EAAS,MACP,CACJ,iBAAAe,CACD,EAAGhE,EACJ,MAAO,CACL,gBAAiBgE,EAAmB,GAAGA,CAAgB,KAAOvD,EAC9D,kBAAmB2C,EACnB,yBAA0B1C,EAC1B,aAAcyC,EACd,iBAAkBE,EAClB,aAAcE,EACd,YAAaC,EACb,YAAaC,EACb,YAAaC,EACb,YAAaC,EACb,YAAaC,EACb,cAAeC,EACf,YAAaC,EACb,cAAeC,EACf,6BAA8BT,CACtC,CACA,CAAK,EACKW,EAAmBrC,EAAsBsC,EAAc,OAAQ7D,EAAS,IACrE,GAAGL,EAAM,kBAAoB,GAAG,EACxC,EAAGkD,EAAYlD,CAAK,EAAI,OACzB,MAAO,CACL,gBAAiB2B,EACjB,QAAAG,EACA,sBAAuBQ,EACvB,YAAajC,EAAS,IAAM,CAC1B,IAAI8D,EAAS,EACb,MAAMC,EAAU,CAAA,EAChB,IAAIC,EAAiB,GACrB,UAAWC,KAAQtE,EAAM,KACnBsE,IAAS;AAAA,GACXD,EAAiB,GACjBD,EAAQ,KAAKD,GAAQ,GAErBE,EAAiB,GAGrB,OAAKA,GACHD,EAAQ,KAAKD,GAAQ,EAEhBC,EAAQ,KAAK;AAAA,CAAI,CAChC,CAAO,EACD,QAASxC,EAAsB,OAAYsB,EAC3C,WAAgFe,GAAiB,WACjG,SAA8EA,GAAiB,QACrG,CACG,EACD,QAAS,CACP,IAAIM,EAAIC,EACR,KAAM,CACJ,gBAAAC,EACA,SAAAC,EACA,sBAAAC,EACA,SAAAC,CACD,EAAG,KACJ,OAAoDA,MAC7CC,EAAE,OAAQ,CACf,MAAO,CAAC,GAAGJ,CAAe,QAAS,KAAK,WAAYC,GAAY,GAAGD,CAAe,mBAAoBE,GAAyB,GAAGF,CAAe,0BAA0B,EAC3K,MAAO,KAAK,QACZ,IAAK,SACX,EAAOE,EAAwBE,EAAE,MAAO,CAClC,MAAO,GAAGJ,CAAe,qBAC/B,EAAO,KAAK,WAAW,EAAI,MAAOD,GAAMD,EAAK,KAAK,QAAQ,WAAa,MAAQC,IAAO,OAAS,OAASA,EAAG,KAAKD,CAAE,CAAC,CAChH,CACH,CAAC","x_google_ignoreList":[0,1,2,3]}