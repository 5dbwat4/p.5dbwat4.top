{"version":3,"file":"Popover-c2999df7.js","sources":["../../node_modules/naive-ui/es/_utils/env/is-jsdom.js","../../node_modules/naive-ui/es/_internal/select-menu/src/interface.js","../../node_modules/naive-ui/es/_utils/composable/use-adjusted-to.js","../../node_modules/vueuc/es/binder/src/utils.js","../../node_modules/vueuc/es/binder/src/Binder.js","../../node_modules/vueuc/es/binder/src/Target.js","../../node_modules/vdirs/es/mousemoveoutside.js","../../node_modules/vueuc/es/binder/src/get-placement-style.js","../../node_modules/vueuc/es/binder/src/Follower.js","../../node_modules/lodash-es/_baseIsMatch.js","../../node_modules/lodash-es/_isStrictComparable.js","../../node_modules/lodash-es/_getMatchData.js","../../node_modules/lodash-es/_matchesStrictComparable.js","../../node_modules/lodash-es/_baseMatches.js","../../node_modules/lodash-es/_baseHasIn.js","../../node_modules/lodash-es/_hasPath.js","../../node_modules/lodash-es/hasIn.js","../../node_modules/lodash-es/_baseMatchesProperty.js","../../node_modules/lodash-es/_baseProperty.js","../../node_modules/lodash-es/_basePropertyDeep.js","../../node_modules/lodash-es/property.js","../../node_modules/lodash-es/_baseIteratee.js","../../node_modules/lodash-es/_baseForOwn.js","../../node_modules/lodash-es/_createBaseEach.js","../../node_modules/lodash-es/_baseEach.js","../../node_modules/lodash-es/_baseMap.js","../../node_modules/lodash-es/map.js","../../node_modules/naive-ui/es/popover/styles/_common.js","../../node_modules/naive-ui/es/popover/styles/light.js","../../node_modules/naive-ui/es/popover/src/styles/index.cssr.js","../../node_modules/naive-ui/es/popover/src/PopoverBody.js","../../node_modules/naive-ui/es/popover/src/Popover.js"],"sourcesContent":["let _isJsdom;\nexport function isJsdom() {\n    if (_isJsdom === undefined) {\n        _isJsdom =\n            navigator.userAgent.includes('Node.js') ||\n                navigator.userAgent.includes('jsdom');\n    }\n    return _isJsdom;\n}\n","import { createInjectionKey } from '../../../_utils/vue/create-injection-key';\nexport const internalSelectionMenuInjectionKey = createInjectionKey('n-internal-select-menu');\nexport const internalSelectionMenuBodyInjectionKey = createInjectionKey('n-internal-select-menu-body');\n","import { useMemo } from 'vooks';\nimport { on, off } from 'evtd';\nimport { inject, onBeforeUnmount, onMounted, ref } from 'vue';\nimport { internalSelectionMenuBodyInjectionKey } from '../../_internal/select-menu/src/interface';\nimport { modalBodyInjectionKey } from '../../modal/src/interface';\nimport { drawerBodyInjectionKey } from '../../drawer/src/interface';\nimport { popoverBodyInjectionKey } from '../../popover/src/interface';\nconst teleportDisabled = '__disabled__';\nfunction useAdjustedTo(props) {\n    const modal = inject(modalBodyInjectionKey, null);\n    const drawer = inject(drawerBodyInjectionKey, null);\n    const popover = inject(popoverBodyInjectionKey, null);\n    const selectMenu = inject(internalSelectionMenuBodyInjectionKey, null);\n    const fullscreenElementRef = ref();\n    if (typeof document !== 'undefined') {\n        fullscreenElementRef.value = document.fullscreenElement;\n        const handleFullscreenChange = () => {\n            fullscreenElementRef.value = document.fullscreenElement;\n        };\n        onMounted(() => {\n            on('fullscreenchange', document, handleFullscreenChange);\n        });\n        onBeforeUnmount(() => {\n            off('fullscreenchange', document, handleFullscreenChange);\n        });\n    }\n    return useMemo(() => {\n        var _a;\n        const { to } = props;\n        if (to !== undefined) {\n            if (to === false)\n                return teleportDisabled;\n            if (to === true)\n                return fullscreenElementRef.value || 'body';\n            return to;\n        }\n        if (modal === null || modal === void 0 ? void 0 : modal.value) {\n            return (_a = modal.value.$el) !== null && _a !== void 0 ? _a : modal.value;\n        }\n        if (drawer === null || drawer === void 0 ? void 0 : drawer.value)\n            return drawer.value;\n        if (popover === null || popover === void 0 ? void 0 : popover.value)\n            return popover.value;\n        if (selectMenu === null || selectMenu === void 0 ? void 0 : selectMenu.value)\n            return selectMenu.value;\n        return to !== null && to !== void 0 ? to : (fullscreenElementRef.value || 'body');\n    });\n}\n// teleport disabled key\nuseAdjustedTo.tdkey = teleportDisabled;\nuseAdjustedTo.propTo = {\n    type: [String, Object, Boolean],\n    default: undefined\n};\nexport { useAdjustedTo };\n","let viewMeasurer = null;\nexport function ensureViewBoundingRect() {\n    if (viewMeasurer === null) {\n        viewMeasurer = document.getElementById('v-binder-view-measurer');\n        if (viewMeasurer === null) {\n            viewMeasurer = document.createElement('div');\n            viewMeasurer.id = 'v-binder-view-measurer';\n            const { style } = viewMeasurer;\n            style.position = 'fixed';\n            style.left = '0';\n            style.right = '0';\n            style.top = '0';\n            style.bottom = '0';\n            style.pointerEvents = 'none';\n            style.visibility = 'hidden';\n            document.body.appendChild(viewMeasurer);\n        }\n    }\n    return viewMeasurer.getBoundingClientRect();\n}\nexport function getPointRect(x, y) {\n    const viewRect = ensureViewBoundingRect();\n    return {\n        top: y,\n        left: x,\n        height: 0,\n        width: 0,\n        right: viewRect.width - x,\n        bottom: viewRect.height - y\n    };\n}\nexport function getRect(el) {\n    const elRect = el.getBoundingClientRect();\n    const viewRect = ensureViewBoundingRect();\n    return {\n        left: elRect.left - viewRect.left,\n        top: elRect.top - viewRect.top,\n        bottom: viewRect.height + viewRect.top - elRect.bottom,\n        right: viewRect.width + viewRect.left - elRect.right,\n        width: elRect.width,\n        height: elRect.height\n    };\n}\nexport function getParentNode(node) {\n    // document type\n    if (node.nodeType === 9) {\n        return null;\n    }\n    return node.parentNode;\n}\nexport function getScrollParent(node) {\n    if (node === null)\n        return null;\n    const parentNode = getParentNode(node);\n    if (parentNode === null) {\n        return null;\n    }\n    // Document\n    if (parentNode.nodeType === 9) {\n        return document;\n    }\n    // Element\n    if (parentNode.nodeType === 1) {\n        // Firefox want us to check `-x` and `-y` variations as well\n        const { overflow, overflowX, overflowY } = getComputedStyle(parentNode);\n        if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n            return parentNode;\n        }\n    }\n    return getScrollParent(parentNode);\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { defineComponent, provide, ref, inject, getCurrentInstance, onBeforeUnmount } from 'vue';\nimport { beforeNextFrameOnce } from 'seemly';\nimport { on, off } from 'evtd';\nimport { getSlot } from '../../shared/v-node';\nimport { getScrollParent } from './utils';\nconst Binder = defineComponent({\n    name: 'Binder',\n    props: {\n        syncTargetWithParent: Boolean,\n        syncTarget: {\n            type: Boolean,\n            default: true\n        }\n    },\n    setup(props) {\n        var _a;\n        provide('VBinder', (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy);\n        const VBinder = inject('VBinder', null);\n        const targetRef = ref(null);\n        /**\n         * If there's no nested vbinder, we can simply set the target ref.\n         *\n         * However, when it comes to:\n         * <VBinder> <- syncTarget = false\n         *\n         *              Should hold target DOM ref, but can't get it directly from\n         *              its VTarget. So if there are nested VBinder, we should:\n         *              1. Stop setting target DOM from level-1 VTarget\n         *              2. Set target DOM from level-2 VTarget\n         *              For (1), we need `syncTarget` to `false`\n         *              For (2), we need to set `syncTargetWithParent` to `true` on\n         *              level-2 VBinder\n         *   <VTarget>\n         *     <VBinder> <- syncTargetWithParent = true\n         *       <VTarget>target</VTarget>\n         *     </VBinder>\n         *     <VFollower>\n         *       content1\n         *     </VFollower>\n         *   </VTarget>\n         *   <VFollower>\n         *     content2\n         *   </VFollower>\n         * </VBinder>\n         */\n        const setTargetRef = (el) => {\n            targetRef.value = el;\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            if (VBinder && props.syncTargetWithParent) {\n                VBinder.setTargetRef(el);\n            }\n        };\n        // scroll related\n        let scrollableNodes = [];\n        const ensureScrollListener = () => {\n            let cursor = targetRef.value;\n            while (true) {\n                cursor = getScrollParent(cursor);\n                if (cursor === null)\n                    break;\n                scrollableNodes.push(cursor);\n            }\n            for (const el of scrollableNodes) {\n                on('scroll', el, onScroll, true);\n            }\n        };\n        const removeScrollListeners = () => {\n            for (const el of scrollableNodes) {\n                off('scroll', el, onScroll, true);\n            }\n            scrollableNodes = [];\n        };\n        const followerScrollListeners = new Set();\n        const addScrollListener = (listener) => {\n            if (followerScrollListeners.size === 0) {\n                ensureScrollListener();\n            }\n            if (!followerScrollListeners.has(listener)) {\n                followerScrollListeners.add(listener);\n            }\n        };\n        const removeScrollListener = (listener) => {\n            if (followerScrollListeners.has(listener)) {\n                followerScrollListeners.delete(listener);\n            }\n            if (followerScrollListeners.size === 0) {\n                removeScrollListeners();\n            }\n        };\n        const onScroll = () => {\n            beforeNextFrameOnce(onScrollRaf);\n        };\n        const onScrollRaf = () => {\n            followerScrollListeners.forEach((listener) => listener());\n        };\n        // resize related\n        const followerResizeListeners = new Set();\n        const addResizeListener = (listener) => {\n            if (followerResizeListeners.size === 0) {\n                on('resize', window, onResize);\n            }\n            if (!followerResizeListeners.has(listener)) {\n                followerResizeListeners.add(listener);\n            }\n        };\n        const removeResizeListener = (listener) => {\n            if (followerResizeListeners.has(listener)) {\n                followerResizeListeners.delete(listener);\n            }\n            if (followerResizeListeners.size === 0) {\n                off('resize', window, onResize);\n            }\n        };\n        const onResize = () => {\n            followerResizeListeners.forEach((listener) => listener());\n        };\n        onBeforeUnmount(() => {\n            off('resize', window, onResize);\n            removeScrollListeners();\n        });\n        return {\n            targetRef,\n            setTargetRef,\n            addScrollListener,\n            removeScrollListener,\n            addResizeListener,\n            removeResizeListener\n        };\n    },\n    render() {\n        return getSlot('binder', this.$slots);\n    }\n});\nexport default Binder;\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { defineComponent, inject, withDirectives } from 'vue';\nimport { getFirstVNode } from '../../shared/v-node';\nexport default defineComponent({\n    name: 'Target',\n    setup() {\n        const { setTargetRef, syncTarget } = inject('VBinder');\n        const setTargetDirective = {\n            mounted: setTargetRef,\n            updated: setTargetRef\n        };\n        return {\n            syncTarget,\n            setTargetDirective\n        };\n    },\n    render() {\n        const { syncTarget, setTargetDirective } = this;\n        /**\n         * If you are using VBinder as a child of VBinder, the children wouldn't be\n         * a valid DOM or component that can be attached to by directive.\n         * So we won't sync target on those kind of situation and control the\n         * target sync logic manually.\n         */\n        if (syncTarget) {\n            return withDirectives(getFirstVNode('follower', this.$slots), [\n                [setTargetDirective]\n            ]);\n        }\n        return getFirstVNode('follower', this.$slots);\n    }\n});\n","import { on, off } from 'evtd';\nconst ctxKey = '@@mmoContext';\nconst mousemoveoutside = {\n    mounted(el, { value }) {\n        el[ctxKey] = {\n            handler: undefined\n        };\n        if (typeof value === 'function') {\n            el[ctxKey].handler = value;\n            on('mousemoveoutside', el, value);\n        }\n    },\n    updated(el, { value }) {\n        const ctx = el[ctxKey];\n        if (typeof value === 'function') {\n            if (ctx.handler) {\n                if (ctx.handler !== value) {\n                    off('mousemoveoutside', el, ctx.handler);\n                    ctx.handler = value;\n                    on('mousemoveoutside', el, value);\n                }\n            }\n            else {\n                el[ctxKey].handler = value;\n                on('mousemoveoutside', el, value);\n            }\n        }\n        else {\n            if (ctx.handler) {\n                off('mousemoveoutside', el, ctx.handler);\n                ctx.handler = undefined;\n            }\n        }\n    },\n    unmounted(el) {\n        const { handler } = el[ctxKey];\n        if (handler) {\n            off('mousemoveoutside', el, handler);\n        }\n        el[ctxKey].handler = undefined;\n    }\n};\nexport default mousemoveoutside;\n","const oppositionPositions = {\n    top: 'bottom',\n    bottom: 'top',\n    left: 'right',\n    right: 'left'\n};\nconst oppositeAligns = {\n    start: 'end',\n    center: 'center',\n    end: 'start'\n};\nconst propToCompare = {\n    top: 'height',\n    bottom: 'height',\n    left: 'width',\n    right: 'width'\n};\nconst transformOrigins = {\n    'bottom-start': 'top left',\n    bottom: 'top center',\n    'bottom-end': 'top right',\n    'top-start': 'bottom left',\n    top: 'bottom center',\n    'top-end': 'bottom right',\n    'right-start': 'top left',\n    right: 'center left',\n    'right-end': 'bottom left',\n    'left-start': 'top right',\n    left: 'center right',\n    'left-end': 'bottom right'\n};\nconst overlapTransformOrigin = {\n    'bottom-start': 'bottom left',\n    bottom: 'bottom center',\n    'bottom-end': 'bottom right',\n    'top-start': 'top left',\n    top: 'top center',\n    'top-end': 'top right',\n    'right-start': 'top right',\n    right: 'center right',\n    'right-end': 'bottom right',\n    'left-start': 'top left',\n    left: 'center left',\n    'left-end': 'bottom left'\n};\nconst oppositeAlignCssPositionProps = {\n    'bottom-start': 'right',\n    'bottom-end': 'left',\n    'top-start': 'right',\n    'top-end': 'left',\n    'right-start': 'bottom',\n    'right-end': 'top',\n    'left-start': 'bottom',\n    'left-end': 'top'\n};\nconst keepOffsetDirection = {\n    top: true,\n    bottom: false,\n    left: true,\n    right: false // left--\n};\nconst cssPositionToOppositeAlign = {\n    top: 'end',\n    bottom: 'start',\n    left: 'end',\n    right: 'start'\n};\nexport function getPlacementAndOffsetOfFollower(placement, targetRect, followerRect, shift, flip, overlap) {\n    if (!flip || overlap) {\n        return { placement: placement, top: 0, left: 0 };\n    }\n    const [position, align] = placement.split('-');\n    let properAlign = align !== null && align !== void 0 ? align : 'center';\n    let properOffset = {\n        top: 0,\n        left: 0\n    };\n    const deriveOffset = (oppositeAlignCssSizeProp, alignCssPositionProp, offsetVertically) => {\n        let left = 0;\n        let top = 0;\n        const diff = followerRect[oppositeAlignCssSizeProp] -\n            targetRect[alignCssPositionProp] -\n            targetRect[oppositeAlignCssSizeProp];\n        if (diff > 0 && shift) {\n            if (offsetVertically) {\n                //       screen border\n                // |-----------------------------------------|\n                // |                    | f  |               |\n                // |                    | o  |               |\n                // |                    | l  |               |\n                // |                    | l  |----           |\n                // |                    | o  |tar |          |\n                // |                    | w  |get |          |\n                // |                    | e  |    |          |\n                // |                    | r  |----           |\n                // |                     ----                |\n                // |-----------------------------------------|\n                top = keepOffsetDirection[alignCssPositionProp] ? diff : -diff;\n            }\n            else {\n                //       screen border\n                // |----------------------------------------|\n                // |                                        |\n                // |          ----------                    |\n                // |          | target |                    |\n                // |       ----------------------------------\n                // |       |       follower                 |\n                // |       ----------------------------------\n                // |                                        |\n                // |----------------------------------------|\n                left = keepOffsetDirection[alignCssPositionProp] ? diff : -diff;\n            }\n        }\n        return {\n            left,\n            top\n        };\n    };\n    const offsetVertically = position === 'left' || position === 'right';\n    // choose proper placement for non-center align\n    if (properAlign !== 'center') {\n        const oppositeAlignCssPositionProp = oppositeAlignCssPositionProps[placement];\n        const currentAlignCssPositionProp = oppositionPositions[oppositeAlignCssPositionProp];\n        const oppositeAlignCssSizeProp = propToCompare[oppositeAlignCssPositionProp];\n        // if follower rect is larger than target rect in align direction\n        // ----------[ target ]---------|\n        // ----------[     follower     ]\n        if (followerRect[oppositeAlignCssSizeProp] >\n            targetRect[oppositeAlignCssSizeProp]) {\n            if (\n            // current space is not enough\n            // ----------[ target ]---------|\n            // -------[     follower        ]\n            targetRect[oppositeAlignCssPositionProp] +\n                targetRect[oppositeAlignCssSizeProp] <\n                followerRect[oppositeAlignCssSizeProp]) {\n                const followerOverTargetSize = (followerRect[oppositeAlignCssSizeProp] -\n                    targetRect[oppositeAlignCssSizeProp]) /\n                    2;\n                if (targetRect[oppositeAlignCssPositionProp] < followerOverTargetSize ||\n                    targetRect[currentAlignCssPositionProp] < followerOverTargetSize) {\n                    // opposite align has larger space\n                    // -------[ target ]-----------|\n                    // -------[     follower     ]-|\n                    if (targetRect[oppositeAlignCssPositionProp] <\n                        targetRect[currentAlignCssPositionProp]) {\n                        properAlign = oppositeAligns[align];\n                        properOffset = deriveOffset(oppositeAlignCssSizeProp, currentAlignCssPositionProp, offsetVertically);\n                    }\n                    else {\n                        // ----------------[ target ]----|\n                        // --------[   follower     ]----|\n                        properOffset = deriveOffset(oppositeAlignCssSizeProp, oppositeAlignCssPositionProp, offsetVertically);\n                    }\n                }\n                else {\n                    // 'center' align is better\n                    // ------------[ target ]--------|\n                    // -------[       follower    ]--|\n                    properAlign = 'center';\n                }\n            }\n        }\n        else if (followerRect[oppositeAlignCssSizeProp] <\n            targetRect[oppositeAlignCssSizeProp]) {\n            // TODO: maybe center is better\n            if (targetRect[currentAlignCssPositionProp] < 0 &&\n                // opposite align has larger space\n                // ------------[   target   ]\n                // ----------------[follower]\n                targetRect[oppositeAlignCssPositionProp] >\n                    targetRect[currentAlignCssPositionProp]) {\n                properAlign = oppositeAligns[align];\n            }\n        }\n    }\n    else {\n        const possibleAlternativeAlignCssPositionProp1 = position === 'bottom' || position === 'top' ? 'left' : 'top';\n        const possibleAlternativeAlignCssPositionProp2 = oppositionPositions[possibleAlternativeAlignCssPositionProp1];\n        const alternativeAlignCssSizeProp = propToCompare[possibleAlternativeAlignCssPositionProp1];\n        const followerOverTargetSize = (followerRect[alternativeAlignCssSizeProp] -\n            targetRect[alternativeAlignCssSizeProp]) /\n            2;\n        if (\n        // center is not enough\n        // ----------- [ target ]--|\n        // -------[     follower     ]\n        targetRect[possibleAlternativeAlignCssPositionProp1] <\n            followerOverTargetSize ||\n            targetRect[possibleAlternativeAlignCssPositionProp2] <\n                followerOverTargetSize) {\n            // alternative 2 position's space is larger\n            if (targetRect[possibleAlternativeAlignCssPositionProp1] >\n                targetRect[possibleAlternativeAlignCssPositionProp2]) {\n                properAlign =\n                    cssPositionToOppositeAlign[possibleAlternativeAlignCssPositionProp1];\n                properOffset = deriveOffset(alternativeAlignCssSizeProp, possibleAlternativeAlignCssPositionProp1, offsetVertically);\n            }\n            else {\n                // alternative 1 position's space is larger\n                properAlign =\n                    cssPositionToOppositeAlign[possibleAlternativeAlignCssPositionProp2];\n                properOffset = deriveOffset(alternativeAlignCssSizeProp, possibleAlternativeAlignCssPositionProp2, offsetVertically);\n            }\n        }\n    }\n    let properPosition = position;\n    if (\n    // space is not enough\n    targetRect[position] < followerRect[propToCompare[position]] &&\n        // opposite position's space is larger\n        targetRect[position] < targetRect[oppositionPositions[position]]) {\n        properPosition = oppositionPositions[position];\n    }\n    return {\n        placement: properAlign !== 'center'\n            ? `${properPosition}-${properAlign}`\n            : properPosition,\n        left: properOffset.left,\n        top: properOffset.top\n    };\n}\nexport function getProperTransformOrigin(placement, overlap) {\n    if (overlap)\n        return overlapTransformOrigin[placement];\n    return transformOrigins[placement];\n}\n// ------------\n// |  offset  |\n// |          |\n// | [target] |\n// |          |\n// ------------\n// TODO: refactor it to remove dup logic\nexport function getOffset(placement, offsetRect, targetRect, offsetTopToStandardPlacement, offsetLeftToStandardPlacement, overlap) {\n    if (overlap) {\n        switch (placement) {\n            case 'bottom-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-100%)'\n                };\n            case 'bottom-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-100%)'\n                };\n            case 'top-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: ''\n                };\n            case 'top-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%)'\n                };\n            case 'right-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%)'\n                };\n            case 'right-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-100%)'\n                };\n            case 'left-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: ''\n                };\n            case 'left-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-100%)'\n                };\n            case 'top':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                    transform: 'translateX(-50%)'\n                };\n            case 'right':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-50%)'\n                };\n            case 'left':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-50%)'\n                };\n            case 'bottom':\n            default:\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                    transform: 'translateX(-50%) translateY(-100%)'\n                };\n        }\n    }\n    switch (placement) {\n        case 'bottom-start':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: ''\n            };\n        case 'bottom-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%)'\n            };\n        case 'top-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%)'\n            };\n        case 'top-end':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%) translateY(-100%)'\n            };\n        case 'right-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: ''\n            };\n        case 'right-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%)'\n            };\n        case 'left-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%)'\n            };\n        case 'left-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%) translateY(-100%)'\n            };\n        case 'top':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width / 2 +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%) translateX(-50%)'\n            };\n        case 'right':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height / 2 +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-50%)'\n            };\n        case 'left':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height / 2 +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-50%) translateX(-100%)'\n            };\n        case 'bottom':\n        default:\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width / 2 +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-50%)'\n            };\n    }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, inject, nextTick, watch, toRef, ref, onMounted, onBeforeUnmount, withDirectives } from 'vue';\nimport { zindexable } from 'vdirs';\nimport { useMemo, useIsMounted, onFontsReady } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { c, cssrAnchorMetaName } from '../../shared';\nimport LazyTeleport from '../../lazy-teleport/src/index';\nimport { getPlacementAndOffsetOfFollower, getProperTransformOrigin, getOffset } from './get-placement-style';\nimport { getPointRect, getRect } from './utils';\nconst style = c([\n    c('.v-binder-follower-container', {\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        top: '0',\n        height: '0',\n        pointerEvents: 'none',\n        zIndex: 'auto'\n    }),\n    c('.v-binder-follower-content', {\n        position: 'absolute',\n        zIndex: 'auto'\n    }, [\n        c('> *', {\n            pointerEvents: 'all'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'Follower',\n    inheritAttrs: false,\n    props: {\n        show: Boolean,\n        enabled: {\n            type: Boolean,\n            default: undefined\n        },\n        placement: {\n            type: String,\n            default: 'bottom'\n        },\n        syncTrigger: {\n            type: Array,\n            default: ['resize', 'scroll']\n        },\n        to: [String, Object],\n        flip: {\n            type: Boolean,\n            default: true\n        },\n        internalShift: Boolean,\n        x: Number,\n        y: Number,\n        width: String,\n        minWidth: String,\n        containerClass: String,\n        teleportDisabled: Boolean,\n        zindexable: {\n            type: Boolean,\n            default: true\n        },\n        zIndex: Number,\n        overlap: Boolean\n    },\n    setup(props) {\n        const VBinder = inject('VBinder');\n        const mergedEnabledRef = useMemo(() => {\n            return props.enabled !== undefined ? props.enabled : props.show;\n        });\n        const followerRef = ref(null);\n        const offsetContainerRef = ref(null);\n        const ensureListeners = () => {\n            const { syncTrigger } = props;\n            if (syncTrigger.includes('scroll')) {\n                VBinder.addScrollListener(syncPosition);\n            }\n            if (syncTrigger.includes('resize')) {\n                VBinder.addResizeListener(syncPosition);\n            }\n        };\n        const removeListeners = () => {\n            VBinder.removeScrollListener(syncPosition);\n            VBinder.removeResizeListener(syncPosition);\n        };\n        onMounted(() => {\n            if (mergedEnabledRef.value) {\n                syncPosition();\n                ensureListeners();\n            }\n        });\n        const ssrAdapter = useSsrAdapter();\n        style.mount({\n            id: 'vueuc/binder',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onBeforeUnmount(() => {\n            removeListeners();\n        });\n        onFontsReady(() => {\n            if (mergedEnabledRef.value) {\n                syncPosition();\n            }\n        });\n        const syncPosition = () => {\n            if (!mergedEnabledRef.value) {\n                return;\n            }\n            const follower = followerRef.value;\n            // sometimes watched props change before its dom is ready\n            // for example: show=false, x=undefined, y=undefined\n            //              show=true,  x=0,         y=0\n            // will cause error\n            // I may optimize the watch start point later\n            if (follower === null)\n                return;\n            const target = VBinder.targetRef;\n            const { x, y, overlap } = props;\n            const targetRect = x !== undefined && y !== undefined\n                ? getPointRect(x, y)\n                : getRect(target);\n            follower.style.setProperty('--v-target-width', `${Math.round(targetRect.width)}px`);\n            follower.style.setProperty('--v-target-height', `${Math.round(targetRect.height)}px`);\n            const { width, minWidth, placement, internalShift, flip } = props;\n            follower.setAttribute('v-placement', placement);\n            if (overlap) {\n                follower.setAttribute('v-overlap', '');\n            }\n            else {\n                follower.removeAttribute('v-overlap');\n            }\n            const { style } = follower;\n            if (width === 'target') {\n                style.width = `${targetRect.width}px`;\n            }\n            else if (width !== undefined) {\n                style.width = width;\n            }\n            else {\n                style.width = '';\n            }\n            if (minWidth === 'target') {\n                style.minWidth = `${targetRect.width}px`;\n            }\n            else if (minWidth !== undefined) {\n                style.minWidth = minWidth;\n            }\n            else {\n                style.minWidth = '';\n            }\n            const followerRect = getRect(follower);\n            const offsetContainerRect = getRect(offsetContainerRef.value);\n            const { left: offsetLeftToStandardPlacement, top: offsetTopToStandardPlacement, placement: properPlacement } = getPlacementAndOffsetOfFollower(placement, targetRect, followerRect, internalShift, flip, overlap);\n            const properTransformOrigin = getProperTransformOrigin(properPlacement, overlap);\n            const { left, top, transform } = getOffset(properPlacement, offsetContainerRect, targetRect, offsetTopToStandardPlacement, offsetLeftToStandardPlacement, overlap);\n            // we assume that the content size doesn't change after flip,\n            // nor we need to make sync logic more complex\n            follower.setAttribute('v-placement', properPlacement);\n            follower.style.setProperty('--v-offset-left', `${Math.round(offsetLeftToStandardPlacement)}px`);\n            follower.style.setProperty('--v-offset-top', `${Math.round(offsetTopToStandardPlacement)}px`);\n            follower.style.transform = `translateX(${left}) translateY(${top}) ${transform}`;\n            follower.style.setProperty('--v-transform-origin', properTransformOrigin);\n            follower.style.transformOrigin = properTransformOrigin;\n        };\n        watch(mergedEnabledRef, (value) => {\n            if (value) {\n                ensureListeners();\n                syncOnNextTick();\n            }\n            else {\n                removeListeners();\n            }\n        });\n        const syncOnNextTick = () => {\n            nextTick()\n                .then(syncPosition)\n                .catch((e) => console.error(e));\n        };\n        [\n            'placement',\n            'x',\n            'y',\n            'internalShift',\n            'flip',\n            'width',\n            'overlap',\n            'minWidth'\n        ].forEach((prop) => {\n            watch(toRef(props, prop), syncPosition);\n        });\n        ['teleportDisabled'].forEach((prop) => {\n            watch(toRef(props, prop), syncOnNextTick);\n        });\n        watch(toRef(props, 'syncTrigger'), (value) => {\n            if (!value.includes('resize')) {\n                VBinder.removeResizeListener(syncPosition);\n            }\n            else {\n                VBinder.addResizeListener(syncPosition);\n            }\n            if (!value.includes('scroll')) {\n                VBinder.removeScrollListener(syncPosition);\n            }\n            else {\n                VBinder.addScrollListener(syncPosition);\n            }\n        });\n        const isMountedRef = useIsMounted();\n        const mergedToRef = useMemo(() => {\n            const { to } = props;\n            if (to !== undefined)\n                return to;\n            if (isMountedRef.value) {\n                // TODO: find proper container\n                return undefined;\n            }\n            return undefined;\n        });\n        return {\n            VBinder,\n            mergedEnabled: mergedEnabledRef,\n            offsetContainerRef,\n            followerRef,\n            mergedTo: mergedToRef,\n            syncPosition\n        };\n    },\n    render() {\n        return h(LazyTeleport, {\n            show: this.show,\n            to: this.mergedTo,\n            disabled: this.teleportDisabled\n        }, {\n            default: () => {\n                var _a, _b;\n                const vNode = h('div', {\n                    class: ['v-binder-follower-container', this.containerClass],\n                    ref: 'offsetContainerRef'\n                }, [\n                    h('div', {\n                        class: 'v-binder-follower-content',\n                        ref: 'followerRef'\n                    }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a))\n                ]);\n                if (this.zindexable) {\n                    return withDirectives(vNode, [\n                        [\n                            zindexable,\n                            {\n                                enabled: this.mergedEnabled,\n                                zIndex: this.zIndex\n                            }\n                        ]\n                    ]);\n                }\n                return vNode;\n            }\n        });\n    }\n});\n","import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport default baseIsMatch;\n","import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nexport default isStrictComparable;\n","import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nexport default getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nexport default matchesStrictComparable;\n","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nexport default baseMatches;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nexport default baseMatchesProperty;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default baseProperty;\n","import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nexport default basePropertyDeep;\n","import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nexport default property;\n","import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nexport default baseIteratee;\n","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n","import baseEach from './_baseEach.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nexport default baseMap;\n","import arrayMap from './_arrayMap.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseMap from './_baseMap.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nexport default map;\n","export default {\n    space: '6px',\n    spaceArrow: '10px',\n    arrowOffset: '10px',\n    arrowOffsetVertical: '10px',\n    arrowHeight: '6px',\n    padding: '8px 14px'\n};\n","import { commonLight } from '../../_styles/common';\nimport commonVariables from './_common';\nexport const self = (vars) => {\n    const { boxShadow2, popoverColor, textColor2, borderRadius, fontSize, dividerColor } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { fontSize,\n        borderRadius, color: popoverColor, dividerColor, textColor: textColor2, boxShadow: boxShadow2 });\n};\nconst popoverLight = {\n    name: 'Popover',\n    common: commonLight,\n    self\n};\nexport default popoverLight;\n","import { map } from 'lodash-es';\nimport { c, cB, cM, cNotM, cE, cCB } from '../../../_utils/cssr';\nconst oppositePlacement = {\n  top: 'bottom',\n  bottom: 'top',\n  left: 'right',\n  right: 'left'\n};\nconst arrowSize = 'var(--n-arrow-height) * 1.414';\n// vars:\n// --n-bezier\n// --n-bezier-ease-in\n// --n-bezier-ease-out\n// --n-font-size\n// --n-text-color\n// --n-color\n// --n-border-radius\n// --n-arrow-height\n// --n-arrow-offset\n// --n-arrow-offset-vertical\n// --n-padding\n// --n-space\n// --n-space-arrow\n// --n-divider-color\nexport default c([cB('popover', `\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n position: relative;\n font-size: var(--n-font-size);\n color: var(--n-text-color);\n box-shadow: var(--n-box-shadow);\n word-break: break-word;\n `, [c('>', [cB('scrollbar', `\n height: inherit;\n max-height: inherit;\n `)]), cNotM('raw', `\n background-color: var(--n-color);\n border-radius: var(--n-border-radius);\n `, [cNotM('scrollable', [cNotM('show-header-or-footer', 'padding: var(--n-padding);')])]), cE('header', `\n padding: var(--n-padding);\n border-bottom: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n `), cE('footer', `\n padding: var(--n-padding);\n border-top: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n `), cM('scrollable, show-header-or-footer', [cE('content', `\n padding: var(--n-padding);\n `)])]), cB('popover-shared', `\n transform-origin: inherit;\n `, [cB('popover-arrow-wrapper', `\n position: absolute;\n overflow: hidden;\n pointer-events: none;\n `, [cB('popover-arrow', `\n transition: background-color .3s var(--n-bezier);\n position: absolute;\n display: block;\n width: calc(${arrowSize});\n height: calc(${arrowSize});\n box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);\n transform: rotate(45deg);\n background-color: var(--n-color);\n pointer-events: all;\n `)]),\n// body transition\nc('&.popover-transition-enter-from, &.popover-transition-leave-to', `\n opacity: 0;\n transform: scale(.85);\n `), c('&.popover-transition-enter-to, &.popover-transition-leave-from', `\n transform: scale(1);\n opacity: 1;\n `), c('&.popover-transition-enter-active', `\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-out),\n transform .15s var(--n-bezier-ease-out);\n `), c('&.popover-transition-leave-active', `\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-in),\n transform .15s var(--n-bezier-ease-in);\n `)]), placementStyle('top-start', `\n top: calc(${arrowSize} / -2);\n left: calc(${getArrowOffset('top-start')} - var(--v-offset-left));\n `), placementStyle('top', `\n top: calc(${arrowSize} / -2);\n transform: translateX(calc(${arrowSize} / -2)) rotate(45deg);\n left: 50%;\n `), placementStyle('top-end', `\n top: calc(${arrowSize} / -2);\n right: calc(${getArrowOffset('top-end')} + var(--v-offset-left));\n `), placementStyle('bottom-start', `\n bottom: calc(${arrowSize} / -2);\n left: calc(${getArrowOffset('bottom-start')} - var(--v-offset-left));\n `), placementStyle('bottom', `\n bottom: calc(${arrowSize} / -2);\n transform: translateX(calc(${arrowSize} / -2)) rotate(45deg);\n left: 50%;\n `), placementStyle('bottom-end', `\n bottom: calc(${arrowSize} / -2);\n right: calc(${getArrowOffset('bottom-end')} + var(--v-offset-left));\n `), placementStyle('left-start', `\n left: calc(${arrowSize} / -2);\n top: calc(${getArrowOffset('left-start')} - var(--v-offset-top));\n `), placementStyle('left', `\n left: calc(${arrowSize} / -2);\n transform: translateY(calc(${arrowSize} / -2)) rotate(45deg);\n top: 50%;\n `), placementStyle('left-end', `\n left: calc(${arrowSize} / -2);\n bottom: calc(${getArrowOffset('left-end')} + var(--v-offset-top));\n `), placementStyle('right-start', `\n right: calc(${arrowSize} / -2);\n top: calc(${getArrowOffset('right-start')} - var(--v-offset-top));\n `), placementStyle('right', `\n right: calc(${arrowSize} / -2);\n transform: translateY(calc(${arrowSize} / -2)) rotate(45deg);\n top: 50%;\n `), placementStyle('right-end', `\n right: calc(${arrowSize} / -2);\n bottom: calc(${getArrowOffset('right-end')} + var(--v-offset-top));\n `), ...map({\n  top: ['right-start', 'left-start'],\n  right: ['top-end', 'bottom-end'],\n  bottom: ['right-end', 'left-end'],\n  left: ['top-start', 'bottom-start']\n}, (placements, direction) => {\n  const isVertical = ['right', 'left'].includes(direction);\n  const sizeType = isVertical ? 'width' : 'height';\n  return placements.map(placement => {\n    const isReverse = placement.split('-')[1] === 'end';\n    const targetSize = `var(--v-target-${sizeType}, 0px)`;\n    const centerOffset = `calc((${targetSize} - ${arrowSize}) / 2)`;\n    const offset = getArrowOffset(placement);\n    return c(`[v-placement=\"${placement}\"] >`, [cB('popover-shared', [cM('center-arrow', [cB('popover-arrow', `${direction}: calc(max(${centerOffset}, ${offset}) ${isReverse ? '+' : '-'} var(--v-offset-${isVertical ? 'left' : 'top'}));`)])])]);\n  });\n})]);\nfunction getArrowOffset(placement) {\n  return ['top', 'bottom'].includes(placement.split('-')[0]) ? 'var(--n-arrow-offset)' : 'var(--n-arrow-offset-vertical)';\n}\nfunction placementStyle(placement, arrowStyleLiteral) {\n  const position = placement.split('-')[0];\n  const sizeStyle = ['top', 'bottom'].includes(position) ? 'height: var(--n-space-arrow);' : 'width: var(--n-space-arrow);';\n  return c(`[v-placement=\"${placement}\"] >`, [cB('popover-shared', `\n margin-${oppositePlacement[position]}: var(--n-space);\n `, [cM('show-arrow', `\n margin-${oppositePlacement[position]}: var(--n-space-arrow);\n `), cM('overlap', `\n margin: 0;\n `), cCB('popover-arrow-wrapper', `\n right: 0;\n left: 0;\n top: 0;\n bottom: 0;\n ${position}: 100%;\n ${oppositePlacement[position]}: auto;\n ${sizeStyle}\n `, [cB('popover-arrow', arrowStyleLiteral)])])]);\n}","import { h, vShow, withDirectives, Transition, ref, defineComponent, computed, mergeProps, inject, onBeforeUnmount, watch, toRef, provide, watchEffect, Fragment } from 'vue';\nimport { VFollower, VFocusTrap } from 'vueuc';\nimport { clickoutside, mousemoveoutside } from 'vdirs';\nimport { getPreciseEventTarget } from 'seemly';\nimport { NxScrollbar } from '../../_internal/scrollbar';\nimport { drawerBodyInjectionKey } from '../../drawer/src/interface';\nimport { modalBodyInjectionKey } from '../../modal/src/interface';\nimport { useTheme, useConfig, useThemeClass } from '../../_mixins';\nimport { formatLength, isSlotEmpty, resolveWrappedSlot, useAdjustedTo, isJsdom } from '../../_utils';\nimport { popoverLight } from '../styles';\nimport { popoverBodyInjectionKey } from './interface';\nimport style from './styles/index.cssr';\nexport const popoverBodyProps = Object.assign(Object.assign({}, useTheme.props), { to: useAdjustedTo.propTo, show: Boolean, trigger: String, showArrow: Boolean, delay: Number, duration: Number, raw: Boolean, arrowPointToCenter: Boolean, arrowStyle: [String, Object], displayDirective: String, x: Number, y: Number, flip: Boolean, overlap: Boolean, placement: String, width: [Number, String], keepAliveOnHover: Boolean, scrollable: Boolean, contentStyle: [Object, String], headerStyle: [Object, String], footerStyle: [Object, String], \n    // private\n    internalDeactivateImmediately: Boolean, animated: Boolean, onClickoutside: Function, internalTrapFocus: Boolean, internalOnAfterLeave: Function, \n    // deprecated\n    minWidth: Number, maxWidth: Number });\nexport const renderArrow = ({ arrowStyle, clsPrefix }) => {\n    return (h(\"div\", { key: \"__popover-arrow__\", class: `${clsPrefix}-popover-arrow-wrapper` },\n        h(\"div\", { class: `${clsPrefix}-popover-arrow`, style: arrowStyle })));\n};\nexport default defineComponent({\n    name: 'PopoverBody',\n    inheritAttrs: false,\n    props: popoverBodyProps,\n    setup(props, { slots, attrs }) {\n        const { namespaceRef, mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Popover', '-popover', style, popoverLight, props, mergedClsPrefixRef);\n        const followerRef = ref(null);\n        const NPopover = inject('NPopover');\n        const bodyRef = ref(null);\n        const followerEnabledRef = ref(props.show);\n        const displayedRef = ref(false);\n        watchEffect(() => {\n            const { show } = props;\n            if (show && !isJsdom() && !props.internalDeactivateImmediately) {\n                displayedRef.value = true;\n            }\n        });\n        const directivesRef = computed(() => {\n            const { trigger, onClickoutside } = props;\n            const directives = [];\n            const { positionManuallyRef: { value: positionManually } } = NPopover;\n            if (!positionManually) {\n                if (trigger === 'click' && !onClickoutside) {\n                    directives.push([\n                        clickoutside,\n                        handleClickOutside,\n                        undefined,\n                        { capture: true }\n                    ]);\n                }\n                if (trigger === 'hover') {\n                    directives.push([mousemoveoutside, handleMouseMoveOutside]);\n                }\n            }\n            if (onClickoutside) {\n                directives.push([\n                    clickoutside,\n                    handleClickOutside,\n                    undefined,\n                    { capture: true }\n                ]);\n            }\n            if (props.displayDirective === 'show' ||\n                (props.animated && displayedRef.value)) {\n                directives.push([vShow, props.show]);\n            }\n            return directives;\n        });\n        const styleRef = computed(() => {\n            const width = props.width === 'trigger' ? undefined : formatLength(props.width);\n            const style = [];\n            if (width) {\n                style.push({ width });\n            }\n            const { maxWidth, minWidth } = props;\n            if (maxWidth) {\n                style.push({ maxWidth: formatLength(maxWidth) });\n            }\n            if (minWidth) {\n                style.push({ maxWidth: formatLength(minWidth) });\n            }\n            if (!inlineThemeDisabled) {\n                style.push(cssVarsRef.value);\n            }\n            return style;\n        });\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut, cubicBezierEaseIn, cubicBezierEaseOut }, self: { space, spaceArrow, padding, fontSize, textColor, dividerColor, color, boxShadow, borderRadius, arrowHeight, arrowOffset, arrowOffsetVertical } } = themeRef.value;\n            return {\n                '--n-box-shadow': boxShadow,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-bezier-ease-in': cubicBezierEaseIn,\n                '--n-bezier-ease-out': cubicBezierEaseOut,\n                '--n-font-size': fontSize,\n                '--n-text-color': textColor,\n                '--n-color': color,\n                '--n-divider-color': dividerColor,\n                '--n-border-radius': borderRadius,\n                '--n-arrow-height': arrowHeight,\n                '--n-arrow-offset': arrowOffset,\n                '--n-arrow-offset-vertical': arrowOffsetVertical,\n                '--n-padding': padding,\n                '--n-space': space,\n                '--n-space-arrow': spaceArrow\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('popover', undefined, cssVarsRef, props)\n            : undefined;\n        NPopover.setBodyInstance({\n            syncPosition\n        });\n        onBeforeUnmount(() => {\n            NPopover.setBodyInstance(null);\n        });\n        watch(toRef(props, 'show'), (value) => {\n            // If no animation, no transition component will be applied to the\n            // component. So we need to trigger follower manaully.\n            if (props.animated)\n                return;\n            if (value) {\n                followerEnabledRef.value = true;\n            }\n            else {\n                followerEnabledRef.value = false;\n            }\n        });\n        function syncPosition() {\n            var _a;\n            (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n        }\n        function handleMouseEnter(e) {\n            if (props.trigger === 'hover' && props.keepAliveOnHover && props.show) {\n                NPopover.handleMouseEnter(e);\n            }\n        }\n        function handleMouseLeave(e) {\n            if (props.trigger === 'hover' && props.keepAliveOnHover) {\n                NPopover.handleMouseLeave(e);\n            }\n        }\n        function handleMouseMoveOutside(e) {\n            if (props.trigger === 'hover' &&\n                !getTriggerElement().contains(getPreciseEventTarget(e))) {\n                NPopover.handleMouseMoveOutside(e);\n            }\n        }\n        function handleClickOutside(e) {\n            if ((props.trigger === 'click' &&\n                !getTriggerElement().contains(getPreciseEventTarget(e))) ||\n                props.onClickoutside) {\n                NPopover.handleClickOutside(e);\n            }\n        }\n        function getTriggerElement() {\n            return NPopover.getTriggerElement();\n        }\n        provide(popoverBodyInjectionKey, bodyRef);\n        provide(drawerBodyInjectionKey, null);\n        provide(modalBodyInjectionKey, null);\n        function renderContentNode() {\n            themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender();\n            const shouldRenderDom = props.displayDirective === 'show' ||\n                props.show ||\n                (props.animated && displayedRef.value);\n            if (!shouldRenderDom) {\n                return null;\n            }\n            let contentNode;\n            const renderBody = NPopover.internalRenderBodyRef.value;\n            const { value: mergedClsPrefix } = mergedClsPrefixRef;\n            if (!renderBody) {\n                const { value: extraClass } = NPopover.extraClassRef;\n                const { internalTrapFocus } = props;\n                const hasHeaderOrFooter = !isSlotEmpty(slots.header) || !isSlotEmpty(slots.footer);\n                const renderContentInnerNode = () => {\n                    var _a;\n                    const body = hasHeaderOrFooter ? (h(Fragment, null,\n                        resolveWrappedSlot(slots.header, (children) => {\n                            return children ? (h(\"div\", { class: `${mergedClsPrefix}-popover__header`, style: props.headerStyle }, children)) : null;\n                        }),\n                        resolveWrappedSlot(slots.default, (children) => {\n                            return children ? (h(\"div\", { class: `${mergedClsPrefix}-popover__content`, style: props.contentStyle }, slots)) : null;\n                        }),\n                        resolveWrappedSlot(slots.footer, (children) => {\n                            return children ? (h(\"div\", { class: `${mergedClsPrefix}-popover__footer`, style: props.footerStyle }, children)) : null;\n                        }))) : props.scrollable ? ((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)) : (h(\"div\", { class: `${mergedClsPrefix}-popover__content`, style: props.contentStyle }, slots));\n                    const maybeScrollableBody = props.scrollable ? (h(NxScrollbar, { contentClass: hasHeaderOrFooter\n                            ? undefined\n                            : `${mergedClsPrefix}-popover__content`, contentStyle: hasHeaderOrFooter ? undefined : props.contentStyle }, {\n                        default: () => body\n                    })) : (body);\n                    const arrow = props.showArrow\n                        ? renderArrow({\n                            arrowStyle: props.arrowStyle,\n                            clsPrefix: mergedClsPrefix\n                        })\n                        : null;\n                    return [maybeScrollableBody, arrow];\n                };\n                contentNode = h('div', mergeProps({\n                    class: [\n                        `${mergedClsPrefix}-popover`,\n                        `${mergedClsPrefix}-popover-shared`,\n                        themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value,\n                        extraClass.map((v) => `${mergedClsPrefix}-${v}`),\n                        {\n                            [`${mergedClsPrefix}-popover--scrollable`]: props.scrollable,\n                            [`${mergedClsPrefix}-popover--show-header-or-footer`]: hasHeaderOrFooter,\n                            [`${mergedClsPrefix}-popover--raw`]: props.raw,\n                            [`${mergedClsPrefix}-popover-shared--overlap`]: props.overlap,\n                            [`${mergedClsPrefix}-popover-shared--show-arrow`]: props.showArrow,\n                            [`${mergedClsPrefix}-popover-shared--center-arrow`]: props.arrowPointToCenter\n                        }\n                    ],\n                    ref: bodyRef,\n                    style: styleRef.value,\n                    onKeydown: NPopover.handleKeydown,\n                    onMouseenter: handleMouseEnter,\n                    onMouseleave: handleMouseLeave\n                }, attrs), internalTrapFocus ? (h(VFocusTrap, { active: props.show, autoFocus: true }, { default: renderContentInnerNode })) : (renderContentInnerNode()));\n            }\n            else {\n                contentNode = renderBody(\n                // The popover class and overlap class must exists, they will be used\n                // to place the body & transition animation.\n                // Shadow class exists for reuse box-shadow.\n                [\n                    `${mergedClsPrefix}-popover-shared`,\n                    themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass.value,\n                    props.overlap && `${mergedClsPrefix}-popover-shared--overlap`,\n                    props.showArrow && `${mergedClsPrefix}-popover-shared--show-arrow`,\n                    props.arrowPointToCenter &&\n                        `${mergedClsPrefix}-popover-shared--center-arrow`\n                ], bodyRef, styleRef.value, handleMouseEnter, handleMouseLeave);\n            }\n            return withDirectives(contentNode, directivesRef.value);\n        }\n        return {\n            displayed: displayedRef,\n            namespace: namespaceRef,\n            isMounted: NPopover.isMountedRef,\n            zIndex: NPopover.zIndexRef,\n            followerRef,\n            adjustedTo: useAdjustedTo(props),\n            followerEnabled: followerEnabledRef,\n            renderContentNode\n        };\n    },\n    render() {\n        return (h(VFollower, { ref: \"followerRef\", zIndex: this.zIndex, show: this.show, enabled: this.followerEnabled, to: this.adjustedTo, x: this.x, y: this.y, flip: this.flip, placement: this.placement, containerClass: this.namespace, overlap: this.overlap, width: this.width === 'trigger' ? 'target' : undefined, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey }, {\n            default: () => {\n                return this.animated ? (h(Transition, { name: \"popover-transition\", appear: this.isMounted, \n                    // Don't use watch to enable follower, since the transition may\n                    // make position sync timing very subtle and buggy.\n                    onEnter: () => {\n                        this.followerEnabled = true;\n                    }, onAfterLeave: () => {\n                        var _a;\n                        (_a = this.internalOnAfterLeave) === null || _a === void 0 ? void 0 : _a.call(this);\n                        this.followerEnabled = false;\n                        this.displayed = false;\n                    } }, {\n                    default: this.renderContentNode\n                })) : (this.renderContentNode());\n            }\n        }));\n    }\n});\n","import { h, ref, computed, defineComponent, provide, toRef, cloneVNode, watchEffect, withDirectives, Text } from 'vue';\nimport { VBinder, VTarget } from 'vueuc';\nimport { useMergedState, useCompitable, useIsMounted, useMemo } from 'vooks';\nimport { zindexable } from 'vdirs';\nimport { call, keep, getFirstSlotVNode, warnOnce, useAdjustedTo } from '../../_utils';\nimport { useTheme } from '../../_mixins';\nimport NPopoverBody, { popoverBodyProps } from './PopoverBody';\nconst bodyPropKeys = Object.keys(popoverBodyProps);\nconst triggerEventMap = {\n    focus: ['onFocus', 'onBlur'],\n    click: ['onClick'],\n    hover: ['onMouseenter', 'onMouseleave'],\n    manual: [],\n    nested: ['onFocus', 'onBlur', 'onMouseenter', 'onMouseleave', 'onClick']\n};\nfunction appendEvents(vNode, trigger, events) {\n    triggerEventMap[trigger].forEach((eventName) => {\n        if (!vNode.props)\n            vNode.props = {};\n        else {\n            vNode.props = Object.assign({}, vNode.props);\n        }\n        const originalHandler = vNode.props[eventName];\n        const handler = events[eventName];\n        if (!originalHandler)\n            vNode.props[eventName] = handler;\n        else {\n            vNode.props[eventName] = (...args) => {\n                originalHandler(...args);\n                handler(...args);\n            };\n        }\n    });\n}\nexport const popoverBaseProps = {\n    show: {\n        type: Boolean,\n        default: undefined\n    },\n    defaultShow: Boolean,\n    showArrow: {\n        type: Boolean,\n        default: true\n    },\n    trigger: {\n        type: String,\n        default: 'hover'\n    },\n    delay: {\n        type: Number,\n        default: 100\n    },\n    duration: {\n        type: Number,\n        default: 100\n    },\n    raw: Boolean,\n    placement: {\n        type: String,\n        default: 'top'\n    },\n    x: Number,\n    y: Number,\n    arrowPointToCenter: Boolean,\n    disabled: Boolean,\n    getDisabled: Function,\n    displayDirective: {\n        type: String,\n        default: 'if'\n    },\n    arrowStyle: [String, Object],\n    flip: {\n        type: Boolean,\n        default: true\n    },\n    animated: {\n        type: Boolean,\n        default: true\n    },\n    width: {\n        type: [Number, String],\n        default: undefined\n    },\n    overlap: Boolean,\n    keepAliveOnHover: {\n        type: Boolean,\n        default: true\n    },\n    zIndex: Number,\n    to: useAdjustedTo.propTo,\n    scrollable: Boolean,\n    contentStyle: [Object, String],\n    headerStyle: [Object, String],\n    footerStyle: [Object, String],\n    // events\n    onClickoutside: Function,\n    'onUpdate:show': [Function, Array],\n    onUpdateShow: [Function, Array],\n    // internal\n    internalDeactivateImmediately: Boolean,\n    internalSyncTargetWithParent: Boolean,\n    internalInheritedEventHandlers: {\n        type: Array,\n        default: () => []\n    },\n    internalTrapFocus: Boolean,\n    internalExtraClass: {\n        type: Array,\n        default: () => []\n    },\n    // deprecated\n    onShow: [Function, Array],\n    onHide: [Function, Array],\n    arrow: {\n        type: Boolean,\n        default: undefined\n    },\n    minWidth: Number,\n    maxWidth: Number\n};\nexport const popoverProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), popoverBaseProps), { internalOnAfterLeave: Function, internalRenderBody: Function });\nexport default defineComponent({\n    name: 'Popover',\n    inheritAttrs: false,\n    props: popoverProps,\n    __popover__: true,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.maxWidth !== undefined) {\n                    warnOnce('popover', '`max-width` is deprecated, please use `style` instead.');\n                }\n                if (props.minWidth !== undefined) {\n                    warnOnce('popover', '`min-width` is deprecated, please use `style` instead.');\n                }\n                if (props.arrow !== undefined) {\n                    warnOnce('popover', '`arrow` is deprecated, please use `showArrow` instead.');\n                }\n                if (props.onHide !== undefined) {\n                    warnOnce('popover', '`on-hide` is deprecated, please use `on-update:show` instead.');\n                }\n                if (props.onShow !== undefined) {\n                    warnOnce('popover', '`on-show` is deprecated, please use `on-update:show` instead.');\n                }\n            });\n        }\n        const isMountedRef = useIsMounted();\n        const binderInstRef = ref(null);\n        // setup show\n        const controlledShowRef = computed(() => props.show);\n        const uncontrolledShowRef = ref(props.defaultShow);\n        const mergedShowWithoutDisabledRef = useMergedState(controlledShowRef, uncontrolledShowRef);\n        const mergedShowConsideringDisabledPropRef = useMemo(() => {\n            if (props.disabled)\n                return false;\n            return mergedShowWithoutDisabledRef.value;\n        });\n        const getMergedDisabled = () => {\n            if (props.disabled)\n                return true;\n            const { getDisabled } = props;\n            if (getDisabled === null || getDisabled === void 0 ? void 0 : getDisabled())\n                return true;\n            return false;\n        };\n        const getMergedShow = () => {\n            if (getMergedDisabled())\n                return false;\n            return mergedShowWithoutDisabledRef.value;\n        };\n        // setup show-arrow\n        const compatibleShowArrowRef = useCompitable(props, ['arrow', 'showArrow']);\n        const mergedShowArrowRef = computed(() => {\n            if (props.overlap)\n                return false;\n            return compatibleShowArrowRef.value;\n        });\n        // bodyInstance\n        let bodyInstance = null;\n        const showTimerIdRef = ref(null);\n        const hideTimerIdRef = ref(null);\n        const positionManuallyRef = useMemo(() => {\n            return props.x !== undefined && props.y !== undefined;\n        });\n        // methods\n        function doUpdateShow(value) {\n            const { 'onUpdate:show': _onUpdateShow, onUpdateShow, onShow, onHide } = props;\n            uncontrolledShowRef.value = value;\n            if (_onUpdateShow) {\n                call(_onUpdateShow, value);\n            }\n            if (onUpdateShow) {\n                call(onUpdateShow, value);\n            }\n            if (value && onShow) {\n                call(onShow, true);\n            }\n            if (value && onHide) {\n                call(onHide, false);\n            }\n        }\n        function syncPosition() {\n            if (bodyInstance) {\n                bodyInstance.syncPosition();\n            }\n        }\n        function clearShowTimer() {\n            const { value: showTimerId } = showTimerIdRef;\n            if (showTimerId) {\n                window.clearTimeout(showTimerId);\n                showTimerIdRef.value = null;\n            }\n        }\n        function clearHideTimer() {\n            const { value: hideTimerId } = hideTimerIdRef;\n            if (hideTimerId) {\n                window.clearTimeout(hideTimerId);\n                hideTimerIdRef.value = null;\n            }\n        }\n        function handleFocus() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'focus' && !mergedDisabled) {\n                if (getMergedShow())\n                    return;\n                doUpdateShow(true);\n            }\n        }\n        function handleBlur() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'focus' && !mergedDisabled) {\n                if (!getMergedShow())\n                    return;\n                doUpdateShow(false);\n            }\n        }\n        function handleMouseEnter() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'hover' && !mergedDisabled) {\n                clearHideTimer();\n                if (showTimerIdRef.value !== null)\n                    return;\n                if (getMergedShow())\n                    return;\n                const delayCallback = () => {\n                    doUpdateShow(true);\n                    showTimerIdRef.value = null;\n                };\n                const { delay } = props;\n                if (delay === 0) {\n                    delayCallback();\n                }\n                else {\n                    showTimerIdRef.value = window.setTimeout(delayCallback, delay);\n                }\n            }\n        }\n        function handleMouseLeave() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'hover' && !mergedDisabled) {\n                clearShowTimer();\n                if (hideTimerIdRef.value !== null)\n                    return;\n                if (!getMergedShow())\n                    return;\n                const delayedCallback = () => {\n                    doUpdateShow(false);\n                    hideTimerIdRef.value = null;\n                };\n                const { duration } = props;\n                if (duration === 0) {\n                    delayedCallback();\n                }\n                else {\n                    hideTimerIdRef.value = window.setTimeout(delayedCallback, duration);\n                }\n            }\n        }\n        // will be called in popover-content\n        function handleMouseMoveOutside() {\n            handleMouseLeave();\n        }\n        // will be called in popover-content\n        function handleClickOutside(e) {\n            var _a;\n            if (!getMergedShow())\n                return;\n            if (props.trigger === 'click') {\n                clearShowTimer();\n                clearHideTimer();\n                doUpdateShow(false);\n            }\n            (_a = props.onClickoutside) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleClick() {\n            if (props.trigger === 'click' && !getMergedDisabled()) {\n                clearShowTimer();\n                clearHideTimer();\n                const nextShow = !getMergedShow();\n                doUpdateShow(nextShow);\n            }\n        }\n        function handleKeydown(e) {\n            if (!props.internalTrapFocus)\n                return;\n            if (e.key === 'Escape') {\n                clearShowTimer();\n                clearHideTimer();\n                doUpdateShow(false);\n            }\n        }\n        function setShow(value) {\n            uncontrolledShowRef.value = value;\n        }\n        function getTriggerElement() {\n            var _a;\n            return (_a = binderInstRef.value) === null || _a === void 0 ? void 0 : _a.targetRef;\n        }\n        function setBodyInstance(value) {\n            bodyInstance = value;\n        }\n        provide('NPopover', {\n            getTriggerElement,\n            handleKeydown,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleClickOutside,\n            handleMouseMoveOutside,\n            setBodyInstance,\n            positionManuallyRef,\n            isMountedRef,\n            zIndexRef: toRef(props, 'zIndex'),\n            extraClassRef: toRef(props, 'internalExtraClass'),\n            internalRenderBodyRef: toRef(props, 'internalRenderBody')\n        });\n        watchEffect(() => {\n            if (mergedShowWithoutDisabledRef.value && getMergedDisabled()) {\n                doUpdateShow(false);\n            }\n        });\n        return {\n            binderInstRef,\n            positionManually: positionManuallyRef,\n            mergedShowConsideringDisabledProp: mergedShowConsideringDisabledPropRef,\n            // if to show popover body\n            uncontrolledShow: uncontrolledShowRef,\n            mergedShowArrow: mergedShowArrowRef,\n            getMergedShow,\n            setShow,\n            handleClick,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleFocus,\n            handleBlur,\n            syncPosition\n        };\n    },\n    render() {\n        var _a;\n        const { positionManually, $slots: slots } = this;\n        let triggerVNode;\n        let popoverInside = false;\n        if (!positionManually) {\n            if (slots.activator) {\n                triggerVNode = getFirstSlotVNode(slots, 'activator');\n            }\n            else {\n                triggerVNode = getFirstSlotVNode(slots, 'trigger');\n            }\n            if (triggerVNode) {\n                triggerVNode = cloneVNode(triggerVNode);\n                triggerVNode =\n                    triggerVNode.type === Text\n                        ? h('span', [triggerVNode])\n                        : triggerVNode;\n                const handlers = {\n                    onClick: this.handleClick,\n                    onMouseenter: this.handleMouseEnter,\n                    onMouseleave: this.handleMouseLeave,\n                    onFocus: this.handleFocus,\n                    onBlur: this.handleBlur\n                };\n                if ((_a = triggerVNode.type) === null || _a === void 0 ? void 0 : _a.__popover__) {\n                    popoverInside = true;\n                    // We assume that there's no DOM event handlers on popover element\n                    if (!triggerVNode.props) {\n                        triggerVNode.props = {\n                            internalSyncTargetWithParent: true,\n                            internalInheritedEventHandlers: []\n                        };\n                    }\n                    triggerVNode.props.internalSyncTargetWithParent = true;\n                    if (!triggerVNode.props.internalInheritedEventHandlers) {\n                        triggerVNode.props.internalInheritedEventHandlers = [handlers];\n                    }\n                    else {\n                        triggerVNode.props.internalInheritedEventHandlers = [\n                            handlers,\n                            ...triggerVNode.props.internalInheritedEventHandlers\n                        ];\n                    }\n                }\n                else {\n                    const { internalInheritedEventHandlers } = this;\n                    const ascendantAndCurrentHandlers = [\n                        handlers,\n                        ...internalInheritedEventHandlers\n                    ];\n                    const mergedHandlers = {\n                        onBlur: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onBlur(e);\n                            });\n                        },\n                        onFocus: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onFocus(e);\n                            });\n                        },\n                        onClick: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onClick(e);\n                            });\n                        },\n                        onMouseenter: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onMouseenter(e);\n                            });\n                        },\n                        onMouseleave: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onMouseleave(e);\n                            });\n                        }\n                    };\n                    appendEvents(triggerVNode, internalInheritedEventHandlers\n                        ? 'nested'\n                        : positionManually\n                            ? 'manual'\n                            : this.trigger, mergedHandlers);\n                }\n            }\n        }\n        return (h(VBinder, { ref: \"binderInstRef\", syncTarget: !popoverInside, syncTargetWithParent: this.internalSyncTargetWithParent }, {\n            default: () => {\n                // We need to subscribe it. Sometimes rerender won't ge triggered.\n                // `mergedShowConsideringDisabledProp` is not the final disabled status.\n                // In ellpisis it's dynamic.\n                void this.mergedShowConsideringDisabledProp;\n                const mergedShow = this.getMergedShow();\n                return [\n                    this.internalTrapFocus && mergedShow\n                        ? withDirectives(h(\"div\", { style: { position: 'fixed', inset: 0 } }), [\n                            [\n                                zindexable,\n                                {\n                                    enabled: mergedShow,\n                                    zIndex: this.zIndex\n                                }\n                            ]\n                        ])\n                        : null,\n                    positionManually\n                        ? null\n                        : h(VTarget, null, {\n                            default: () => triggerVNode\n                        }),\n                    h(NPopoverBody, keep(this.$props, bodyPropKeys, Object.assign(Object.assign({}, this.$attrs), { showArrow: this.mergedShowArrow, show: mergedShow })), {\n                        default: () => { var _a, _b; return (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a); },\n                        header: () => { var _a, _b; return (_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a); },\n                        footer: () => { var _a, _b; return (_b = (_a = this.$slots).footer) === null || _b === void 0 ? void 0 : _b.call(_a); }\n                    })\n                ];\n            }\n        }));\n    }\n});\n"],"names":["_isJsdom","isJsdom","internalSelectionMenuInjectionKey","createInjectionKey","internalSelectionMenuBodyInjectionKey","teleportDisabled","useAdjustedTo","props","modal","inject","modalBodyInjectionKey","drawer","drawerBodyInjectionKey","popover","popoverBodyInjectionKey","selectMenu","fullscreenElementRef","ref","handleFullscreenChange","onMounted","on","onBeforeUnmount","off","useMemo","_a","to","viewMeasurer","ensureViewBoundingRect","style","getPointRect","x","y","viewRect","getRect","el","elRect","getParentNode","node","getScrollParent","parentNode","overflow","overflowX","overflowY","Binder","defineComponent","provide","getCurrentInstance","VBinder","targetRef","setTargetRef","scrollableNodes","ensureScrollListener","cursor","onScroll","removeScrollListeners","followerScrollListeners","addScrollListener","listener","removeScrollListener","beforeNextFrameOnce","onScrollRaf","followerResizeListeners","addResizeListener","onResize","removeResizeListener","getSlot","VTarget","syncTarget","setTargetDirective","withDirectives","getFirstVNode","ctxKey","mousemoveoutside","value","ctx","handler","mousemoveoutside$1","oppositionPositions","oppositeAligns","propToCompare","transformOrigins","overlapTransformOrigin","oppositeAlignCssPositionProps","keepOffsetDirection","cssPositionToOppositeAlign","getPlacementAndOffsetOfFollower","placement","targetRect","followerRect","shift","flip","overlap","position","align","properAlign","properOffset","deriveOffset","oppositeAlignCssSizeProp","alignCssPositionProp","offsetVertically","left","top","diff","oppositeAlignCssPositionProp","currentAlignCssPositionProp","followerOverTargetSize","possibleAlternativeAlignCssPositionProp1","possibleAlternativeAlignCssPositionProp2","alternativeAlignCssSizeProp","properPosition","getProperTransformOrigin","getOffset","offsetRect","offsetTopToStandardPlacement","offsetLeftToStandardPlacement","c","VFollower","mergedEnabledRef","followerRef","offsetContainerRef","ensureListeners","syncTrigger","syncPosition","removeListeners","ssrAdapter","useSsrAdapter","cssrAnchorMetaName","onFontsReady","follower","target","width","minWidth","internalShift","offsetContainerRect","properPlacement","properTransformOrigin","transform","watch","syncOnNextTick","nextTick","e","prop","toRef","isMountedRef","useIsMounted","mergedToRef","h","LazyTeleport","_b","vNode","zindexable","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","baseIsMatch","object","source","matchData","customizer","index","length","noCustomizer","data","key","objValue","srcValue","stack","Stack","result","baseIsEqual","isStrictComparable","isObject","getMatchData","keys","matchesStrictComparable","baseMatches","baseHasIn","hasPath","path","hasFunc","castPath","toKey","isLength","isIndex","isArray","isArguments","hasIn","baseMatchesProperty","isKey","get","baseProperty","basePropertyDeep","baseGet","property","baseIteratee","identity","baseForOwn","iteratee","baseFor","createBaseEach","eachFunc","fromRight","collection","isArrayLike","iterable","baseEach","baseEach$1","baseMap","map","func","arrayMap","commonVariables","self","vars","boxShadow2","popoverColor","textColor2","borderRadius","fontSize","dividerColor","popoverLight","commonLight","popoverLight$1","oppositePlacement","arrowSize","cB","cNotM","cE","cM","placementStyle","getArrowOffset","placements","direction","isVertical","sizeType","isReverse","centerOffset","offset","arrowStyleLiteral","sizeStyle","cCB","popoverBodyProps","useTheme","renderArrow","arrowStyle","clsPrefix","NPopoverBody","slots","attrs","namespaceRef","mergedClsPrefixRef","inlineThemeDisabled","useConfig","themeRef","NPopover","bodyRef","followerEnabledRef","displayedRef","watchEffect","show","directivesRef","computed","trigger","onClickoutside","directives","positionManually","clickoutside","handleClickOutside","handleMouseMoveOutside","vShow","styleRef","formatLength","maxWidth","cssVarsRef","cubicBezierEaseInOut","cubicBezierEaseIn","cubicBezierEaseOut","space","spaceArrow","padding","textColor","color","boxShadow","arrowHeight","arrowOffset","arrowOffsetVertical","themeClassHandle","useThemeClass","handleMouseEnter","handleMouseLeave","getTriggerElement","getPreciseEventTarget","renderContentNode","contentNode","renderBody","mergedClsPrefix","extraClass","internalTrapFocus","hasHeaderOrFooter","isSlotEmpty","renderContentInnerNode","body","Fragment","resolveWrappedSlot","children","maybeScrollableBody","NxScrollbar","arrow","mergeProps","v","VFocusTrap","Transition","bodyPropKeys","triggerEventMap","appendEvents","events","eventName","originalHandler","args","popoverBaseProps","popoverProps","binderInstRef","controlledShowRef","uncontrolledShowRef","mergedShowWithoutDisabledRef","useMergedState","mergedShowConsideringDisabledPropRef","getMergedDisabled","getDisabled","getMergedShow","compatibleShowArrowRef","useCompitable","mergedShowArrowRef","bodyInstance","showTimerIdRef","hideTimerIdRef","positionManuallyRef","doUpdateShow","_onUpdateShow","onUpdateShow","onShow","onHide","call","clearShowTimer","showTimerId","clearHideTimer","hideTimerId","handleFocus","mergedDisabled","handleBlur","delayCallback","delay","delayedCallback","duration","handleClick","nextShow","handleKeydown","setShow","setBodyInstance","triggerVNode","popoverInside","getFirstSlotVNode","cloneVNode","Text","handlers","internalInheritedEventHandlers","ascendantAndCurrentHandlers","mergedHandlers","_handlers","mergedShow","keep"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]}