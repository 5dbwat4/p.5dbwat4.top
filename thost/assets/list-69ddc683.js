import{A as d}from"./APIHelper-c6c5541a.js";import{useRoute as N,useRouter as x}from"./vue-router-ee92e3b2.js";import{s as R}from"./subjects-flattened-reversed-970fd5c2.js";import{as as $,aZ as r,a8 as h,l as S,t as p,aE as g,b7 as a,F as b,J as n}from"./index-c2ed52a5.js";import{N as U,S as T,R as D}from"./SearchOutline-de4d5287.js";import{N as c}from"./Button-591cb8c7.js";import{N as E}from"./Input-b50999c9.js";import{N as k}from"./Icon-75f6c652.js";import{N as P}from"./InputGroup-b7c6b534.js";import{N as q}from"./DataTable-503b185f.js";import"./light-3c431b54.js";import"./format-length-c9d165c6.js";import"./Icon-9d083982.js";import"./Warning-fc401418.js";import"./Close-4e65a8ab.js";import"./Scrollbar-5b7370f2.js";import"./runtime-dom.esm-bundler-51aad541.js";import"./keysOf-5d5107c5.js";import"./use-locale-ca0d0990.js";import"./index-975a2d8f.js";import"./use-merged-state-5c1c3246.js";import"./use-memo-13475312.js";import"./utils-ae16cb7a.js";import"./Popover-4ea150e0.js";import"./index-80752888.js";import"./flatten-30e3eebb.js";import"./use-false-until-truthy-96bf4c79.js";import"./get-8a3b42fc.js";import"./cssr-b950d06d.js";import"./utils-20c36e7e.js";import"./use-is-mounted-912be460.js";import"./use-compitable-c3112252.js";import"./next-frame-once-7035a838.js";import"./fade-in-scale-up.cssr-6d358681.js";import"./create-2c70b56a.js";import"./Loading-b36f50c8.js";import"./ChevronRight-473b2df6.js";import"./Suffix-26bafbe6.js";import"./Tag-9a87d369.js";import"./index-cbfaa337.js";import"./Dropdown-877d87c3.js";import"./light-951b0264.js";import"./_commonjsHelpers-de833af9.js";import"./index-d51aa4a2.js";import"./FadeInExpandTransition-3bfdffc9.js";import"./Checkbox-7001ae57.js";import"./RadioGroup-3baf482c.js";import"./get-slot-1efb97e5.js";import"./Radio-e62a93f3.js";import"./Ellipsis-96e2d292.js";import"./Tooltip-121d8b6c.js";import"./download-b096fc6b.js";const A=["innerHTML"],H={__name:"expansion-preview",setup(z){const u=$(),i=r("");return d.get("/api/data/get/"+u.id).then(o=>{i.value=o.q}),(o,m)=>(h(),S("div",{innerHTML:i.value},null,8,A))}},I={__name:"list",setup(z){N();const u=x(),i=r(!0),o=r(!1),m=r(""),s=r([]),w=[{type:"selection"},{type:"expand",renderExpand(e){return n(H,{id:e.id})}},{title:"uuid",key:"id"},{title:"Subject",render(e){return n("p",{},R[""+e.bankid])}},{title:"Origin",key:"origin"},{title:"submit time",render(e){return n(U,{time:e.timestamp,to:new Date().getTime(),type:"relative"})}},{title:"view",render(e){return n(c,{text:!0,onClick:()=>{u.push("/view/"+e.id)}},{default:()=>"View"})}}],y=r([]),C=e=>{y.value=e,console.log(e)},t=r({page:1,pageSize:10,showSizePicker:!0,itemCount:0,pageSizes:[5,10,20,50],onChange:e=>{t.value.page=e,i.value=!0,l()},onUpdatePageSize:e=>{t.value.pageSize=e,t.value.page=1,i.value=!0,l()}}),l=()=>{m.value==""?d.get(`/api/data/list/v2/directget/${(t.value.page-1)*t.value.pageSize}/${t.value.pageSize}`).then(e=>{s.value=e.data,t.value.itemCount=e.count,i.value=!1,o.value=!1}):d.get(`/api/data/v2/group/list/search/uuid?q=${encodeURIComponent(m.value)}&offset=${(t.value.page-1)*t.value.pageSize}&pagesize=${t.value.pageSize}`).then(e=>{s.value=e.data,i.value=!1,o.value=!1})},_=e=>{m.value=e,o.value=!0,l()};return l(),(e,f)=>(h(),S(b,null,[p(a(P),null,{default:g(()=>[p(a(E),{name:"search",placeholder:"Search",value:m.value,"onUpdate:value":f[0]||(f[0]=v=>m.value=v),loading:o.value,"on-input":_},null,8,["value","loading"]),p(a(c),{onClick:e.handleSearch},{icon:g(()=>[p(a(k),{component:a(T)},null,8,["component"])]),_:1},8,["onClick"]),p(a(c),{onClick:l},{icon:g(()=>[p(a(k),{component:a(D)},null,8,["component"])]),_:1})]),_:1}),p(a(q),{remote:"",loading:i.value,pagination:t.value,data:s.value,columns:w,"onUpdate:checkedRowKeys":C,"row-key":v=>v.id,"visual-scroll":""},null,8,["loading","pagination","data","row-key"])],64))}};export{I as default};
