import{A as g}from"./APIHelper-5dc80534.js";import{useRoute as C,useRouter as N}from"./vue-router-3740985a.js";import{N as f}from"./Icon-6184ebf4.js";import{S as R,R as x,N as _}from"./SearchOutline-492f0b63.js";import{aZ as i,a8 as y,l as I,t as o,aE as s,b7 as a,F as P,J as c}from"./runtime-core.esm-bundler-c066f4bf.js";import{N as U}from"./Input-af324e3e.js";import{a as d}from"./Button-d0cd9be2.js";import{N as $}from"./InputGroup-62ef3a3b.js";import"./light-d6058c0b.js";import"./format-length-c9d165c6.js";import"./Icon-d321f943.js";import"./Warning-3558c7da.js";import"./Close-ebf3a9fb.js";import"./Scrollbar-24cda971.js";import"./runtime-dom.esm-bundler-caa8590e.js";import"./Checkbox-475099bc.js";import"./use-merged-state-89f8109f.js";import"./FadeInExpandTransition-ff940b4d.js";import"./use-memo-b9add725.js";import"./flatten-a133123b.js";import"./get-slot-1efb97e5.js";import"./Popover-c9633131.js";import"./fade-in-scale-up.cssr-e8989780.js";import"./use-false-until-truthy-a506b738.js";import"./_baseIsEqual-dedfc21f.js";import"./get-e8fa5947.js";import"./utils-d7fa52af.js";import"./use-compitable-42538ef7.js";import"./next-frame-once-7035a838.js";import"./Suffix-586fb6ff.js";import"./Dropdown-4813805f.js";import"./ChevronRight-989c7384.js";import"./create-e19b3023.js";import"./Ellipsis-54a8d8d8.js";import"./Tooltip-971e9ca1.js";import"./utils-1333c5ba.js";import"./use-locale-1c262ea4.js";import"./index-975a2d8f.js";import"./Tag-76f96a47.js";import"./attribute-2ee9e579.js";import"./light-261e8307.js";import"./index-cbfaa337.js";const ze={__name:"index",setup(E){C();const h=N(),r=i(!0),p=i(!1),n=i(""),u=i([]),S=[{type:"selection"},{type:"expand",renderExpand(e){return c(ExtrntionPreview,{id:e.id})}},{title:"uuid",key:"id"},{title:"submit time",render(e){return c("p",{},new Date(e.timestamp).toISOString())}},{title:"extra",key:"extra"},{title:"view",render(e){return c(d,{text:!0,onClick:()=>{h.push("/view/"+e.id)}},{default:()=>"View"})}}],k=i([]),w=e=>{k.value=e,console.log(e)},t=i({page:1,pageSize:10,showSizePicker:!0,itemCount:0,pageSizes:[5,10,20,50],onChange:e=>{t.value.page=e,r.value=!0,l()},onUpdatePageSize:e=>{t.value.pageSize=e,t.value.page=1,r.value=!0,l()}}),l=()=>{n.value==""?g.get(`/api/list/v2/directget/${(t.value.page-1)*t.value.pageSize}/${t.value.pageSize}`).then(e=>{u.value=e.data,t.value.itemCount=e.count,r.value=!1,p.value=!1}):g.get(`/api/v2/group/list/search/uuid?q=${encodeURIComponent(n.value)}&offset=${(t.value.page-1)*t.value.pageSize}&pagesize=${t.value.pageSize}`).then(e=>{u.value=e.data,r.value=!1,p.value=!1})},z=e=>{n.value=e,p.value=!0,l()};return l(),(e,v)=>(y(),I(P,null,[o(a($),null,{default:s(()=>[o(a(U),{placeholder:"Search",value:n.value,"onUpdate:value":v[0]||(v[0]=m=>n.value=m),loading:p.value,"on-input":z},null,8,["value","loading"]),o(a(d),{onClick:e.handleSearch},{icon:s(()=>[o(a(f),{component:a(R)},null,8,["component"])]),_:1},8,["onClick"]),o(a(d),{onClick:l},{icon:s(()=>[o(a(f),{component:a(x)},null,8,["component"])]),_:1})]),_:1}),o(a(_),{remote:"",loading:r.value,pagination:t.value,data:u.value,columns:S,"onUpdate:checkedRowKeys":w,"row-key":m=>m.id,"visual-scroll":""},null,8,["loading","pagination","data","row-key"])],64))}};export{ze as default};
