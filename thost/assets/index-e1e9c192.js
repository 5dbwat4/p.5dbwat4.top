import{useRoute as q,useRouter as I}from"./vue-router-66374999.js";import{A as _}from"./APIHelper-697d5a21.js";import{as as j,aZ as s,a8 as b,l as h,t as e,aE as l,s as n,b7 as o,m as A,bd as B,F as L,J as v}from"./runtime-core.esm-bundler-42be6625.js";import{N as R}from"./DataTable-28c8747b.js";import{N as y}from"./InputGroupLabel-ac995e52.js";import{N}from"./InputNumber-f94cacab.js";import{b as m}from"./Button-cc4d8cf9.js";import{N as T}from"./InputGroup-b7f57590.js";import"./light-061b806c.js";import"./format-length-c9d165c6.js";import"./Icon-9bae1ecc.js";import"./Warning-342b5d14.js";import"./Close-7ee9b945.js";import"./Scrollbar-56892bdd.js";import"./runtime-dom.esm-bundler-4c01a608.js";import"./keysOf-5d5107c5.js";import"./Checkbox-af2f1a0a.js";import"./use-merged-state-cb002afc.js";import"./call-7e0089d6.js";import"./use-memo-8d560c6d.js";import"./flatten-7ea74e97.js";import"./get-slot-1efb97e5.js";import"./resolve-slot-612957d7.js";import"./Popover-4b12eb1a.js";import"./fade-in-scale-up.cssr-e8e5290f.js";import"./get-bc00c446.js";import"./utils-13313164.js";import"./FadeInExpandTransition-8360c680.js";import"./use-compitable-85535777.js";import"./light-a899ddec.js";import"./Dropdown-9a653533.js";import"./create-582f0426.js";import"./Ellipsis-8153a355.js";import"./Tooltip-455ae320.js";import"./utils-844b71a1.js";import"./use-locale-a958ab8c.js";import"./index-975a2d8f.js";import"./Tag-526ae436.js";import"./Input-25fff9b3.js";import"./index-cbfaa337.js";const U=["innerHTML"],D={__name:"extention-preview",setup(x){const r=j(),p=s("");return _.get("/api/qapi/get/"+r.id).then(a=>{p.value=a.q}),(a,k)=>(b(),h("div",{innerHTML:p.value},null,8,U))}},ht={__name:"index",setup(x){const r=q(),p=I(),a=s([]),k=[{type:"selection"},{type:"expand",renderExpand(t){return v(D,{id:t.id})}},{title:"uuid",key:"id"},{title:"submit time",render(t){return v("p",{},new Date(t.timestamp).toISOString())}},{title:"extra",key:"extra"},{title:"view",render(t){return v(m,{text:!0,onClick:()=>{p.push("/view/"+t.id)}},{default:()=>"View"})}}],g=s([]),C=t=>{g.value=t,console.log(t)},w=()=>{p.push("/batch/"+g.value.join(","))},f=s(!0),d=s(parseInt(r.query.offset||"0")),c=s(parseInt(r.query.limit||"50"));return console.log(r.query),r.query.filter||_.get("/api/list/v2/directget/"+d.value+"/"+c.value).then(t=>{a.value=t,f.value=!1}),r.query.filter=="subject"&&_.get("/api/list/v2/filter/subject/"+r.query.subject+"/"+d.value+"/"+c.value).then(t=>{a.value=t,f.value=!1}),(t,u)=>(b(),h(L,null,[e(o(m),{onClick:u[0]||(u[0]=i=>t.$router.push("/list/uuids_all"))},{default:l(()=>[n("ALL UUIDS")]),_:1}),e(o(R),{remote:"",data:a.value,columns:k,loading:f.value,"onUpdate:checkedRowKeys":C,"row-key":i=>i.id,"visual-scroll":""},null,8,["data","loading","row-key"]),e(o(T),null,{default:l(()=>[e(o(y),null,{default:l(()=>[n("偏移(offset)")]),_:1}),e(o(N),{min:0,value:d.value,"onUpdate:value":u[1]||(u[1]=i=>d.value=i)},null,8,["value"]),e(o(y),null,{default:l(()=>[n("总数(limit)")]),_:1}),e(o(N),{min:0,value:c.value,"onUpdate:value":u[2]||(u[2]=i=>c.value=i)},null,8,["value"]),e(o(m),{onClick:t.relist},{default:l(()=>[n("前往")]),_:1},8,["onClick"]),e(o(m),{onClick:t.relist_nextos},{default:l(()=>[n("下一组")]),_:1},8,["onClick"])]),_:1}),e(o(m),{onClick:w},{default:l(()=>[n("BATCH")]),_:1}),A("p",null,B(a.value.map(i=>i.id).join(",")),1)],64))}};export{ht as default};
