{"version":3,"file":"utils-ae16cb7a.js","sources":["../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_utils/naive/attribute.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_utils/vue/merge-handlers.mjs","../../node_modules/.pnpm/vueuc@0.4.58_vue@3.3.11/node_modules/vueuc/es/shared/finweck-tree.js","../../node_modules/.pnpm/vueuc@0.4.58_vue@3.3.11/node_modules/vueuc/es/virtual-list/src/config.js","../../node_modules/.pnpm/vueuc@0.4.58_vue@3.3.11/node_modules/vueuc/es/virtual-list/src/VirtualList.js","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_utils/composable/use-resize.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/icons/Checkmark.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/icons/Empty.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/focus-detector/src/FocusDetector.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/empty/styles/_common.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/empty/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/empty/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/empty/src/Empty.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/select-menu/styles/_common.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/select-menu/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/selection/styles/_common.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/selection/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/_internal/selection/src/Selection.mjs","../../node_modules/.pnpm/naive-ui@2.37.3_vue@3.3.11/node_modules/naive-ui/es/select/src/utils.mjs"],"sourcesContent":["export function getTitleAttribute(value) {\n  switch (typeof value) {\n    case 'string':\n      // The empty string should also be reset to undefined.\n      return value || undefined;\n    case 'number':\n      return String(value);\n    default:\n      return undefined;\n  }\n}","export function mergeEventHandlers(handlers) {\n  const filteredHandlers = handlers.filter(handler => handler !== undefined);\n  if (filteredHandlers.length === 0) return undefined;\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  if (filteredHandlers.length === 1) return filteredHandlers[0];\n  return e => {\n    handlers.forEach(handler => {\n      if (handler) {\n        handler(e);\n      }\n    });\n  };\n}","function lowBit(n) {\n    return n & -n;\n}\nexport class FinweckTree {\n    /**\n     * @param l length of the array\n     * @param min min value of the array\n     */\n    constructor(l, min) {\n        this.l = l;\n        this.min = min;\n        const ft = new Array(l + 1);\n        for (let i = 0; i < l + 1; ++i) {\n            ft[i] = 0;\n        }\n        this.ft = ft;\n    }\n    /**\n     * Add arr[i] by n, start from 0\n     * @param i the index of the element to be added\n     * @param n the value to be added\n     */\n    add(i, n) {\n        if (n === 0)\n            return;\n        const { l, ft } = this;\n        i += 1;\n        while (i <= l) {\n            ft[i] += n;\n            i += lowBit(i);\n        }\n    }\n    /**\n     * Get the value of index i\n     * @param i index\n     * @returns value of the index\n     */\n    get(i) {\n        return this.sum(i + 1) - this.sum(i);\n    }\n    /**\n     * Get the sum of first i elements\n     * @param i count of head elements to be added\n     * @returns the sum of first i elements\n     */\n    sum(i) {\n        if (i === undefined)\n            i = this.l;\n        if (i <= 0)\n            return 0;\n        const { ft, min, l } = this;\n        if (i > l)\n            throw new Error('[FinweckTree.sum]: `i` is larger than length.');\n        let ret = i * min;\n        while (i > 0) {\n            ret += ft[i];\n            i -= lowBit(i);\n        }\n        return ret;\n    }\n    /**\n     * Get the largest count of head elements whose sum are <= threshold\n     * @param threshold\n     * @returns the largest count of head elements whose sum are <= threshold\n     */\n    getBound(threshold) {\n        let l = 0;\n        let r = this.l;\n        while (r > l) {\n            const m = Math.floor((l + r) / 2);\n            const sumM = this.sum(m);\n            if (sumM > threshold) {\n                r = m;\n                continue;\n            }\n            else if (sumM < threshold) {\n                if (l === m) {\n                    if (this.sum(l + 1) <= threshold)\n                        return l + 1;\n                    return m;\n                }\n                l = m;\n            }\n            else {\n                return m;\n            }\n        }\n        return l;\n    }\n}\n","let maybeTouch;\nexport function ensureMaybeTouch() {\n    if (typeof document === 'undefined')\n        return false;\n    if (maybeTouch === undefined) {\n        if ('matchMedia' in window) {\n            maybeTouch = window.matchMedia('(pointer:coarse)').matches;\n        }\n        else {\n            maybeTouch = false;\n        }\n    }\n    return maybeTouch;\n}\nlet wheelScale;\nexport function ensureWheelScale() {\n    if (typeof document === 'undefined')\n        return 1;\n    if (wheelScale === undefined) {\n        wheelScale = 'chrome' in window ? window.devicePixelRatio : 1;\n    }\n    return wheelScale;\n}\n","/* eslint-disable no-void */\n/* eslint-disable @typescript-eslint/restrict-plus-operands */\nimport { mergeProps, computed, defineComponent, ref, onMounted, h, onActivated, onDeactivated } from 'vue';\nimport { beforeNextFrameOnce, depx, pxfy } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport VResizeObserver from '../../resize-observer/src/VResizeObserver';\nimport { c, cssrAnchorMetaName, FinweckTree } from '../../shared';\nimport { ensureMaybeTouch, ensureWheelScale } from './config';\nconst styles = c('.v-vl', {\n    maxHeight: 'inherit',\n    height: '100%',\n    overflow: 'auto',\n    minWidth: '1px' // a zero width container won't be scrollable\n}, [\n    c('&:not(.v-vl--show-scrollbar)', {\n        scrollbarWidth: 'none'\n    }, [\n        c('&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb', {\n            width: 0,\n            height: 0,\n            display: 'none'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'VirtualList',\n    inheritAttrs: false,\n    props: {\n        showScrollbar: {\n            type: Boolean,\n            default: true\n        },\n        items: {\n            type: Array,\n            default: () => []\n        },\n        // it is suppose to be the min height\n        itemSize: {\n            type: Number,\n            required: true\n        },\n        itemResizable: Boolean,\n        itemsStyle: [String, Object],\n        visibleItemsTag: {\n            type: [String, Object],\n            default: 'div'\n        },\n        visibleItemsProps: Object,\n        ignoreItemResize: Boolean,\n        onScroll: Function,\n        onWheel: Function,\n        onResize: Function,\n        defaultScrollKey: [Number, String],\n        defaultScrollIndex: Number,\n        keyField: {\n            type: String,\n            default: 'key'\n        },\n        // Whether it is a good API?\n        // ResizeObserver + footer & header is not enough.\n        // Too complex for simple case\n        paddingTop: {\n            type: [Number, String],\n            default: 0\n        },\n        paddingBottom: {\n            type: [Number, String],\n            default: 0\n        }\n    },\n    setup(props) {\n        const ssrAdapter = useSsrAdapter();\n        styles.mount({\n            id: 'vueuc/virtual-list',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(() => {\n            const { defaultScrollIndex, defaultScrollKey } = props;\n            if (defaultScrollIndex !== undefined && defaultScrollIndex !== null) {\n                scrollTo({ index: defaultScrollIndex });\n            }\n            else if (defaultScrollKey !== undefined && defaultScrollKey !== null) {\n                scrollTo({ key: defaultScrollKey });\n            }\n        });\n        let isDeactivated = false;\n        let activateStateInitialized = false;\n        onActivated(() => {\n            isDeactivated = false;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n                return;\n            }\n            // remount\n            scrollTo({ top: scrollTopRef.value, left: scrollLeft });\n        });\n        onDeactivated(() => {\n            isDeactivated = true;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n            }\n        });\n        const keyIndexMapRef = computed(() => {\n            const map = new Map();\n            const { keyField } = props;\n            props.items.forEach((item, index) => {\n                map.set(item[keyField], index);\n            });\n            return map;\n        });\n        const listElRef = ref(null);\n        const listHeightRef = ref(undefined);\n        const keyToHeightOffset = new Map();\n        const finweckTreeRef = computed(() => {\n            const { items, itemSize, keyField } = props;\n            const ft = new FinweckTree(items.length, itemSize);\n            items.forEach((item, index) => {\n                const key = item[keyField];\n                const heightOffset = keyToHeightOffset.get(key);\n                if (heightOffset !== undefined) {\n                    ft.add(index, heightOffset);\n                }\n            });\n            return ft;\n        });\n        const finweckTreeUpdateTrigger = ref(0);\n        let scrollLeft = 0;\n        const scrollTopRef = ref(0);\n        const startIndexRef = useMemo(() => {\n            return Math.max(finweckTreeRef.value.getBound(scrollTopRef.value - depx(props.paddingTop)) - 1, 0);\n        });\n        const viewportItemsRef = computed(() => {\n            const { value: listHeight } = listHeightRef;\n            if (listHeight === undefined)\n                return [];\n            const { items, itemSize } = props;\n            const startIndex = startIndexRef.value;\n            const endIndex = Math.min(startIndex + Math.ceil(listHeight / itemSize + 1), items.length - 1);\n            const viewportItems = [];\n            for (let i = startIndex; i <= endIndex; ++i) {\n                viewportItems.push(items[i]);\n            }\n            return viewportItems;\n        });\n        const scrollTo = (options, y) => {\n            if (typeof options === 'number') {\n                scrollToPosition(options, y, 'auto');\n                return;\n            }\n            const { left, top, index, key, position, behavior, debounce = true } = options;\n            if (left !== undefined || top !== undefined) {\n                scrollToPosition(left, top, behavior);\n            }\n            else if (index !== undefined) {\n                scrollToIndex(index, behavior, debounce);\n            }\n            else if (key !== undefined) {\n                const toIndex = keyIndexMapRef.value.get(key);\n                if (toIndex !== undefined)\n                    scrollToIndex(toIndex, behavior, debounce);\n            }\n            else if (position === 'bottom') {\n                scrollToPosition(0, Number.MAX_SAFE_INTEGER, behavior);\n            }\n            else if (position === 'top') {\n                scrollToPosition(0, 0, behavior);\n            }\n        };\n        let anchorIndex;\n        let anchorTimerId = null;\n        function scrollToIndex(index, behavior, debounce) {\n            const { value: ft } = finweckTreeRef;\n            const targetTop = ft.sum(index) + depx(props.paddingTop);\n            if (!debounce) {\n                listElRef.value.scrollTo({\n                    left: 0,\n                    top: targetTop,\n                    behavior\n                });\n            }\n            else {\n                anchorIndex = index;\n                if (anchorTimerId !== null) {\n                    window.clearTimeout(anchorTimerId);\n                }\n                anchorTimerId = window.setTimeout(() => {\n                    anchorIndex = undefined;\n                    anchorTimerId = null;\n                }, 16); // use 0 ms may be ealier than resize callback...\n                const { scrollTop, offsetHeight } = listElRef.value;\n                if (targetTop > scrollTop) {\n                    const itemSize = ft.get(index);\n                    if (targetTop + itemSize <= scrollTop + offsetHeight) {\n                        // do nothing\n                    }\n                    else {\n                        listElRef.value.scrollTo({\n                            left: 0,\n                            top: targetTop + itemSize - offsetHeight,\n                            behavior\n                        });\n                    }\n                }\n                else {\n                    listElRef.value.scrollTo({\n                        left: 0,\n                        top: targetTop,\n                        behavior\n                    });\n                }\n            }\n        }\n        function scrollToPosition(left, top, behavior) {\n            listElRef.value.scrollTo({\n                left,\n                top,\n                behavior\n            });\n        }\n        function handleItemResize(key, entry) {\n            var _a, _b, _c;\n            if (isDeactivated)\n                return;\n            if (props.ignoreItemResize)\n                return;\n            if (isHideByVShow(entry.target))\n                return;\n            const { value: ft } = finweckTreeRef;\n            const index = keyIndexMapRef.value.get(key);\n            const previousHeight = ft.get(index);\n            const height = (_c = (_b = (_a = entry.borderBoxSize) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.blockSize) !== null && _c !== void 0 ? _c : entry.contentRect.height;\n            if (height === previousHeight)\n                return;\n            // height offset based on itemSize\n            // used when rebuild the finweck tree\n            const offset = height - props.itemSize;\n            if (offset === 0) {\n                keyToHeightOffset.delete(key);\n            }\n            else {\n                keyToHeightOffset.set(key, height - props.itemSize);\n            }\n            // delta height based on finweck tree data\n            const delta = height - previousHeight;\n            if (delta === 0)\n                return;\n            ft.add(index, delta);\n            const listEl = listElRef.value;\n            if (listEl != null) {\n                if (anchorIndex === undefined) {\n                    const previousHeightSum = ft.sum(index);\n                    if (listEl.scrollTop > previousHeightSum) {\n                        listEl.scrollBy(0, delta);\n                    }\n                }\n                else {\n                    if (index < anchorIndex) {\n                        listEl.scrollBy(0, delta);\n                    }\n                    else if (index === anchorIndex) {\n                        const previousHeightSum = ft.sum(index);\n                        if (height + previousHeightSum >\n                            // Note, listEl shouldn't have border, nor offsetHeight won't be\n                            // correct\n                            listEl.scrollTop + listEl.offsetHeight) {\n                            listEl.scrollBy(0, delta);\n                        }\n                    }\n                }\n                syncViewport();\n            }\n            finweckTreeUpdateTrigger.value++;\n        }\n        const mayUseWheel = !ensureMaybeTouch();\n        let wheelCatched = false;\n        function handleListScroll(e) {\n            var _a;\n            (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (!mayUseWheel || !wheelCatched) {\n                syncViewport();\n            }\n        }\n        function handleListWheel(e) {\n            var _a;\n            (_a = props.onWheel) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (mayUseWheel) {\n                const listEl = listElRef.value;\n                if (listEl != null) {\n                    if (e.deltaX === 0) {\n                        if (listEl.scrollTop === 0 && e.deltaY <= 0) {\n                            return;\n                        }\n                        if (listEl.scrollTop + listEl.offsetHeight >= listEl.scrollHeight &&\n                            e.deltaY >= 0) {\n                            return;\n                        }\n                    }\n                    e.preventDefault();\n                    listEl.scrollTop += e.deltaY / ensureWheelScale();\n                    listEl.scrollLeft += e.deltaX / ensureWheelScale();\n                    syncViewport();\n                    wheelCatched = true;\n                    beforeNextFrameOnce(() => {\n                        wheelCatched = false;\n                    });\n                }\n            }\n        }\n        function handleListResize(entry) {\n            if (isDeactivated)\n                return;\n            // List is HTMLElement\n            if (isHideByVShow(entry.target))\n                return;\n            // If height is same, return\n            if (entry.contentRect.height === listHeightRef.value)\n                return;\n            listHeightRef.value = entry.contentRect.height;\n            const { onResize } = props;\n            if (onResize !== undefined)\n                onResize(entry);\n        }\n        function syncViewport() {\n            const { value: listEl } = listElRef;\n            // sometime ref el can be null\n            // https://github.com/TuSimple/naive-ui/issues/811\n            if (listEl == null)\n                return;\n            scrollTopRef.value = listEl.scrollTop;\n            scrollLeft = listEl.scrollLeft;\n        }\n        function isHideByVShow(el) {\n            let cursor = el;\n            while (cursor !== null) {\n                if (cursor.style.display === 'none')\n                    return true;\n                cursor = cursor.parentElement;\n            }\n            return false;\n        }\n        return {\n            listHeight: listHeightRef,\n            listStyle: {\n                overflow: 'auto'\n            },\n            keyToIndex: keyIndexMapRef,\n            itemsStyle: computed(() => {\n                const { itemResizable } = props;\n                const height = pxfy(finweckTreeRef.value.sum());\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return [\n                    props.itemsStyle,\n                    {\n                        boxSizing: 'content-box',\n                        height: itemResizable ? '' : height,\n                        minHeight: itemResizable ? height : '',\n                        paddingTop: pxfy(props.paddingTop),\n                        paddingBottom: pxfy(props.paddingBottom)\n                    }\n                ];\n            }),\n            visibleItemsStyle: computed(() => {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return {\n                    transform: `translateY(${pxfy(finweckTreeRef.value.sum(startIndexRef.value))})`\n                };\n            }),\n            viewportItems: viewportItemsRef,\n            listElRef,\n            itemsElRef: ref(null),\n            scrollTo,\n            handleListResize,\n            handleListScroll,\n            handleListWheel,\n            handleItemResize\n        };\n    },\n    render() {\n        const { itemResizable, keyField, keyToIndex, visibleItemsTag } = this;\n        return h(VResizeObserver, {\n            onResize: this.handleListResize\n        }, {\n            default: () => {\n                var _a, _b;\n                return h('div', mergeProps(this.$attrs, {\n                    class: ['v-vl', this.showScrollbar && 'v-vl--show-scrollbar'],\n                    onScroll: this.handleListScroll,\n                    onWheel: this.handleListWheel,\n                    ref: 'listElRef'\n                }), [\n                    this.items.length !== 0\n                        ? h('div', {\n                            ref: 'itemsElRef',\n                            class: 'v-vl-items',\n                            style: this.itemsStyle\n                        }, [\n                            h(visibleItemsTag, Object.assign({\n                                class: 'v-vl-visible-items',\n                                style: this.visibleItemsStyle\n                            }, this.visibleItemsProps), {\n                                default: () => this.viewportItems.map((item) => {\n                                    const key = item[keyField];\n                                    const index = keyToIndex.get(key);\n                                    const itemVNode = this.$slots.default({\n                                        item,\n                                        index\n                                    })[0];\n                                    if (itemResizable) {\n                                        return h(VResizeObserver, {\n                                            key,\n                                            onResize: (entry) => this.handleItemResize(key, entry)\n                                        }, {\n                                            default: () => itemVNode\n                                        });\n                                    }\n                                    itemVNode.key = key;\n                                    return itemVNode;\n                                })\n                            })\n                        ])\n                        : (_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)\n                ]);\n            }\n        });\n    }\n});\n","import { onBeforeUnmount, onMounted } from 'vue';\nimport { resizeObserverManager } from 'vueuc';\nexport function useOnResize(elRef, onResize) {\n  // it needn't be reactive since it's for internal usage\n  if (onResize) {\n    onMounted(() => {\n      const {\n        value: el\n      } = elRef;\n      if (el) {\n        resizeObserverManager.registerHandler(el, onResize);\n      }\n    });\n    onBeforeUnmount(() => {\n      const {\n        value: el\n      } = elRef;\n      if (el) {\n        resizeObserverManager.unregisterHandler(el);\n      }\n    });\n  }\n}","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n  name: 'Checkmark',\n  render() {\n    return h(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 16 16\"\n    }, h(\"g\", {\n      fill: \"none\"\n    }, h(\"path\", {\n      d: \"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z\",\n      fill: \"currentColor\"\n    })));\n  }\n});","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n  name: 'Empty',\n  render() {\n    return h(\"svg\", {\n      viewBox: \"0 0 28 28\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, h(\"path\", {\n      d: \"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z\",\n      fill: \"currentColor\"\n    }), h(\"path\", {\n      d: \"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z\",\n      fill: \"currentColor\"\n    }));\n  }\n});","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n  props: {\n    onFocus: Function,\n    onBlur: Function\n  },\n  setup(props) {\n    return () => h(\"div\", {\n      style: \"width: 0; height: 0\",\n      tabindex: 0,\n      onFocus: props.onFocus,\n      onBlur: props.onBlur\n    });\n  }\n});","export default {\n  iconSizeSmall: '34px',\n  iconSizeMedium: '40px',\n  iconSizeLarge: '46px',\n  iconSizeHuge: '52px'\n};","import commonVars from \"./_common.mjs\";\nimport { commonLight } from \"../../_styles/common/index.mjs\";\nexport const self = vars => {\n  const {\n    textColorDisabled,\n    iconColor,\n    textColor2,\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    fontSizeHuge\n  } = vars;\n  return Object.assign(Object.assign({}, commonVars), {\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    fontSizeHuge,\n    textColor: textColorDisabled,\n    iconColor,\n    extraTextColor: textColor2\n  });\n};\nconst emptyLight = {\n  name: 'Empty',\n  common: commonLight,\n  self\n};\nexport default emptyLight;","import { c, cB, cE } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-font-size\n// --n-icon-size\n// --n-icon-color\n// --n-bezier\n// --n-text-color\n// --n-extra-text-color\nexport default cB('empty', `\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n`, [cE('icon', `\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n `, [c('+', [cE('description', `\n margin-top: 8px;\n `)])]), cE('description', `\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n `), cE('extra', `\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n `)]);","import { h, defineComponent, computed, inject } from 'vue';\nimport { configProviderInjectionKey } from \"../../config-provider/src/context.mjs\";\nimport { NBaseIcon } from \"../../_internal/icon/index.mjs\";\nimport { EmptyIcon } from \"../../_internal/icons/index.mjs\";\nimport { useConfig, useLocale, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { createKey } from \"../../_utils/index.mjs\";\nimport { emptyLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const emptyProps = Object.assign(Object.assign({}, useTheme.props), {\n  description: String,\n  showDescription: {\n    type: Boolean,\n    default: true\n  },\n  showIcon: {\n    type: Boolean,\n    default: true\n  },\n  size: {\n    type: String,\n    default: 'medium'\n  },\n  renderIcon: Function\n});\nexport default defineComponent({\n  name: 'Empty',\n  props: emptyProps,\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Empty', '-empty', style, emptyLight, props, mergedClsPrefixRef);\n    const {\n      localeRef\n    } = useLocale('Empty');\n    const NConfigProvider = inject(configProviderInjectionKey, null);\n    const mergedDescriptionRef = computed(() => {\n      var _a, _b, _c;\n      return (_a = props.description) !== null && _a !== void 0 ? _a : (_c = (_b = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _b === void 0 ? void 0 : _b.Empty) === null || _c === void 0 ? void 0 : _c.description;\n    });\n    const mergedRenderIconRef = computed(() => {\n      var _a, _b;\n      return ((_b = (_a = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.Empty) === null || _b === void 0 ? void 0 : _b.renderIcon) || (() => h(EmptyIcon, null));\n    });\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          [createKey('iconSize', size)]: iconSize,\n          [createKey('fontSize', size)]: fontSize,\n          textColor,\n          iconColor,\n          extraTextColor\n        }\n      } = themeRef.value;\n      return {\n        '--n-icon-size': iconSize,\n        '--n-font-size': fontSize,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-text-color': textColor,\n        '--n-icon-color': iconColor,\n        '--n-extra-text-color': extraTextColor\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('empty', computed(() => {\n      let hash = '';\n      const {\n        size\n      } = props;\n      hash += size[0];\n      return hash;\n    }), cssVarsRef, props) : undefined;\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedRenderIcon: mergedRenderIconRef,\n      localizedDescription: computed(() => {\n        return mergedDescriptionRef.value || localeRef.value.description;\n      }),\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    const {\n      $slots,\n      mergedClsPrefix,\n      onRender\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-empty`, this.themeClass],\n      style: this.cssVars\n    }, this.showIcon ? h(\"div\", {\n      class: `${mergedClsPrefix}-empty__icon`\n    }, $slots.icon ? $slots.icon() : h(NBaseIcon, {\n      clsPrefix: mergedClsPrefix\n    }, {\n      default: this.mergedRenderIcon\n    })) : null, this.showDescription ? h(\"div\", {\n      class: `${mergedClsPrefix}-empty__description`\n    }, $slots.default ? $slots.default() : this.localizedDescription) : null, $slots.extra ? h(\"div\", {\n      class: `${mergedClsPrefix}-empty__extra`\n    }, $slots.extra()) : null);\n  }\n});","export default {\n  height: 'calc(var(--n-option-height) * 7.6)',\n  paddingSmall: '4px 0',\n  paddingMedium: '4px 0',\n  paddingLarge: '4px 0',\n  paddingHuge: '4px 0',\n  optionPaddingSmall: '0 12px',\n  optionPaddingMedium: '0 12px',\n  optionPaddingLarge: '0 12px',\n  optionPaddingHuge: '0 12px',\n  loadingSize: '18px'\n};","import { emptyLight } from \"../../../empty/styles/index.mjs\";\nimport { scrollbarLight } from \"../../scrollbar/styles/index.mjs\";\nimport { commonLight } from \"../../../_styles/common/index.mjs\";\nimport commonVariables from \"./_common.mjs\";\nimport { createTheme } from \"../../../_mixins/index.mjs\";\nexport const self = vars => {\n  const {\n    borderRadius,\n    popoverColor,\n    textColor3,\n    dividerColor,\n    textColor2,\n    primaryColorPressed,\n    textColorDisabled,\n    primaryColor,\n    opacityDisabled,\n    hoverColor,\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    fontSizeHuge,\n    heightSmall,\n    heightMedium,\n    heightLarge,\n    heightHuge\n  } = vars;\n  return Object.assign(Object.assign({}, commonVariables), {\n    optionFontSizeSmall: fontSizeSmall,\n    optionFontSizeMedium: fontSizeMedium,\n    optionFontSizeLarge: fontSizeLarge,\n    optionFontSizeHuge: fontSizeHuge,\n    optionHeightSmall: heightSmall,\n    optionHeightMedium: heightMedium,\n    optionHeightLarge: heightLarge,\n    optionHeightHuge: heightHuge,\n    borderRadius,\n    color: popoverColor,\n    groupHeaderTextColor: textColor3,\n    actionDividerColor: dividerColor,\n    optionTextColor: textColor2,\n    optionTextColorPressed: primaryColorPressed,\n    optionTextColorDisabled: textColorDisabled,\n    optionTextColorActive: primaryColor,\n    optionOpacityDisabled: opacityDisabled,\n    optionCheckColor: primaryColor,\n    optionColorPending: hoverColor,\n    optionColorActive: 'rgba(0, 0, 0, 0)',\n    optionColorActivePending: hoverColor,\n    actionTextColor: textColor2,\n    loadingColor: primaryColor\n  });\n};\nconst internalSelectMenuLight = createTheme({\n  name: 'InternalSelectMenu',\n  common: commonLight,\n  peers: {\n    Scrollbar: scrollbarLight,\n    Empty: emptyLight\n  },\n  self\n});\nexport default internalSelectMenuLight;","import { h, inject, defineComponent, Transition } from 'vue';\nimport { useMemo } from 'vooks';\nimport { render, mergeEventHandlers } from \"../../../_utils/index.mjs\";\nimport { CheckmarkIcon } from \"../../icons/index.mjs\";\nimport { NBaseIcon } from \"../../icon/index.mjs\";\nimport { internalSelectionMenuInjectionKey } from \"./interface.mjs\";\nfunction renderCheckMark(show, clsPrefix) {\n  return h(Transition, {\n    name: \"fade-in-scale-up-transition\"\n  }, {\n    default: () => show ? h(NBaseIcon, {\n      clsPrefix: clsPrefix,\n      class: `${clsPrefix}-base-select-option__check`\n    }, {\n      default: () => h(CheckmarkIcon)\n    }) : null\n  });\n}\nexport default defineComponent({\n  name: 'NBaseSelectOption',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    tmNode: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      valueRef,\n      pendingTmNodeRef,\n      multipleRef,\n      valueSetRef,\n      renderLabelRef,\n      renderOptionRef,\n      labelFieldRef,\n      valueFieldRef,\n      showCheckmarkRef,\n      nodePropsRef,\n      handleOptionClick,\n      handleOptionMouseEnter\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(internalSelectionMenuInjectionKey);\n    const isPendingRef = useMemo(() => {\n      const {\n        value: pendingTmNode\n      } = pendingTmNodeRef;\n      if (!pendingTmNode) return false;\n      return props.tmNode.key === pendingTmNode.key;\n    });\n    function handleClick(e) {\n      const {\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      handleOptionClick(e, tmNode);\n    }\n    function handleMouseEnter(e) {\n      const {\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      handleOptionMouseEnter(e, tmNode);\n    }\n    function handleMouseMove(e) {\n      const {\n        tmNode\n      } = props;\n      const {\n        value: isPending\n      } = isPendingRef;\n      if (tmNode.disabled || isPending) return;\n      handleOptionMouseEnter(e, tmNode);\n    }\n    return {\n      multiple: multipleRef,\n      isGrouped: useMemo(() => {\n        const {\n          tmNode\n        } = props;\n        const {\n          parent\n        } = tmNode;\n        return parent && parent.rawNode.type === 'group';\n      }),\n      showCheckmark: showCheckmarkRef,\n      nodeProps: nodePropsRef,\n      isPending: isPendingRef,\n      isSelected: useMemo(() => {\n        const {\n          value\n        } = valueRef;\n        const {\n          value: multiple\n        } = multipleRef;\n        if (value === null) return false;\n        const optionValue = props.tmNode.rawNode[valueFieldRef.value];\n        if (multiple) {\n          const {\n            value: valueSet\n          } = valueSetRef;\n          return valueSet.has(optionValue);\n        } else {\n          return value === optionValue;\n        }\n      }),\n      labelField: labelFieldRef,\n      renderLabel: renderLabelRef,\n      renderOption: renderOptionRef,\n      handleMouseMove,\n      handleMouseEnter,\n      handleClick\n    };\n  },\n  render() {\n    const {\n      clsPrefix,\n      tmNode: {\n        rawNode\n      },\n      isSelected,\n      isPending,\n      isGrouped,\n      showCheckmark,\n      nodeProps,\n      renderOption,\n      renderLabel,\n      handleClick,\n      handleMouseEnter,\n      handleMouseMove\n    } = this;\n    const checkmark = renderCheckMark(isSelected, clsPrefix);\n    const children = renderLabel ? [renderLabel(rawNode, isSelected), showCheckmark && checkmark] : [render(rawNode[this.labelField], rawNode, isSelected), showCheckmark && checkmark];\n    const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n    const node = h(\"div\", Object.assign({}, attrs, {\n      class: [`${clsPrefix}-base-select-option`, rawNode.class, attrs === null || attrs === void 0 ? void 0 : attrs.class, {\n        [`${clsPrefix}-base-select-option--disabled`]: rawNode.disabled,\n        [`${clsPrefix}-base-select-option--selected`]: isSelected,\n        [`${clsPrefix}-base-select-option--grouped`]: isGrouped,\n        [`${clsPrefix}-base-select-option--pending`]: isPending,\n        [`${clsPrefix}-base-select-option--show-checkmark`]: showCheckmark\n      }],\n      style: [(attrs === null || attrs === void 0 ? void 0 : attrs.style) || '', rawNode.style || ''],\n      onClick: mergeEventHandlers([handleClick, attrs === null || attrs === void 0 ? void 0 : attrs.onClick]),\n      onMouseenter: mergeEventHandlers([handleMouseEnter, attrs === null || attrs === void 0 ? void 0 : attrs.onMouseenter]),\n      onMousemove: mergeEventHandlers([handleMouseMove, attrs === null || attrs === void 0 ? void 0 : attrs.onMousemove])\n    }), h(\"div\", {\n      class: `${clsPrefix}-base-select-option__content`\n    }, children));\n    return rawNode.render ? rawNode.render({\n      node,\n      option: rawNode,\n      selected: isSelected\n    }) : renderOption ? renderOption({\n      node,\n      option: rawNode,\n      selected: isSelected\n    }) : node;\n  }\n});","import { h, defineComponent, inject } from 'vue';\nimport { render } from \"../../../_utils/index.mjs\";\nimport { internalSelectionMenuInjectionKey } from \"./interface.mjs\";\nexport default defineComponent({\n  name: 'NBaseSelectGroupHeader',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    tmNode: {\n      type: Object,\n      required: true\n    }\n  },\n  setup() {\n    const {\n      renderLabelRef,\n      renderOptionRef,\n      labelFieldRef,\n      nodePropsRef\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    } = inject(internalSelectionMenuInjectionKey);\n    return {\n      labelField: labelFieldRef,\n      nodeProps: nodePropsRef,\n      renderLabel: renderLabelRef,\n      renderOption: renderOptionRef\n    };\n  },\n  render() {\n    const {\n      clsPrefix,\n      renderLabel,\n      renderOption,\n      nodeProps,\n      tmNode: {\n        rawNode\n      }\n    } = this;\n    const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n    const children = renderLabel ? renderLabel(rawNode, false) : render(rawNode[this.labelField], rawNode, false);\n    const node = h(\"div\", Object.assign({}, attrs, {\n      class: [`${clsPrefix}-base-select-group-header`, attrs === null || attrs === void 0 ? void 0 : attrs.class]\n    }), children);\n    return rawNode.render ? rawNode.render({\n      node,\n      option: rawNode\n    }) : renderOption ? renderOption({\n      node,\n      option: rawNode,\n      selected: false\n    }) : node;\n  }\n});","import { c, cB, cE, cM, cNotM } from \"../../../../_utils/cssr/index.mjs\";\nimport { fadeInScaleUpTransition } from \"../../../../_styles/transitions/fade-in-scale-up.cssr.mjs\";\n// --n-loading-color\n// --n-loading-size\n// --n-option-padding-right\nexport default cB('base-select-menu', `\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n`, [cB('scrollbar', `\n max-height: var(--n-height);\n `), cB('virtual-list', `\n max-height: var(--n-height);\n `), cB('base-select-option', `\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n `, [cE('content', `\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n `)]), cB('base-select-group-header', `\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n `), cB('base-select-menu-option-wrapper', `\n position: relative;\n width: 100%;\n `), cE('loading, empty', `\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n `), cE('loading', `\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n `), cE('header', `\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n `), cE('action', `\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n `), cB('base-select-group-header', `\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n `), cB('base-select-option', `\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n `, [cM('show-checkmark', `\n padding-right: calc(var(--n-option-padding-right) + 20px);\n `), c('&::before', `\n content: \"\";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n `), c('&:active', `\n color: var(--n-option-text-color-pressed);\n `), cM('grouped', `\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-pending);\n `)]), cM('selected', `\n color: var(--n-option-text-color-active);\n `, [c('&::before', `\n background-color: var(--n-option-color-active);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-active-pending);\n `)])]), cM('disabled', `\n cursor: not-allowed;\n `, [cNotM('selected', `\n color: var(--n-option-text-color-disabled);\n `), cM('selected', `\n opacity: var(--n-option-opacity-disabled);\n `)]), cE('check', `\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n `, [fadeInScaleUpTransition({\n  enterScale: '0.5'\n})])])]);","import { h, ref, onMounted, computed, defineComponent, toRef, provide, nextTick, watch, onBeforeUnmount } from 'vue';\nimport { createIndexGetter } from 'treemate';\nimport { VirtualList } from 'vueuc';\nimport { depx, getPadding, happensIn } from 'seemly';\nimport { NEmpty } from \"../../../empty/index.mjs\";\nimport { NScrollbar } from \"../../scrollbar/index.mjs\";\nimport { resolveSlot, resolveWrappedSlot, useOnResize } from \"../../../_utils/index.mjs\";\nimport { createKey } from \"../../../_utils/cssr/index.mjs\";\nimport { useThemeClass, useTheme, useRtl, useConfig } from \"../../../_mixins/index.mjs\";\nimport NInternalLoading from \"../../loading/index.mjs\";\nimport NFocusDetector from \"../../focus-detector/index.mjs\";\nimport { internalSelectMenuLight } from \"../styles/index.mjs\";\nimport NSelectOption from \"./SelectOption.mjs\";\nimport NSelectGroupHeader from \"./SelectGroupHeader.mjs\";\nimport { internalSelectionMenuInjectionKey, internalSelectionMenuBodyInjectionKey } from \"./interface.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport default defineComponent({\n  name: 'InternalSelectMenu',\n  props: Object.assign(Object.assign({}, useTheme.props), {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    scrollable: {\n      type: Boolean,\n      default: true\n    },\n    treeMate: {\n      type: Object,\n      required: true\n    },\n    multiple: Boolean,\n    size: {\n      type: String,\n      default: 'medium'\n    },\n    value: {\n      type: [String, Number, Array],\n      default: null\n    },\n    autoPending: Boolean,\n    virtualScroll: {\n      type: Boolean,\n      default: true\n    },\n    // show is used to toggle pending state initialization\n    show: {\n      type: Boolean,\n      default: true\n    },\n    labelField: {\n      type: String,\n      default: 'label'\n    },\n    valueField: {\n      type: String,\n      default: 'value'\n    },\n    loading: Boolean,\n    focusable: Boolean,\n    renderLabel: Function,\n    renderOption: Function,\n    nodeProps: Function,\n    showCheckmark: {\n      type: Boolean,\n      default: true\n    },\n    onMousedown: Function,\n    onScroll: Function,\n    onFocus: Function,\n    onBlur: Function,\n    onKeyup: Function,\n    onKeydown: Function,\n    onTabOut: Function,\n    onMouseenter: Function,\n    onMouseleave: Function,\n    onResize: Function,\n    resetMenuOnOptionsChange: {\n      type: Boolean,\n      default: true\n    },\n    inlineThemeDisabled: Boolean,\n    // deprecated\n    onToggle: Function\n  }),\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      mergedRtlRef\n    } = useConfig(props);\n    const rtlEnabledRef = useRtl('InternalSelectMenu', mergedRtlRef, mergedClsPrefixRef);\n    const themeRef = useTheme('InternalSelectMenu', '-internal-select-menu', style, internalSelectMenuLight, props, toRef(props, 'clsPrefix'));\n    const selfRef = ref(null);\n    const virtualListRef = ref(null);\n    const scrollbarRef = ref(null);\n    const flattenedNodesRef = computed(() => props.treeMate.getFlattenedNodes());\n    const fIndexGetterRef = computed(() => createIndexGetter(flattenedNodesRef.value));\n    const pendingNodeRef = ref(null);\n    function initPendingNode() {\n      const {\n        treeMate\n      } = props;\n      let defaultPendingNode = null;\n      const {\n        value\n      } = props;\n      if (value === null) {\n        defaultPendingNode = treeMate.getFirstAvailableNode();\n      } else {\n        if (props.multiple) {\n          defaultPendingNode = treeMate.getNode((value || [])[(value || []).length - 1]);\n        } else {\n          defaultPendingNode = treeMate.getNode(value);\n        }\n        if (!defaultPendingNode || defaultPendingNode.disabled) {\n          defaultPendingNode = treeMate.getFirstAvailableNode();\n        }\n      }\n      if (defaultPendingNode) {\n        setPendingTmNode(defaultPendingNode);\n      } else {\n        setPendingTmNode(null);\n      }\n    }\n    function clearPendingNodeIfInvalid() {\n      const {\n        value: pendingNode\n      } = pendingNodeRef;\n      if (pendingNode && !props.treeMate.getNode(pendingNode.key)) {\n        pendingNodeRef.value = null;\n      }\n    }\n    let initPendingNodeWatchStopHandle;\n    watch(() => props.show, show => {\n      if (show) {\n        initPendingNodeWatchStopHandle = watch(() => props.treeMate, () => {\n          if (props.resetMenuOnOptionsChange) {\n            if (props.autoPending) {\n              initPendingNode();\n            } else {\n              clearPendingNodeIfInvalid();\n            }\n            void nextTick(scrollToPendingNode);\n          } else {\n            clearPendingNodeIfInvalid();\n          }\n        }, {\n          immediate: true\n        });\n      } else {\n        initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n      }\n    }, {\n      immediate: true\n    });\n    onBeforeUnmount(() => {\n      initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n    });\n    const itemSizeRef = computed(() => {\n      return depx(themeRef.value.self[createKey('optionHeight', props.size)]);\n    });\n    const paddingRef = computed(() => {\n      return getPadding(themeRef.value.self[createKey('padding', props.size)]);\n    });\n    const valueSetRef = computed(() => {\n      if (props.multiple && Array.isArray(props.value)) {\n        return new Set(props.value);\n      }\n      return new Set();\n    });\n    const emptyRef = computed(() => {\n      const tmNodes = flattenedNodesRef.value;\n      return tmNodes && tmNodes.length === 0;\n    });\n    function doToggle(tmNode) {\n      const {\n        onToggle\n      } = props;\n      if (onToggle) onToggle(tmNode);\n    }\n    function doScroll(e) {\n      const {\n        onScroll\n      } = props;\n      if (onScroll) onScroll(e);\n    }\n    // required, scroller sync need to be triggered manually\n    function handleVirtualListScroll(e) {\n      var _a;\n      (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n      doScroll(e);\n    }\n    function handleVirtualListResize() {\n      var _a;\n      (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n    }\n    function getPendingTmNode() {\n      const {\n        value: pendingTmNode\n      } = pendingNodeRef;\n      if (pendingTmNode) return pendingTmNode;\n      return null;\n    }\n    function handleOptionMouseEnter(e, tmNode) {\n      if (tmNode.disabled) return;\n      setPendingTmNode(tmNode, false);\n    }\n    function handleOptionClick(e, tmNode) {\n      if (tmNode.disabled) return;\n      doToggle(tmNode);\n    }\n    // keyboard related methods\n    function handleKeyUp(e) {\n      var _a;\n      if (happensIn(e, 'action')) return;\n      (_a = props.onKeyup) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handleKeyDown(e) {\n      var _a;\n      if (happensIn(e, 'action')) return;\n      (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handleMouseDown(e) {\n      var _a;\n      (_a = props.onMousedown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n      if (props.focusable) return;\n      e.preventDefault();\n    }\n    function next() {\n      const {\n        value: pendingTmNode\n      } = pendingNodeRef;\n      if (pendingTmNode) {\n        setPendingTmNode(pendingTmNode.getNext({\n          loop: true\n        }), true);\n      }\n    }\n    function prev() {\n      const {\n        value: pendingTmNode\n      } = pendingNodeRef;\n      if (pendingTmNode) {\n        setPendingTmNode(pendingTmNode.getPrev({\n          loop: true\n        }), true);\n      }\n    }\n    function setPendingTmNode(tmNode, doScroll = false) {\n      pendingNodeRef.value = tmNode;\n      if (doScroll) scrollToPendingNode();\n    }\n    function scrollToPendingNode() {\n      var _a, _b;\n      const tmNode = pendingNodeRef.value;\n      if (!tmNode) return;\n      const fIndex = fIndexGetterRef.value(tmNode.key);\n      if (fIndex === null) return;\n      if (props.virtualScroll) {\n        (_a = virtualListRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({\n          index: fIndex\n        });\n      } else {\n        (_b = scrollbarRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo({\n          index: fIndex,\n          elSize: itemSizeRef.value\n        });\n      }\n    }\n    function handleFocusin(e) {\n      var _a, _b;\n      if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.target)) {\n        (_b = props.onFocus) === null || _b === void 0 ? void 0 : _b.call(props, e);\n      }\n    }\n    function handleFocusout(e) {\n      var _a, _b;\n      if (!((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n        (_b = props.onBlur) === null || _b === void 0 ? void 0 : _b.call(props, e);\n      }\n    }\n    provide(internalSelectionMenuInjectionKey, {\n      handleOptionMouseEnter,\n      handleOptionClick,\n      valueSetRef,\n      pendingTmNodeRef: pendingNodeRef,\n      nodePropsRef: toRef(props, 'nodeProps'),\n      showCheckmarkRef: toRef(props, 'showCheckmark'),\n      multipleRef: toRef(props, 'multiple'),\n      valueRef: toRef(props, 'value'),\n      renderLabelRef: toRef(props, 'renderLabel'),\n      renderOptionRef: toRef(props, 'renderOption'),\n      labelFieldRef: toRef(props, 'labelField'),\n      valueFieldRef: toRef(props, 'valueField')\n    });\n    provide(internalSelectionMenuBodyInjectionKey, selfRef);\n    onMounted(() => {\n      const {\n        value\n      } = scrollbarRef;\n      if (value) value.sync();\n    });\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          height,\n          borderRadius,\n          color,\n          groupHeaderTextColor,\n          actionDividerColor,\n          optionTextColorPressed,\n          optionTextColor,\n          optionTextColorDisabled,\n          optionTextColorActive,\n          optionOpacityDisabled,\n          optionCheckColor,\n          actionTextColor,\n          optionColorPending,\n          optionColorActive,\n          loadingColor,\n          loadingSize,\n          optionColorActivePending,\n          [createKey('optionFontSize', size)]: fontSize,\n          [createKey('optionHeight', size)]: optionHeight,\n          [createKey('optionPadding', size)]: optionPadding\n        }\n      } = themeRef.value;\n      return {\n        '--n-height': height,\n        '--n-action-divider-color': actionDividerColor,\n        '--n-action-text-color': actionTextColor,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border-radius': borderRadius,\n        '--n-color': color,\n        '--n-option-font-size': fontSize,\n        '--n-group-header-text-color': groupHeaderTextColor,\n        '--n-option-check-color': optionCheckColor,\n        '--n-option-color-pending': optionColorPending,\n        '--n-option-color-active': optionColorActive,\n        '--n-option-color-active-pending': optionColorActivePending,\n        '--n-option-height': optionHeight,\n        '--n-option-opacity-disabled': optionOpacityDisabled,\n        '--n-option-text-color': optionTextColor,\n        '--n-option-text-color-active': optionTextColorActive,\n        '--n-option-text-color-disabled': optionTextColorDisabled,\n        '--n-option-text-color-pressed': optionTextColorPressed,\n        '--n-option-padding': optionPadding,\n        '--n-option-padding-left': getPadding(optionPadding, 'left'),\n        '--n-option-padding-right': getPadding(optionPadding, 'right'),\n        '--n-loading-color': loadingColor,\n        '--n-loading-size': loadingSize\n      };\n    });\n    const {\n      inlineThemeDisabled\n    } = props;\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('internal-select-menu', computed(() => props.size[0]), cssVarsRef, props) : undefined;\n    const exposedProps = {\n      selfRef,\n      next,\n      prev,\n      getPendingTmNode\n    };\n    useOnResize(selfRef, props.onResize);\n    return Object.assign({\n      mergedTheme: themeRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      rtlEnabled: rtlEnabledRef,\n      virtualListRef,\n      scrollbarRef,\n      itemSize: itemSizeRef,\n      padding: paddingRef,\n      flattenedNodes: flattenedNodesRef,\n      empty: emptyRef,\n      virtualListContainer() {\n        const {\n          value\n        } = virtualListRef;\n        return value === null || value === void 0 ? void 0 : value.listElRef;\n      },\n      virtualListContent() {\n        const {\n          value\n        } = virtualListRef;\n        return value === null || value === void 0 ? void 0 : value.itemsElRef;\n      },\n      doScroll,\n      handleFocusin,\n      handleFocusout,\n      handleKeyUp,\n      handleKeyDown,\n      handleMouseDown,\n      handleVirtualListResize,\n      handleVirtualListScroll,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    }, exposedProps);\n  },\n  render() {\n    const {\n      $slots,\n      virtualScroll,\n      clsPrefix,\n      mergedTheme,\n      themeClass,\n      onRender\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      ref: \"selfRef\",\n      tabindex: this.focusable ? 0 : -1,\n      class: [`${clsPrefix}-base-select-menu`, this.rtlEnabled && `${clsPrefix}-base-select-menu--rtl`, themeClass, this.multiple && `${clsPrefix}-base-select-menu--multiple`],\n      style: this.cssVars,\n      onFocusin: this.handleFocusin,\n      onFocusout: this.handleFocusout,\n      onKeyup: this.handleKeyUp,\n      onKeydown: this.handleKeyDown,\n      onMousedown: this.handleMouseDown,\n      onMouseenter: this.onMouseenter,\n      onMouseleave: this.onMouseleave\n    }, resolveWrappedSlot($slots.header, children => children && h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__header`,\n      \"data-header\": true,\n      key: \"header\"\n    }, children)), this.loading ? h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__loading`\n    }, h(NInternalLoading, {\n      clsPrefix: clsPrefix,\n      strokeWidth: 20\n    })) : !this.empty ? h(NScrollbar, {\n      ref: \"scrollbarRef\",\n      theme: mergedTheme.peers.Scrollbar,\n      themeOverrides: mergedTheme.peerOverrides.Scrollbar,\n      scrollable: this.scrollable,\n      container: virtualScroll ? this.virtualListContainer : undefined,\n      content: virtualScroll ? this.virtualListContent : undefined,\n      onScroll: virtualScroll ? undefined : this.doScroll\n    }, {\n      default: () => {\n        return virtualScroll ? h(VirtualList, {\n          ref: \"virtualListRef\",\n          class: `${clsPrefix}-virtual-list`,\n          items: this.flattenedNodes,\n          itemSize: this.itemSize,\n          showScrollbar: false,\n          paddingTop: this.padding.top,\n          paddingBottom: this.padding.bottom,\n          onResize: this.handleVirtualListResize,\n          onScroll: this.handleVirtualListScroll,\n          itemResizable: true\n        }, {\n          default: ({\n            item: tmNode\n          }) => {\n            return tmNode.isGroup ? h(NSelectGroupHeader, {\n              key: tmNode.key,\n              clsPrefix: clsPrefix,\n              tmNode: tmNode\n            }) : tmNode.ignored ? null : h(NSelectOption, {\n              clsPrefix: clsPrefix,\n              key: tmNode.key,\n              tmNode: tmNode\n            });\n          }\n        }) : h(\"div\", {\n          class: `${clsPrefix}-base-select-menu-option-wrapper`,\n          style: {\n            paddingTop: this.padding.top,\n            paddingBottom: this.padding.bottom\n          }\n        }, this.flattenedNodes.map(tmNode => tmNode.isGroup ? h(NSelectGroupHeader, {\n          key: tmNode.key,\n          clsPrefix: clsPrefix,\n          tmNode: tmNode\n        }) : h(NSelectOption, {\n          clsPrefix: clsPrefix,\n          key: tmNode.key,\n          tmNode: tmNode\n        })));\n      }\n    }) : h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__empty`,\n      \"data-empty\": true\n    }, resolveSlot($slots.empty, () => [h(NEmpty, {\n      theme: mergedTheme.peers.Empty,\n      themeOverrides: mergedTheme.peerOverrides.Empty\n    })])), resolveWrappedSlot($slots.action, children => children && [h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__action`,\n      \"data-action\": true,\n      key: \"action\"\n    }, children), h(NFocusDetector, {\n      onFocus: this.onTabOut,\n      key: \"focus-detector\"\n    })]));\n  }\n});","export default {\n  paddingSingle: '0 26px 0 12px',\n  paddingMultiple: '3px 26px 0 12px',\n  clearSize: '16px',\n  arrowSize: '16px'\n};","import { changeColor } from 'seemly';\nimport { commonLight } from \"../../../_styles/common/index.mjs\";\nimport { popoverLight } from \"../../../popover/styles/index.mjs\";\nimport commonVariables from \"./_common.mjs\";\nimport { createTheme } from \"../../../_mixins/index.mjs\";\nconst self = vars => {\n  const {\n    borderRadius,\n    textColor2,\n    textColorDisabled,\n    inputColor,\n    inputColorDisabled,\n    primaryColor,\n    primaryColorHover,\n    warningColor,\n    warningColorHover,\n    errorColor,\n    errorColorHover,\n    borderColor,\n    iconColor,\n    iconColorDisabled,\n    clearColor,\n    clearColorHover,\n    clearColorPressed,\n    placeholderColor,\n    placeholderColorDisabled,\n    fontSizeTiny,\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    heightTiny,\n    heightSmall,\n    heightMedium,\n    heightLarge\n  } = vars;\n  return Object.assign(Object.assign({}, commonVariables), {\n    fontSizeTiny,\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    heightTiny,\n    heightSmall,\n    heightMedium,\n    heightLarge,\n    borderRadius,\n    // default\n    textColor: textColor2,\n    textColorDisabled,\n    placeholderColor,\n    placeholderColorDisabled,\n    color: inputColor,\n    colorDisabled: inputColorDisabled,\n    colorActive: inputColor,\n    border: `1px solid ${borderColor}`,\n    borderHover: `1px solid ${primaryColorHover}`,\n    borderActive: `1px solid ${primaryColor}`,\n    borderFocus: `1px solid ${primaryColorHover}`,\n    boxShadowHover: 'none',\n    boxShadowActive: `0 0 0 2px ${changeColor(primaryColor, {\n      alpha: 0.2\n    })}`,\n    boxShadowFocus: `0 0 0 2px ${changeColor(primaryColor, {\n      alpha: 0.2\n    })}`,\n    caretColor: primaryColor,\n    arrowColor: iconColor,\n    arrowColorDisabled: iconColorDisabled,\n    loadingColor: primaryColor,\n    // warning\n    borderWarning: `1px solid ${warningColor}`,\n    borderHoverWarning: `1px solid ${warningColorHover}`,\n    borderActiveWarning: `1px solid ${warningColor}`,\n    borderFocusWarning: `1px solid ${warningColorHover}`,\n    boxShadowHoverWarning: 'none',\n    boxShadowActiveWarning: `0 0 0 2px ${changeColor(warningColor, {\n      alpha: 0.2\n    })}`,\n    boxShadowFocusWarning: `0 0 0 2px ${changeColor(warningColor, {\n      alpha: 0.2\n    })}`,\n    colorActiveWarning: inputColor,\n    caretColorWarning: warningColor,\n    // error\n    borderError: `1px solid ${errorColor}`,\n    borderHoverError: `1px solid ${errorColorHover}`,\n    borderActiveError: `1px solid ${errorColor}`,\n    borderFocusError: `1px solid ${errorColorHover}`,\n    boxShadowHoverError: 'none',\n    boxShadowActiveError: `0 0 0 2px ${changeColor(errorColor, {\n      alpha: 0.2\n    })}`,\n    boxShadowFocusError: `0 0 0 2px ${changeColor(errorColor, {\n      alpha: 0.2\n    })}`,\n    colorActiveError: inputColor,\n    caretColorError: errorColor,\n    clearColor,\n    clearColorHover,\n    clearColorPressed\n  });\n};\nconst internalSelectionLight = createTheme({\n  name: 'InternalSelection',\n  common: commonLight,\n  peers: {\n    Popover: popoverLight\n  },\n  self\n});\nexport default internalSelectionLight;","import { c, cB, cE, cM, cNotM } from \"../../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-bezier\n// --n-border\n// --n-border-active\n// --n-border-focus\n// --n-border-hover\n// --n-border-radius\n// --n-box-shadow-active\n// --n-box-shadow-focus\n// --n-box-shadow-hover\n// --n-caret-color\n// --n-color\n// --n-color-active\n// --n-color-disabled\n// --n-font-size\n// --n-height\n// --n-padding-single\n// --n-padding-multiple\n// --n-placeholder-color\n// --n-placeholder-color-disabled\n// --n-text-color\n// --n-text-color-disabled\n// --n-arrow-color\n// --n-arrow-size\n// --n-loading-color\n// ...clear vars\n// ...form item vars\nexport default c([cB('base-selection', `\n --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);\n --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n `, [cB('base-loading', `\n color: var(--n-loading-color);\n `), cB('base-selection-tags', 'min-height: var(--n-height);'), cE('border, state-border', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n `), cE('state-border', `\n z-index: 1;\n border-color: #0000;\n `), cB('base-suffix', `\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n `, [cE('arrow', `\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n `)]), cB('base-selection-overlay', `\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n `, [cE('wrapper', `\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n `)]), cB('base-selection-placeholder', `\n color: var(--n-placeholder-color);\n `, [cE('inner', `\n max-width: 100%;\n overflow: hidden;\n `)]), cB('base-selection-tags', `\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n `), cB('base-selection-label', `\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n `, [cB('base-selection-input', `\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n `, [cE('content', `\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n `)]), cE('render-label', `\n color: var(--n-text-color);\n `)]), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n `)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n `), cB('base-selection-label', 'background-color: var(--n-color-active);'), cB('base-selection-tags', 'background-color: var(--n-color-active);')])]), cM('disabled', 'cursor: not-allowed;', [cE('arrow', `\n color: var(--n-arrow-color-disabled);\n `), cB('base-selection-label', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `, [cB('base-selection-input', `\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n `), cE('render-label', `\n color: var(--n-text-color-disabled);\n `)]), cB('base-selection-tags', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `), cB('base-selection-placeholder', `\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n `)]), cB('base-selection-input-tag', `\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n `, [cE('input', `\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n `), cE('mirror', `\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n `)]), ['warning', 'error'].map(status => cM(`${status}-status`, [cE('state-border', `border: var(--n-border-${status});`), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover-${status});\n border: var(--n-border-hover-${status});\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active-${status});\n border: var(--n-border-active-${status});\n `), cB('base-selection-label', `background-color: var(--n-color-active-${status});`), cB('base-selection-tags', `background-color: var(--n-color-active-${status});`)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus-${status});\n border: var(--n-border-focus-${status});\n `)])])]))]), cB('base-selection-popover', `\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n `), cB('base-selection-tag-wrapper', `\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n `, [c('&:last-child', 'padding-right: 0;'), cB('tag', `\n font-size: 14px;\n max-width: 100%;\n `, [cE('content', `\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n `)])])]);","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, Fragment, ref, computed, watch, toRef, nextTick, watchEffect, onMounted } from 'vue';\nimport { VOverflow } from 'vueuc';\nimport { NPopover } from \"../../../popover/index.mjs\";\nimport { NTag } from \"../../../tag/index.mjs\";\nimport { useThemeClass, useTheme, useRtl, useConfig } from \"../../../_mixins/index.mjs\";\nimport { createKey, getTitleAttribute, render, useOnResize, Wrapper } from \"../../../_utils/index.mjs\";\nimport Suffix from \"../../suffix/index.mjs\";\nimport { internalSelectionLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nimport { getPadding } from 'seemly';\nexport default defineComponent({\n  name: 'InternalSelection',\n  props: Object.assign(Object.assign({}, useTheme.props), {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    bordered: {\n      type: Boolean,\n      default: undefined\n    },\n    active: Boolean,\n    pattern: {\n      type: String,\n      default: ''\n    },\n    placeholder: String,\n    selectedOption: {\n      type: Object,\n      default: null\n    },\n    selectedOptions: {\n      type: Array,\n      default: null\n    },\n    labelField: {\n      type: String,\n      default: 'label'\n    },\n    valueField: {\n      type: String,\n      default: 'value'\n    },\n    multiple: Boolean,\n    filterable: Boolean,\n    clearable: Boolean,\n    disabled: Boolean,\n    size: {\n      type: String,\n      default: 'medium'\n    },\n    loading: Boolean,\n    autofocus: Boolean,\n    showArrow: {\n      type: Boolean,\n      default: true\n    },\n    inputProps: Object,\n    focused: Boolean,\n    renderTag: Function,\n    onKeydown: Function,\n    onClick: Function,\n    onBlur: Function,\n    onFocus: Function,\n    onDeleteOption: Function,\n    maxTagCount: [String, Number],\n    ellipsisTagPopoverProps: Object,\n    onClear: Function,\n    onPatternInput: Function,\n    onPatternFocus: Function,\n    onPatternBlur: Function,\n    renderLabel: Function,\n    status: String,\n    inlineThemeDisabled: Boolean,\n    ignoreComposition: {\n      type: Boolean,\n      default: true\n    },\n    onResize: Function\n  }),\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      mergedRtlRef\n    } = useConfig(props);\n    const rtlEnabledRef = useRtl('InternalSelection', mergedRtlRef, mergedClsPrefixRef);\n    const patternInputMirrorRef = ref(null);\n    const patternInputRef = ref(null);\n    const selfRef = ref(null);\n    const multipleElRef = ref(null);\n    const singleElRef = ref(null);\n    const patternInputWrapperRef = ref(null);\n    const counterRef = ref(null);\n    const counterWrapperRef = ref(null);\n    const overflowRef = ref(null);\n    const inputTagElRef = ref(null);\n    const showTagsPopoverRef = ref(false);\n    const patternInputFocusedRef = ref(false);\n    const hoverRef = ref(false);\n    const themeRef = useTheme('InternalSelection', '-internal-selection', style, internalSelectionLight, props, toRef(props, 'clsPrefix'));\n    const mergedClearableRef = computed(() => {\n      return props.clearable && !props.disabled && (hoverRef.value || props.active);\n    });\n    const filterablePlaceholderRef = computed(() => {\n      return props.selectedOption ? props.renderTag ? props.renderTag({\n        option: props.selectedOption,\n        handleClose: () => {}\n      }) : props.renderLabel ? props.renderLabel(props.selectedOption, true) : render(props.selectedOption[props.labelField], props.selectedOption, true) : props.placeholder;\n    });\n    const labelRef = computed(() => {\n      const option = props.selectedOption;\n      if (!option) return undefined;\n      return option[props.labelField];\n    });\n    const selectedRef = computed(() => {\n      if (props.multiple) {\n        return !!(Array.isArray(props.selectedOptions) && props.selectedOptions.length);\n      } else {\n        return props.selectedOption !== null;\n      }\n    });\n    function syncMirrorWidth() {\n      var _a;\n      const {\n        value: patternInputMirrorEl\n      } = patternInputMirrorRef;\n      if (patternInputMirrorEl) {\n        const {\n          value: patternInputEl\n        } = patternInputRef;\n        if (patternInputEl) {\n          patternInputEl.style.width = `${patternInputMirrorEl.offsetWidth}px`;\n          if (props.maxTagCount !== 'responsive') {\n            (_a = overflowRef.value) === null || _a === void 0 ? void 0 : _a.sync({\n              showAllItemsBeforeCalculate: false\n            });\n          }\n        }\n      }\n    }\n    function hideInputTag() {\n      const {\n        value: inputTagEl\n      } = inputTagElRef;\n      if (inputTagEl) inputTagEl.style.display = 'none';\n    }\n    function showInputTag() {\n      const {\n        value: inputTagEl\n      } = inputTagElRef;\n      if (inputTagEl) inputTagEl.style.display = 'inline-block';\n    }\n    watch(toRef(props, 'active'), value => {\n      if (!value) hideInputTag();\n    });\n    watch(toRef(props, 'pattern'), () => {\n      if (props.multiple) {\n        void nextTick(syncMirrorWidth);\n      }\n    });\n    function doFocus(e) {\n      const {\n        onFocus\n      } = props;\n      if (onFocus) onFocus(e);\n    }\n    function doBlur(e) {\n      const {\n        onBlur\n      } = props;\n      if (onBlur) onBlur(e);\n    }\n    function doDeleteOption(value) {\n      const {\n        onDeleteOption\n      } = props;\n      if (onDeleteOption) onDeleteOption(value);\n    }\n    function doClear(e) {\n      const {\n        onClear\n      } = props;\n      if (onClear) onClear(e);\n    }\n    function doPatternInput(value) {\n      const {\n        onPatternInput\n      } = props;\n      if (onPatternInput) onPatternInput(value);\n    }\n    function handleFocusin(e) {\n      var _a;\n      if (!e.relatedTarget || !((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n        doFocus(e);\n      }\n    }\n    function handleFocusout(e) {\n      var _a;\n      if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget)) return;\n      doBlur(e);\n    }\n    function handleClear(e) {\n      doClear(e);\n    }\n    function handleMouseEnter() {\n      hoverRef.value = true;\n    }\n    function handleMouseLeave() {\n      hoverRef.value = false;\n    }\n    function handleMouseDown(e) {\n      if (!props.active || !props.filterable) return;\n      if (e.target === patternInputRef.value) return;\n      e.preventDefault();\n    }\n    function handleDeleteOption(option) {\n      doDeleteOption(option);\n    }\n    function handlePatternKeyDown(e) {\n      if (e.key === 'Backspace' && !isComposingRef.value) {\n        if (!props.pattern.length) {\n          const {\n            selectedOptions\n          } = props;\n          if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {\n            handleDeleteOption(selectedOptions[selectedOptions.length - 1]);\n          }\n        }\n      }\n    }\n    const isComposingRef = ref(false);\n    // the composition end is later than its input so we can cached the event\n    // and return the input event\n    let cachedInputEvent = null;\n    function handlePatternInputInput(e) {\n      // we should sync mirror width here\n      const {\n        value: patternInputMirrorEl\n      } = patternInputMirrorRef;\n      if (patternInputMirrorEl) {\n        const inputText = e.target.value;\n        patternInputMirrorEl.textContent = inputText;\n        syncMirrorWidth();\n      }\n      if (props.ignoreComposition) {\n        if (!isComposingRef.value) {\n          doPatternInput(e);\n        } else {\n          cachedInputEvent = e;\n        }\n      } else {\n        doPatternInput(e);\n      }\n    }\n    function handleCompositionStart() {\n      isComposingRef.value = true;\n    }\n    function handleCompositionEnd() {\n      isComposingRef.value = false;\n      if (props.ignoreComposition) {\n        doPatternInput(cachedInputEvent);\n      }\n      cachedInputEvent = null;\n    }\n    function handlePatternInputFocus(e) {\n      var _a;\n      patternInputFocusedRef.value = true;\n      (_a = props.onPatternFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handlePatternInputBlur(e) {\n      var _a;\n      patternInputFocusedRef.value = false;\n      (_a = props.onPatternBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function blur() {\n      var _a, _b;\n      if (props.filterable) {\n        patternInputFocusedRef.value = false;\n        (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n        (_b = patternInputRef.value) === null || _b === void 0 ? void 0 : _b.blur();\n      } else if (props.multiple) {\n        const {\n          value: multipleEl\n        } = multipleElRef;\n        multipleEl === null || multipleEl === void 0 ? void 0 : multipleEl.blur();\n      } else {\n        const {\n          value: singleEl\n        } = singleElRef;\n        singleEl === null || singleEl === void 0 ? void 0 : singleEl.blur();\n      }\n    }\n    function focus() {\n      var _a, _b, _c;\n      if (props.filterable) {\n        patternInputFocusedRef.value = false;\n        (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      } else if (props.multiple) {\n        (_b = multipleElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n      } else {\n        (_c = singleElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n      }\n    }\n    function focusInput() {\n      const {\n        value: patternInputEl\n      } = patternInputRef;\n      if (patternInputEl) {\n        showInputTag();\n        patternInputEl.focus();\n      }\n    }\n    function blurInput() {\n      const {\n        value: patternInputEl\n      } = patternInputRef;\n      if (patternInputEl) {\n        patternInputEl.blur();\n      }\n    }\n    function updateCounter(count) {\n      const {\n        value\n      } = counterRef;\n      if (value) {\n        value.setTextContent(`+${count}`);\n      }\n    }\n    function getCounter() {\n      const {\n        value\n      } = counterWrapperRef;\n      return value;\n    }\n    function getTail() {\n      return patternInputRef.value;\n    }\n    let enterTimerId = null;\n    function clearEnterTimer() {\n      if (enterTimerId !== null) window.clearTimeout(enterTimerId);\n    }\n    function handleMouseEnterCounter() {\n      if (props.active) return;\n      clearEnterTimer();\n      enterTimerId = window.setTimeout(() => {\n        if (selectedRef.value) {\n          showTagsPopoverRef.value = true;\n        }\n      }, 100);\n    }\n    function handleMouseLeaveCounter() {\n      clearEnterTimer();\n    }\n    function onPopoverUpdateShow(show) {\n      if (!show) {\n        clearEnterTimer();\n        showTagsPopoverRef.value = false;\n      }\n    }\n    watch(selectedRef, value => {\n      if (!value) {\n        showTagsPopoverRef.value = false;\n      }\n    });\n    onMounted(() => {\n      watchEffect(() => {\n        const patternInputWrapperEl = patternInputWrapperRef.value;\n        if (!patternInputWrapperEl) return;\n        if (props.disabled) {\n          patternInputWrapperEl.removeAttribute('tabindex');\n        } else {\n          patternInputWrapperEl.tabIndex = patternInputFocusedRef.value ? -1 : 0;\n        }\n      });\n    });\n    useOnResize(selfRef, props.onResize);\n    const {\n      inlineThemeDisabled\n    } = props;\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          borderRadius,\n          color,\n          placeholderColor,\n          textColor,\n          paddingSingle,\n          paddingMultiple,\n          caretColor,\n          colorDisabled,\n          textColorDisabled,\n          placeholderColorDisabled,\n          colorActive,\n          boxShadowFocus,\n          boxShadowActive,\n          boxShadowHover,\n          border,\n          borderFocus,\n          borderHover,\n          borderActive,\n          arrowColor,\n          arrowColorDisabled,\n          loadingColor,\n          // form warning\n          colorActiveWarning,\n          boxShadowFocusWarning,\n          boxShadowActiveWarning,\n          boxShadowHoverWarning,\n          borderWarning,\n          borderFocusWarning,\n          borderHoverWarning,\n          borderActiveWarning,\n          // form error\n          colorActiveError,\n          boxShadowFocusError,\n          boxShadowActiveError,\n          boxShadowHoverError,\n          borderError,\n          borderFocusError,\n          borderHoverError,\n          borderActiveError,\n          // clear\n          clearColor,\n          clearColorHover,\n          clearColorPressed,\n          clearSize,\n          // arrow\n          arrowSize,\n          [createKey('height', size)]: height,\n          [createKey('fontSize', size)]: fontSize\n        }\n      } = themeRef.value;\n      const paddingSingleDiscrete = getPadding(paddingSingle);\n      const paddingMultipleDiscrete = getPadding(paddingMultiple);\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border': border,\n        '--n-border-active': borderActive,\n        '--n-border-focus': borderFocus,\n        '--n-border-hover': borderHover,\n        '--n-border-radius': borderRadius,\n        '--n-box-shadow-active': boxShadowActive,\n        '--n-box-shadow-focus': boxShadowFocus,\n        '--n-box-shadow-hover': boxShadowHover,\n        '--n-caret-color': caretColor,\n        '--n-color': color,\n        '--n-color-active': colorActive,\n        '--n-color-disabled': colorDisabled,\n        '--n-font-size': fontSize,\n        '--n-height': height,\n        '--n-padding-single-top': paddingSingleDiscrete.top,\n        '--n-padding-multiple-top': paddingMultipleDiscrete.top,\n        '--n-padding-single-right': paddingSingleDiscrete.right,\n        '--n-padding-multiple-right': paddingMultipleDiscrete.right,\n        '--n-padding-single-left': paddingSingleDiscrete.left,\n        '--n-padding-multiple-left': paddingMultipleDiscrete.left,\n        '--n-padding-single-bottom': paddingSingleDiscrete.bottom,\n        '--n-padding-multiple-bottom': paddingMultipleDiscrete.bottom,\n        '--n-placeholder-color': placeholderColor,\n        '--n-placeholder-color-disabled': placeholderColorDisabled,\n        '--n-text-color': textColor,\n        '--n-text-color-disabled': textColorDisabled,\n        '--n-arrow-color': arrowColor,\n        '--n-arrow-color-disabled': arrowColorDisabled,\n        '--n-loading-color': loadingColor,\n        // form warning\n        '--n-color-active-warning': colorActiveWarning,\n        '--n-box-shadow-focus-warning': boxShadowFocusWarning,\n        '--n-box-shadow-active-warning': boxShadowActiveWarning,\n        '--n-box-shadow-hover-warning': boxShadowHoverWarning,\n        '--n-border-warning': borderWarning,\n        '--n-border-focus-warning': borderFocusWarning,\n        '--n-border-hover-warning': borderHoverWarning,\n        '--n-border-active-warning': borderActiveWarning,\n        // form error\n        '--n-color-active-error': colorActiveError,\n        '--n-box-shadow-focus-error': boxShadowFocusError,\n        '--n-box-shadow-active-error': boxShadowActiveError,\n        '--n-box-shadow-hover-error': boxShadowHoverError,\n        '--n-border-error': borderError,\n        '--n-border-focus-error': borderFocusError,\n        '--n-border-hover-error': borderHoverError,\n        '--n-border-active-error': borderActiveError,\n        // clear\n        '--n-clear-size': clearSize,\n        '--n-clear-color': clearColor,\n        '--n-clear-color-hover': clearColorHover,\n        '--n-clear-color-pressed': clearColorPressed,\n        // arrow-size\n        '--n-arrow-size': arrowSize\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('internal-selection', computed(() => {\n      return props.size[0];\n    }), cssVarsRef, props) : undefined;\n    return {\n      mergedTheme: themeRef,\n      mergedClearable: mergedClearableRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      rtlEnabled: rtlEnabledRef,\n      patternInputFocused: patternInputFocusedRef,\n      filterablePlaceholder: filterablePlaceholderRef,\n      label: labelRef,\n      selected: selectedRef,\n      showTagsPanel: showTagsPopoverRef,\n      isComposing: isComposingRef,\n      // dom ref\n      counterRef,\n      counterWrapperRef,\n      patternInputMirrorRef,\n      patternInputRef,\n      selfRef,\n      multipleElRef,\n      singleElRef,\n      patternInputWrapperRef,\n      overflowRef,\n      inputTagElRef,\n      handleMouseDown,\n      handleFocusin,\n      handleClear,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleDeleteOption,\n      handlePatternKeyDown,\n      handlePatternInputInput,\n      handlePatternInputBlur,\n      handlePatternInputFocus,\n      handleMouseEnterCounter,\n      handleMouseLeaveCounter,\n      handleFocusout,\n      handleCompositionEnd,\n      handleCompositionStart,\n      onPopoverUpdateShow,\n      focus,\n      focusInput,\n      blur,\n      blurInput,\n      updateCounter,\n      getCounter,\n      getTail,\n      renderLabel: props.renderLabel,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    const {\n      status,\n      multiple,\n      size,\n      disabled,\n      filterable,\n      maxTagCount,\n      bordered,\n      clsPrefix,\n      ellipsisTagPopoverProps,\n      onRender,\n      renderTag,\n      renderLabel\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    const maxTagCountResponsive = maxTagCount === 'responsive';\n    const maxTagCountNumeric = typeof maxTagCount === 'number';\n    const useMaxTagCount = maxTagCountResponsive || maxTagCountNumeric;\n    const suffix = h(Wrapper, null, {\n      default: () => h(Suffix, {\n        clsPrefix: clsPrefix,\n        loading: this.loading,\n        showArrow: this.showArrow,\n        showClear: this.mergedClearable && this.selected,\n        onClear: this.handleClear\n      }, {\n        default: () => {\n          var _a, _b;\n          return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n      })\n    });\n    let body;\n    if (multiple) {\n      const {\n        labelField\n      } = this;\n      const createTag = option => h(\"div\", {\n        class: `${clsPrefix}-base-selection-tag-wrapper`,\n        key: option.value\n      }, renderTag ? renderTag({\n        option,\n        handleClose: () => {\n          this.handleDeleteOption(option);\n        }\n      }) : h(NTag, {\n        size: size,\n        closable: !option.disabled,\n        disabled: disabled,\n        onClose: () => {\n          this.handleDeleteOption(option);\n        },\n        internalCloseIsButtonTag: false,\n        internalCloseFocusable: false\n      }, {\n        default: () => renderLabel ? renderLabel(option, true) : render(option[labelField], option, true)\n      }));\n      const createOriginalTagNodes = () => (maxTagCountNumeric ? this.selectedOptions.slice(0, maxTagCount) : this.selectedOptions).map(createTag);\n      const input = filterable ? h(\"div\", {\n        class: `${clsPrefix}-base-selection-input-tag`,\n        ref: \"inputTagElRef\",\n        key: \"__input-tag__\"\n      }, h(\"input\", Object.assign({}, this.inputProps, {\n        ref: \"patternInputRef\",\n        tabindex: -1,\n        disabled: disabled,\n        value: this.pattern,\n        autofocus: this.autofocus,\n        class: `${clsPrefix}-base-selection-input-tag__input`,\n        onBlur: this.handlePatternInputBlur,\n        onFocus: this.handlePatternInputFocus,\n        onKeydown: this.handlePatternKeyDown,\n        onInput: this.handlePatternInputInput,\n        onCompositionstart: this.handleCompositionStart,\n        onCompositionend: this.handleCompositionEnd\n      })), h(\"span\", {\n        ref: \"patternInputMirrorRef\",\n        class: `${clsPrefix}-base-selection-input-tag__mirror`\n      }, this.pattern)) : null;\n      // May Overflow\n      const renderCounter = maxTagCountResponsive ? () => h(\"div\", {\n        class: `${clsPrefix}-base-selection-tag-wrapper`,\n        ref: \"counterWrapperRef\"\n      }, h(NTag, {\n        size: size,\n        ref: \"counterRef\",\n        onMouseenter: this.handleMouseEnterCounter,\n        onMouseleave: this.handleMouseLeaveCounter,\n        disabled: disabled\n      })) : undefined;\n      let counter;\n      if (maxTagCountNumeric) {\n        const rest = this.selectedOptions.length - maxTagCount;\n        if (rest > 0) {\n          counter = h(\"div\", {\n            class: `${clsPrefix}-base-selection-tag-wrapper`,\n            key: \"__counter__\"\n          }, h(NTag, {\n            size: size,\n            ref: \"counterRef\",\n            onMouseenter: this.handleMouseEnterCounter,\n            disabled: disabled\n          }, {\n            default: () => `+${rest}`\n          }));\n        }\n      }\n      const tags = maxTagCountResponsive ? filterable ? h(VOverflow, {\n        ref: \"overflowRef\",\n        updateCounter: this.updateCounter,\n        getCounter: this.getCounter,\n        getTail: this.getTail,\n        style: {\n          width: '100%',\n          display: 'flex',\n          overflow: 'hidden'\n        }\n      }, {\n        default: createOriginalTagNodes,\n        counter: renderCounter,\n        tail: () => input\n      }) : h(VOverflow, {\n        ref: \"overflowRef\",\n        updateCounter: this.updateCounter,\n        getCounter: this.getCounter,\n        style: {\n          width: '100%',\n          display: 'flex',\n          overflow: 'hidden'\n        }\n      }, {\n        default: createOriginalTagNodes,\n        counter: renderCounter\n      }) : maxTagCountNumeric && counter ? createOriginalTagNodes().concat(counter) : createOriginalTagNodes();\n      const renderPopover = useMaxTagCount ? () => h(\"div\", {\n        class: `${clsPrefix}-base-selection-popover`\n      }, maxTagCountResponsive ? createOriginalTagNodes() : this.selectedOptions.map(createTag)) : undefined;\n      const popoverProps = useMaxTagCount ? Object.assign({\n        show: this.showTagsPanel,\n        trigger: 'hover',\n        overlap: true,\n        placement: 'top',\n        width: 'trigger',\n        onUpdateShow: this.onPopoverUpdateShow,\n        theme: this.mergedTheme.peers.Popover,\n        themeOverrides: this.mergedTheme.peerOverrides.Popover\n      }, ellipsisTagPopoverProps) : null;\n      const showPlaceholder = this.selected ? false : this.active ? !this.pattern && !this.isComposing : true;\n      const placeholder = showPlaceholder ? h(\"div\", {\n        class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`\n      }, h(\"div\", {\n        class: `${clsPrefix}-base-selection-placeholder__inner`\n      }, this.placeholder)) : null;\n      const popoverTrigger = filterable ? h(\"div\", {\n        ref: \"patternInputWrapperRef\",\n        class: `${clsPrefix}-base-selection-tags`\n      }, tags, maxTagCountResponsive ? null : input, suffix) : h(\"div\", {\n        ref: \"multipleElRef\",\n        class: `${clsPrefix}-base-selection-tags`,\n        tabindex: disabled ? undefined : 0\n      }, tags, suffix);\n      body = h(Fragment, null, useMaxTagCount ? h(NPopover, Object.assign({}, popoverProps, {\n        scrollable: true,\n        style: \"max-height: calc(var(--v-target-height) * 6.6);\"\n      }), {\n        trigger: () => popoverTrigger,\n        default: renderPopover\n      }) : popoverTrigger, placeholder);\n    } else {\n      if (filterable) {\n        const hasInput = this.pattern || this.isComposing;\n        const showPlaceholder = this.active ? !hasInput : !this.selected;\n        const showSelectedLabel = this.active ? false : this.selected;\n        body = h(\"div\", {\n          ref: \"patternInputWrapperRef\",\n          class: `${clsPrefix}-base-selection-label`\n        }, h(\"input\", Object.assign({}, this.inputProps, {\n          ref: \"patternInputRef\",\n          class: `${clsPrefix}-base-selection-input`,\n          value: this.active ? this.pattern : '',\n          placeholder: \"\",\n          readonly: disabled,\n          disabled: disabled,\n          tabindex: -1,\n          autofocus: this.autofocus,\n          onFocus: this.handlePatternInputFocus,\n          onBlur: this.handlePatternInputBlur,\n          onInput: this.handlePatternInputInput,\n          onCompositionstart: this.handleCompositionStart,\n          onCompositionend: this.handleCompositionEnd\n        })), showSelectedLabel ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-label__render-label ${clsPrefix}-base-selection-overlay`,\n          key: \"input\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-overlay__wrapper`\n        }, renderTag ? renderTag({\n          option: this.selectedOption,\n          handleClose: () => {}\n        }) : renderLabel ? renderLabel(this.selectedOption, true) : render(this.label, this.selectedOption, true))) : null, showPlaceholder ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`,\n          key: \"placeholder\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-overlay__wrapper`\n        }, this.filterablePlaceholder)) : null, suffix);\n      } else {\n        body = h(\"div\", {\n          ref: \"singleElRef\",\n          class: `${clsPrefix}-base-selection-label`,\n          tabindex: this.disabled ? undefined : 0\n        }, this.label !== undefined ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-input`,\n          title: getTitleAttribute(this.label),\n          key: \"input\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-input__content`\n        }, renderTag ? renderTag({\n          option: this.selectedOption,\n          handleClose: () => {}\n        }) : renderLabel ? renderLabel(this.selectedOption, true) : render(this.label, this.selectedOption, true))) : h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`,\n          key: \"placeholder\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder__inner`\n        }, this.placeholder)), suffix);\n      }\n    }\n    return h(\"div\", {\n      ref: \"selfRef\",\n      class: [`${clsPrefix}-base-selection`, this.rtlEnabled && `${clsPrefix}-base-selection--rtl`, this.themeClass, status && `${clsPrefix}-base-selection--${status}-status`, {\n        [`${clsPrefix}-base-selection--active`]: this.active,\n        [`${clsPrefix}-base-selection--selected`]: this.selected || this.active && this.pattern,\n        [`${clsPrefix}-base-selection--disabled`]: this.disabled,\n        [`${clsPrefix}-base-selection--multiple`]: this.multiple,\n        // focus is not controlled by selection itself since it always need\n        // to be managed together with menu. provide :focus style will cause\n        // many redundant codes.\n        [`${clsPrefix}-base-selection--focus`]: this.focused\n      }],\n      style: this.cssVars,\n      onClick: this.onClick,\n      onMouseenter: this.handleMouseEnter,\n      onMouseleave: this.handleMouseLeave,\n      onKeydown: this.onKeydown,\n      onFocusin: this.handleFocusin,\n      onFocusout: this.handleFocusout,\n      onMousedown: this.handleMouseDown\n    }, body, bordered ? h(\"div\", {\n      class: `${clsPrefix}-base-selection__border`\n    }) : null, bordered ? h(\"div\", {\n      class: `${clsPrefix}-base-selection__state-border`\n    }) : null);\n  }\n});","export function getIsGroup(option) {\n  return option.type === 'group';\n}\nexport function getIgnored(option) {\n  return option.type === 'ignored';\n}\nexport function patternMatched(pattern, value) {\n  try {\n    return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));\n  } catch (err) {\n    return false;\n  }\n}\nexport function createTmOptions(valueField, childrenField) {\n  const options = {\n    getIsGroup,\n    getIgnored,\n    getKey(option) {\n      if (getIsGroup(option)) {\n        return option.name || option.key || 'key-required';\n      }\n      // Required for non-custom label & value field\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      return option[valueField];\n    },\n    getChildren(option) {\n      return option[childrenField];\n    }\n  };\n  return options;\n}\nexport function filterOptions(originalOpts, filter, pattern, childrenField) {\n  if (!filter) return originalOpts;\n  function traverse(options) {\n    if (!Array.isArray(options)) return [];\n    const filteredOptions = [];\n    for (const option of options) {\n      if (getIsGroup(option)) {\n        const children = traverse(option[childrenField]);\n        if (children.length) {\n          filteredOptions.push(Object.assign({}, option, {\n            [childrenField]: children\n          }));\n        }\n      } else if (getIgnored(option)) {\n        continue;\n      } else if (filter(pattern, option)) {\n        filteredOptions.push(option);\n      }\n    }\n    return filteredOptions;\n  }\n  return traverse(originalOpts);\n}\nexport function createValOptMap(options, valueField, childrenField) {\n  const valOptMap = new Map();\n  options.forEach(option => {\n    if (getIsGroup(option)) {\n      ;\n      option[childrenField].forEach(selectGroupOption => {\n        valOptMap.set(selectGroupOption[valueField], selectGroupOption);\n      });\n    } else {\n      valOptMap.set(option[valueField], option);\n    }\n  });\n  return valOptMap;\n}"],"names":["getTitleAttribute","value","mergeEventHandlers","handlers","filteredHandlers","handler","e","lowBit","n","FinweckTree","l","min","ft","i","ret","threshold","r","m","sumM","maybeTouch","ensureMaybeTouch","wheelScale","ensureWheelScale","styles","c","VVirtualList","defineComponent","props","ssrAdapter","useSsrAdapter","cssrAnchorMetaName","onMounted","defaultScrollIndex","defaultScrollKey","scrollTo","isDeactivated","activateStateInitialized","onActivated","scrollTopRef","scrollLeft","onDeactivated","keyIndexMapRef","computed","map","keyField","item","index","listElRef","ref","listHeightRef","keyToHeightOffset","finweckTreeRef","items","itemSize","key","heightOffset","finweckTreeUpdateTrigger","startIndexRef","useMemo","depx","viewportItemsRef","listHeight","startIndex","endIndex","viewportItems","options","y","scrollToPosition","left","top","position","behavior","debounce","scrollToIndex","toIndex","anchorIndex","anchorTimerId","targetTop","scrollTop","offsetHeight","handleItemResize","entry","_a","_b","_c","isHideByVShow","previousHeight","height","delta","listEl","previousHeightSum","syncViewport","mayUseWheel","wheelCatched","handleListScroll","handleListWheel","beforeNextFrameOnce","handleListResize","onResize","el","cursor","itemResizable","pxfy","keyToIndex","visibleItemsTag","h","VResizeObserver","mergeProps","itemVNode","useOnResize","elRef","resizeObserverManager","onBeforeUnmount","FinishedIcon","EmptyIcon","FocusDetector","commonVars$1","self","vars","textColorDisabled","iconColor","textColor2","fontSizeSmall","fontSizeMedium","fontSizeLarge","fontSizeHuge","commonVars","emptyLight","commonLight","emptyLight$1","style$2","cB","cE","emptyProps","useTheme","NEmpty","mergedClsPrefixRef","inlineThemeDisabled","useConfig","themeRef","style","localeRef","useLocale","NConfigProvider","inject","configProviderInjectionKey","mergedDescriptionRef","mergedRenderIconRef","cssVarsRef","size","cubicBezierEaseInOut","createKey","iconSize","fontSize","textColor","extraTextColor","themeClassHandle","useThemeClass","hash","$slots","mergedClsPrefix","onRender","NBaseIcon","commonVariables","borderRadius","popoverColor","textColor3","dividerColor","primaryColorPressed","primaryColor","opacityDisabled","hoverColor","heightSmall","heightMedium","heightLarge","heightHuge","internalSelectMenuLight","createTheme","scrollbarLight","internalSelectMenuLight$1","renderCheckMark","show","clsPrefix","Transition","CheckmarkIcon","NSelectOption","valueRef","pendingTmNodeRef","multipleRef","valueSetRef","renderLabelRef","renderOptionRef","labelFieldRef","valueFieldRef","showCheckmarkRef","nodePropsRef","handleOptionClick","handleOptionMouseEnter","internalSelectionMenuInjectionKey","isPendingRef","pendingTmNode","handleClick","tmNode","handleMouseEnter","handleMouseMove","isPending","parent","multiple","optionValue","valueSet","rawNode","isSelected","isGrouped","showCheckmark","nodeProps","renderOption","renderLabel","checkmark","children","render","attrs","node","NSelectGroupHeader","style$1","cM","cNotM","fadeInScaleUpTransition","NInternalSelectMenu","mergedRtlRef","rtlEnabledRef","useRtl","toRef","selfRef","virtualListRef","scrollbarRef","flattenedNodesRef","fIndexGetterRef","createIndexGetter","pendingNodeRef","initPendingNode","treeMate","defaultPendingNode","setPendingTmNode","clearPendingNodeIfInvalid","pendingNode","initPendingNodeWatchStopHandle","watch","nextTick","scrollToPendingNode","itemSizeRef","paddingRef","getPadding","emptyRef","tmNodes","doToggle","onToggle","doScroll","onScroll","handleVirtualListScroll","handleVirtualListResize","getPendingTmNode","handleKeyUp","happensIn","handleKeyDown","handleMouseDown","next","prev","fIndex","handleFocusin","handleFocusout","provide","internalSelectionMenuBodyInjectionKey","color","groupHeaderTextColor","actionDividerColor","optionTextColorPressed","optionTextColor","optionTextColorDisabled","optionTextColorActive","optionOpacityDisabled","optionCheckColor","actionTextColor","optionColorPending","optionColorActive","loadingColor","loadingSize","optionColorActivePending","optionHeight","optionPadding","exposedProps","virtualScroll","mergedTheme","themeClass","resolveWrappedSlot","NInternalLoading","resolveSlot","NScrollbar","VirtualList","NFocusDetector","inputColor","inputColorDisabled","primaryColorHover","warningColor","warningColorHover","errorColor","errorColorHover","borderColor","iconColorDisabled","clearColor","clearColorHover","clearColorPressed","placeholderColor","placeholderColorDisabled","fontSizeTiny","heightTiny","changeColor","internalSelectionLight","popoverLight","internalSelectionLight$1","status","NInternalSelection","patternInputMirrorRef","patternInputRef","multipleElRef","singleElRef","patternInputWrapperRef","counterRef","counterWrapperRef","overflowRef","inputTagElRef","showTagsPopoverRef","patternInputFocusedRef","hoverRef","mergedClearableRef","filterablePlaceholderRef","labelRef","option","selectedRef","syncMirrorWidth","patternInputMirrorEl","patternInputEl","hideInputTag","inputTagEl","showInputTag","doFocus","onFocus","doBlur","onBlur","doDeleteOption","onDeleteOption","doClear","onClear","doPatternInput","onPatternInput","handleClear","handleMouseLeave","handleDeleteOption","handlePatternKeyDown","isComposingRef","selectedOptions","cachedInputEvent","handlePatternInputInput","inputText","handleCompositionStart","handleCompositionEnd","handlePatternInputFocus","handlePatternInputBlur","blur","multipleEl","singleEl","focus","focusInput","blurInput","updateCounter","count","getCounter","getTail","enterTimerId","clearEnterTimer","handleMouseEnterCounter","handleMouseLeaveCounter","onPopoverUpdateShow","watchEffect","patternInputWrapperEl","paddingSingle","paddingMultiple","caretColor","colorDisabled","colorActive","boxShadowFocus","boxShadowActive","boxShadowHover","border","borderFocus","borderHover","borderActive","arrowColor","arrowColorDisabled","colorActiveWarning","boxShadowFocusWarning","boxShadowActiveWarning","boxShadowHoverWarning","borderWarning","borderFocusWarning","borderHoverWarning","borderActiveWarning","colorActiveError","boxShadowFocusError","boxShadowActiveError","boxShadowHoverError","borderError","borderFocusError","borderHoverError","borderActiveError","clearSize","arrowSize","paddingSingleDiscrete","paddingMultipleDiscrete","disabled","filterable","maxTagCount","bordered","ellipsisTagPopoverProps","renderTag","maxTagCountResponsive","maxTagCountNumeric","useMaxTagCount","suffix","Wrapper","Suffix","body","labelField","createTag","NTag","createOriginalTagNodes","input","renderCounter","counter","rest","tags","VOverflow","renderPopover","popoverProps","placeholder","popoverTrigger","Fragment","NPopover","hasInput","showPlaceholder","showSelectedLabel","getIsGroup","getIgnored","patternMatched","pattern","createTmOptions","valueField","childrenField","filterOptions","originalOpts","filter","traverse","filteredOptions","createValOptMap","valOptMap","selectGroupOption"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}