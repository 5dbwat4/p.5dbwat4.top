import{a as w,b as S,h as j,u as O,d as x}from"./light-3c431b54.js";import{f as B,a as C,b as R}from"./FormItem-c12520d5.js";import{k as y}from"./keysOf-5d5107c5.js";import{v as k,aZ as F,aa as P,J as M}from"./index-c2ed52a5.js";const L=w("form",[S("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[w("form-item",{width:"auto",marginRight:"18px"},[j("&:last-child",{marginRight:0})])])]);var V=globalThis&&globalThis.__awaiter||function(e,h,t,i){function g(s){return s instanceof t?s:new t(function(d){d(s)})}return new(t||(t=Promise))(function(s,d){function n(o){try{l(i.next(o))}catch(f){d(f)}}function a(o){try{l(i.throw(o))}catch(f){d(f)}}function l(o){o.done?s(o.value):g(o.value).then(n,a)}l((i=i.apply(e,h||[])).next())})};const $=Object.assign(Object.assign({},x.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:e=>{e.preventDefault()}},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),W=k({name:"Form",props:$,setup(e){const{mergedClsPrefixRef:h}=O(e);x("Form","-form",L,R,e,h);const t={},i=F(void 0),g=n=>{const a=i.value;(a===void 0||n>=a)&&(i.value=n)};function s(n,a=()=>!0){return V(this,void 0,void 0,function*(){return yield new Promise((l,o)=>{const f=[];for(const m of y(t)){const p=t[m];for(const r of p)r.path&&f.push(r.internalValidate(null,a))}Promise.all(f).then(m=>{const p=m.some(c=>!c.valid),r=[],u=[];m.forEach(c=>{var v,b;!((v=c.errors)===null||v===void 0)&&v.length&&r.push(c.errors),!((b=c.warnings)===null||b===void 0)&&b.length&&u.push(c.warnings)}),n&&n(r.length?r:void 0,{warnings:u.length?u:void 0}),p?o(r.length?r:void 0):l({warnings:u.length?u:void 0})})})})}function d(){for(const n of y(t)){const a=t[n];for(const l of a)l.restoreValidation()}}return P(B,{props:e,maxChildLabelWidthRef:i,deriveMaxChildLabelWidth:g}),P(C,{formItems:t}),Object.assign({validate:s,restoreValidation:d},{mergedClsPrefix:h})},render(){const{mergedClsPrefix:e}=this;return M("form",{class:[`${e}-form`,this.inline&&`${e}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});export{W as N};
