import{A as g}from"./APIHelper-4c0d0968.js";import{useRoute as N,useRouter as R}from"./vue-router-3740985a.js";import{S as w,R as _,N as y}from"./SearchOutline-2f558d6d.js";import{aZ as i,a8 as I,l as U,t as o,aE as s,b7 as a,F as $,J as d}from"./runtime-core.esm-bundler-c066f4bf.js";import{N as P}from"./Input-32bb51de.js";import{a as c}from"./Button-418af94d.js";import{N as f}from"./Icon-3fbf0a05.js";import{N as b}from"./InputGroup-1135b579.js";import"./light-96080c0b.js";import"./format-length-c9d165c6.js";import"./Icon-e6ca0735.js";import"./Warning-ff31488d.js";import"./Close-d6ea1a86.js";import"./Scrollbar-25ba1ebe.js";import"./runtime-dom.esm-bundler-caa8590e.js";import"./Checkbox-b5c247e6.js";import"./use-merged-state-89f8109f.js";import"./FadeInExpandTransition-ff940b4d.js";import"./use-memo-b9add725.js";import"./flatten-a133123b.js";import"./get-slot-1efb97e5.js";import"./Popover-c2999df7.js";import"./fade-in-scale-up.cssr-18f1ebda.js";import"./use-false-until-truthy-a506b738.js";import"./_baseIsEqual-9220f819.js";import"./get-9e715692.js";import"./cssr-ce5b581a.js";import"./utils-d7fa52af.js";import"./use-compitable-42538ef7.js";import"./next-frame-once-7035a838.js";import"./Suffix-fac0a942.js";import"./Dropdown-e7fd699d.js";import"./ChevronRight-989c7384.js";import"./create-e19b3023.js";import"./Ellipsis-2210e394.js";import"./Tooltip-bd1c8576.js";import"./utils-4c4b4d7d.js";import"./use-locale-55e0af58.js";import"./index-975a2d8f.js";import"./Tag-c27ccbde.js";import"./attribute-2ee9e579.js";import"./light-a188f855.js";import"./index-cbfaa337.js";const Ne={__name:"list",setup(x){N();const h=R(),r=i(!0),n=i(!1),l=i(""),u=i([]),S=[{type:"selection"},{title:"uuid",key:"id"},{title:"title",key:"title"},{title:"submit time",render(e){return d("p",{},new Date(e.timestamp).toISOString())}},{title:"view",render(e){return d(c,{text:!0,onClick:()=>{h.push("/group/"+e.id)}},{default:()=>"View"})}}],k=i([]),z=e=>{k.value=e,console.log(e)},t=i({page:1,pageSize:10,showSizePicker:!0,itemCount:0,pageSizes:[5,10,20,50],onChange:e=>{t.value.page=e,r.value=!0,p()},onUpdatePageSize:e=>{t.value.pageSize=e,t.value.page=1,r.value=!0,p()}}),p=()=>{l.value==""?g.get(`/api/v2/group/list?offset=${(t.value.page-1)*t.value.pageSize}&pagesize=${t.value.pageSize}`).then(e=>{u.value=e.data,t.value.itemCount=e.count,r.value=!1,n.value=!1}):g.get(`/api/v2/group/list/search/uuid?q=${encodeURIComponent(l.value)}&offset=${(t.value.page-1)*t.value.pageSize}&pagesize=${t.value.pageSize}`).then(e=>{u.value=e.data,r.value=!1,n.value=!1})},C=e=>{l.value=e,n.value=!0,p()};return p(),(e,v)=>(I(),U($,null,[o(a(b),null,{default:s(()=>[o(a(P),{placeholder:"Search",value:l.value,"onUpdate:value":v[0]||(v[0]=m=>l.value=m),loading:n.value,"on-input":C},null,8,["value","loading"]),o(a(c),{onClick:e.handleSearch},{icon:s(()=>[o(a(f),{component:a(w)},null,8,["component"])]),_:1},8,["onClick"]),o(a(c),{onClick:p},{icon:s(()=>[o(a(f),{component:a(_)},null,8,["component"])]),_:1})]),_:1}),o(a(y),{remote:"",loading:r.value,pagination:t.value,data:u.value,columns:S,"onUpdate:checkedRowKeys":z,"row-key":m=>m.id,"visual-scroll":""},null,8,["loading","pagination","data","row-key"])],64))}};export{Ne as default};
