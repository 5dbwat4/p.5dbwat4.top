{"version":3,"file":"handle-tags-add-3eed59f1.js","sources":["../../src/views/debug/handle-tags-add.vue"],"sourcesContent":["<template>\r\n    <n-input-group>\r\n    <n-cascader\r\n      multiple\r\n      cascade\r\n      :options=\"options\"\r\n      check-strategy=\"child\"\r\n      v-model:value=\"$attrs.tags\"\r\n    />\r\n    <n-button @click=\"showAddTagModal=true\">创建新tag</n-button></n-input-group>\r\n    <n-modal v-model:show=\"showAddTagModal\">\r\n    <n-card\r\n      style=\"width: 600px\"\r\n      title=\"创建新tag\"\r\n      :bordered=\"false\"\r\n      size=\"huge\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n    >\r\n\r\n      <p>选择父节点</p>\r\n\r\n<n-cascader\r\n  cascade\r\n  :options=\"options\"\r\n  v-model:value=\"ADD_parentTag\"\r\n/>\r\n<p>输入子节点名：</p>\r\n\r\n<n-input v-model:value=\"ADD_tagName\"></n-input>\r\n\r\n<n-button @click=\"handleAdd\">OK</n-button>\r\n\r\n    </n-card>\r\n  </n-modal>\r\n\r\n</template>\r\n<script setup>\r\nimport { NCascader } from 'naive-ui';\r\nimport { API } from '@/shared/APIHelper';\r\nimport { ref } from 'vue';\r\nimport { NInput,NButton,NModal,NCard,NInputGroup } from 'naive-ui';\r\nconst options=ref([])\r\nconst showAddTagModal=ref(false)\r\nAPI.get(\"/api/data/mistakes_coll/tags/get\").then(v=>{\r\n    options.value=v\r\n})\r\n\r\nconst tags=ref([])\r\n\r\n\r\n\r\nconst ADD_tagName=ref(\"\"),ADD_parentTag=ref(\"\")\r\n\r\n\r\nconst handleAdd=()=>{\r\n    console.log(ADD_parentTag.value,ADD_tagName.value);\r\n    API.post(\"/api/data/mistakes_coll/tags/add\",{\r\n        parent:ADD_parentTag.value,\r\n        childLabel:ADD_tagName.value\r\n    }).then(vccc=>{\r\n        API.get(\"/api/data/mistakes_coll/tags/get\").then(v=>{\r\n    options.value=v\r\ntags.value.push(vccc.id)\r\nshowAddTagModal.value=false\r\n})\r\n    })\r\n}\r\n</script>"],"names":["options","ref","showAddTagModal","API","v","tags","ADD_tagName","ADD_parentTag","handleAdd","vccc"],"mappings":"khDA0CA,MAAAA,EAAAC,EAAA,EAAA,EACAC,EAAAD,EAAA,EAAA,EACAE,EAAA,IAAA,kCAAA,EAAA,KAAAC,GAAA,CACAJ,EAAA,MAAAI,CACA,CAAA,EAEA,MAAAC,EAAAJ,EAAA,EAAA,EAIAK,EAAAL,EAAA,EAAA,EAAAM,EAAAN,EAAA,EAAA,EAGAO,EAAA,IAAA,CACA,QAAA,IAAAD,EAAA,MAAAD,EAAA,KAAA,EACAH,EAAA,KAAA,mCAAA,CACA,OAAAI,EAAA,MACA,WAAAD,EAAA,KACA,CAAA,EAAA,KAAAG,GAAA,CACAN,EAAA,IAAA,kCAAA,EAAA,KAAAC,GAAA,CACAJ,EAAA,MAAAI,EACAC,EAAA,MAAA,KAAAI,EAAA,EAAA,EACAP,EAAA,MAAA,EACA,CAAA,CACA,CAAA,CACA"}