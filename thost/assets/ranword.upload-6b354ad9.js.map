{"version":3,"file":"ranword.upload-6b354ad9.js","sources":["../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/_internal/icons/Attach.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/_internal/icons/Trash.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/_internal/icons/Download.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/_internal/icons/Cancel.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/_internal/icons/Retry.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/upload/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/upload/src/interface.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/upload/src/UploadDragger.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/upload/src/utils.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/upload/src/UploadTrigger.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/upload/src/UploadProgress.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/upload/src/icons.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/upload/src/UploadFile.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/upload/src/UploadFileList.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/upload/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/upload/src/Upload.mjs","../../node_modules/.pnpm/@vicons+ionicons5@0.12.0/node_modules/@vicons/ionicons5/es/ArchiveOutline.js","../../src/views/local/ranword.upload.vue"],"sourcesContent":["import { h } from 'vue';\nimport { replaceable } from \"./replaceable.mjs\";\nexport default replaceable('attach', h(\"svg\", {\n  viewBox: \"0 0 16 16\",\n  version: \"1.1\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, h(\"g\", {\n  stroke: \"none\",\n  \"stroke-width\": \"1\",\n  fill: \"none\",\n  \"fill-rule\": \"evenodd\"\n}, h(\"g\", {\n  fill: \"currentColor\",\n  \"fill-rule\": \"nonzero\"\n}, h(\"path\", {\n  d: \"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z\"\n})))));","import { h } from 'vue';\nimport { replaceable } from \"./replaceable.mjs\";\nexport default replaceable('trash', h(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 512 512\"\n}, h(\"path\", {\n  d: \"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144\",\n  style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;\"\n}), h(\"rect\", {\n  x: \"32\",\n  y: \"64\",\n  width: \"448\",\n  height: \"80\",\n  rx: \"16\",\n  ry: \"16\",\n  style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;\"\n}), h(\"line\", {\n  x1: \"312\",\n  y1: \"240\",\n  x2: \"200\",\n  y2: \"352\",\n  style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;\"\n}), h(\"line\", {\n  x1: \"312\",\n  y1: \"352\",\n  x2: \"200\",\n  y2: \"240\",\n  style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;\"\n})));","import { h } from 'vue';\nimport { replaceable } from \"./replaceable.mjs\";\nexport default replaceable('download', h(\"svg\", {\n  viewBox: \"0 0 16 16\",\n  version: \"1.1\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, h(\"g\", {\n  stroke: \"none\",\n  \"stroke-width\": \"1\",\n  fill: \"none\",\n  \"fill-rule\": \"evenodd\"\n}, h(\"g\", {\n  fill: \"currentColor\",\n  \"fill-rule\": \"nonzero\"\n}, h(\"path\", {\n  d: \"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z\"\n})))));","import { h } from 'vue';\nimport { replaceable } from \"./replaceable.mjs\";\nexport default replaceable('cancel', h(\"svg\", {\n  viewBox: \"0 0 16 16\",\n  version: \"1.1\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, h(\"g\", {\n  stroke: \"none\",\n  \"stroke-width\": \"1\",\n  fill: \"none\",\n  \"fill-rule\": \"evenodd\"\n}, h(\"g\", {\n  fill: \"currentColor\",\n  \"fill-rule\": \"nonzero\"\n}, h(\"path\", {\n  d: \"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z\"\n})))));","import { h } from 'vue';\nimport { replaceable } from \"./replaceable.mjs\";\nexport default replaceable('retry', h(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 512 512\"\n}, h(\"path\", {\n  d: \"M320,146s24.36-12-64-12A160,160,0,1,0,416,294\",\n  style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;\"\n}), h(\"polyline\", {\n  points: \"256 58 336 138 256 218\",\n  style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;\"\n})));","import { changeColor } from 'seemly';\nimport { buttonLight } from \"../../button/styles/index.mjs\";\nimport { progressLight } from \"../../progress/styles/index.mjs\";\nimport { commonLight } from \"../../_styles/common/index.mjs\";\nimport { createTheme } from \"../../_mixins/index.mjs\";\nexport const self = vars => {\n  const {\n    iconColor,\n    primaryColor,\n    errorColor,\n    textColor2,\n    successColor,\n    opacityDisabled,\n    actionColor,\n    borderColor,\n    hoverColor,\n    lineHeight,\n    borderRadius,\n    fontSize\n  } = vars;\n  return {\n    fontSize,\n    lineHeight,\n    borderRadius,\n    draggerColor: actionColor,\n    draggerBorder: `1px dashed ${borderColor}`,\n    draggerBorderHover: `1px dashed ${primaryColor}`,\n    itemColorHover: hoverColor,\n    itemColorHoverError: changeColor(errorColor, {\n      alpha: 0.06\n    }),\n    itemTextColor: textColor2,\n    itemTextColorError: errorColor,\n    itemTextColorSuccess: successColor,\n    itemIconColor: iconColor,\n    itemDisabledOpacity: opacityDisabled,\n    itemBorderImageCardError: `1px solid ${errorColor}`,\n    itemBorderImageCard: `1px solid ${borderColor}`\n  };\n};\nconst uploadLight = createTheme({\n  name: 'Upload',\n  common: commonLight,\n  peers: {\n    Button: buttonLight,\n    Progress: progressLight\n  },\n  self\n});\nexport default uploadLight;","import { createInjectionKey } from \"../../_utils/index.mjs\";\nexport const uploadInjectionKey = createInjectionKey('n-upload');","import { h, defineComponent, inject } from 'vue';\nimport { throwError } from \"../../_utils/index.mjs\";\nimport { uploadInjectionKey } from \"./interface.mjs\";\nexport const uploadDraggerKey = '__UPLOAD_DRAGGER__';\nexport default defineComponent({\n  name: 'UploadDragger',\n  [uploadDraggerKey]: true,\n  setup(_, {\n    slots\n  }) {\n    const NUpload = inject(uploadInjectionKey, null);\n    if (!NUpload) {\n      throwError('upload-dragger', '`n-upload-dragger` must be placed inside `n-upload`.');\n    }\n    return () => {\n      const {\n        mergedClsPrefixRef: {\n          value: mergedClsPrefix\n        },\n        mergedDisabledRef: {\n          value: mergedDisabled\n        },\n        maxReachedRef: {\n          value: maxReached\n        }\n      } = NUpload;\n      return h(\"div\", {\n        class: [`${mergedClsPrefix}-upload-dragger`, (mergedDisabled || maxReached) && `${mergedClsPrefix}-upload-dragger--disabled`]\n      }, slots);\n    };\n  }\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { isBrowser } from \"../../_utils/index.mjs\";\nexport const isImageFileType = type => type.includes('image/');\nconst getExtname = (url = '') => {\n  const temp = url.split('/');\n  const filename = temp[temp.length - 1];\n  const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nconst imageExtensionRegex = /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i;\n// Do not need File object\nexport const isImageFile = file => {\n  if (file.type) {\n    return isImageFileType(file.type);\n  }\n  const fileNameExtension = getExtname(file.name || '');\n  if (imageExtensionRegex.test(fileNameExtension)) {\n    return true;\n  }\n  const url = file.thumbnailUrl || file.url || '';\n  const urlExtension = getExtname(url);\n  if (/^data:image\\//.test(url) || imageExtensionRegex.test(urlExtension)) {\n    return true;\n  }\n  return false;\n};\nexport function createImageDataUrl(file) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return yield new Promise(resolve => {\n      if (!file.type || !isImageFileType(file.type)) {\n        resolve('');\n        return;\n      }\n      resolve(window.URL.createObjectURL(file));\n    });\n  });\n}\nexport const environmentSupportFile = isBrowser && window.FileReader && window.File;\nexport function isFileSystemDirectoryEntry(item) {\n  return item.isDirectory;\n}\nexport function isFileSystemFileEntry(item) {\n  return item.isFile;\n}\nexport function getFilesFromEntries(entries, directory) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const fileAndEntries = [];\n    function _getFilesFromEntries(entries) {\n      return __awaiter(this, void 0, void 0, function* () {\n        for (const entry of entries) {\n          if (!entry) continue;\n          if (directory && isFileSystemDirectoryEntry(entry)) {\n            const directoryReader = entry.createReader();\n            try {\n              const entries = yield new Promise((resolve, reject) => {\n                directoryReader.readEntries(resolve, reject);\n              });\n              yield _getFilesFromEntries(entries);\n            } catch (_a) {}\n          } else if (isFileSystemFileEntry(entry)) {\n            try {\n              const file = yield new Promise((resolve, reject) => {\n                entry.file(resolve, reject);\n              });\n              fileAndEntries.push({\n                file,\n                entry,\n                source: 'dnd'\n              });\n            } catch (_b) {}\n          }\n        }\n      });\n    }\n    yield _getFilesFromEntries(entries);\n    return fileAndEntries;\n  });\n}\nexport function createSettledFileInfo(fileInfo) {\n  const {\n    id,\n    name,\n    percentage,\n    status,\n    url,\n    file,\n    thumbnailUrl,\n    type,\n    fullPath,\n    batchId\n  } = fileInfo;\n  return {\n    id,\n    name,\n    percentage: percentage !== null && percentage !== void 0 ? percentage : null,\n    status,\n    url: url !== null && url !== void 0 ? url : null,\n    file: file !== null && file !== void 0 ? file : null,\n    thumbnailUrl: thumbnailUrl !== null && thumbnailUrl !== void 0 ? thumbnailUrl : null,\n    type: type !== null && type !== void 0 ? type : null,\n    fullPath: fullPath !== null && fullPath !== void 0 ? fullPath : null,\n    batchId: batchId !== null && batchId !== void 0 ? batchId : null\n  };\n}\n/**\n * This is a rather simple version. I may fix it later to make it more accurate.\n * I've looked at https://github.com/broofa/mime, however it doesn't has a esm\n * version, so I can't simply use it.\n */\nexport function matchType(name, mimeType, accept) {\n  name = name.toLowerCase();\n  mimeType = mimeType.toLocaleLowerCase();\n  accept = accept.toLocaleLowerCase();\n  const acceptAtoms = accept.split(',').map(acceptAtom => acceptAtom.trim()).filter(Boolean);\n  return acceptAtoms.some(acceptAtom => {\n    if (acceptAtom.startsWith('.')) {\n      // suffix\n      if (name.endsWith(acceptAtom)) return true;\n    } else if (acceptAtom.includes('/')) {\n      // mime type\n      const [type, subtype] = mimeType.split('/');\n      const [acceptType, acceptSubtype] = acceptAtom.split('/');\n      if (acceptType === '*' || type && acceptType && acceptType === type) {\n        if (acceptSubtype === '*' || subtype && acceptSubtype && acceptSubtype === subtype) {\n          return true;\n        }\n      }\n    } else {\n      // invalid type\n      return true;\n    }\n    return false;\n  });\n}","import { h, defineComponent, inject, computed } from 'vue';\nimport { AddIcon } from \"../../_internal/icons/index.mjs\";\nimport { NBaseIcon } from \"../../_internal/index.mjs\";\nimport { resolveSlot, throwError } from \"../../_utils/index.mjs\";\nimport { uploadInjectionKey } from \"./interface.mjs\";\nimport { getFilesFromEntries } from \"./utils.mjs\";\nimport NUploadDragger from \"./UploadDragger.mjs\";\nexport default defineComponent({\n  name: 'UploadTrigger',\n  props: {\n    abstract: Boolean\n  },\n  setup(props, {\n    slots\n  }) {\n    const NUpload = inject(uploadInjectionKey, null);\n    if (!NUpload) {\n      throwError('upload-trigger', '`n-upload-trigger` must be placed inside `n-upload`.');\n    }\n    const {\n      mergedClsPrefixRef,\n      mergedDisabledRef,\n      maxReachedRef,\n      listTypeRef,\n      dragOverRef,\n      openOpenFileDialog,\n      draggerInsideRef,\n      handleFileAddition,\n      mergedDirectoryDndRef,\n      triggerClassRef,\n      triggerStyleRef\n    } = NUpload;\n    const isImageCardTypeRef = computed(() => listTypeRef.value === 'image-card');\n    function handleTriggerClick() {\n      if (mergedDisabledRef.value || maxReachedRef.value) return;\n      openOpenFileDialog();\n    }\n    function handleTriggerDragOver(e) {\n      e.preventDefault();\n      dragOverRef.value = true;\n    }\n    function handleTriggerDragEnter(e) {\n      e.preventDefault();\n      dragOverRef.value = true;\n    }\n    function handleTriggerDragLeave(e) {\n      e.preventDefault();\n      dragOverRef.value = false;\n    }\n    function handleTriggerDrop(e) {\n      var _a;\n      e.preventDefault();\n      if (!draggerInsideRef.value || mergedDisabledRef.value || maxReachedRef.value) {\n        dragOverRef.value = false;\n        return;\n      }\n      const dataTransferItems = (_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.items;\n      if (dataTransferItems === null || dataTransferItems === void 0 ? void 0 : dataTransferItems.length) {\n        void getFilesFromEntries(Array.from(dataTransferItems).map(item => item.webkitGetAsEntry()), mergedDirectoryDndRef.value).then(files => {\n          handleFileAddition(files);\n        }).finally(() => {\n          dragOverRef.value = false;\n        });\n      } else {\n        dragOverRef.value = false;\n      }\n    }\n    return () => {\n      var _a;\n      const {\n        value: mergedClsPrefix\n      } = mergedClsPrefixRef;\n      return props.abstract ? (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots, {\n        handleClick: handleTriggerClick,\n        handleDrop: handleTriggerDrop,\n        handleDragOver: handleTriggerDragOver,\n        handleDragEnter: handleTriggerDragEnter,\n        handleDragLeave: handleTriggerDragLeave\n      }) : h(\"div\", {\n        class: [`${mergedClsPrefix}-upload-trigger`, (mergedDisabledRef.value || maxReachedRef.value) && `${mergedClsPrefix}-upload-trigger--disabled`, isImageCardTypeRef.value && `${mergedClsPrefix}-upload-trigger--image-card`, triggerClassRef.value],\n        style: triggerStyleRef.value,\n        onClick: handleTriggerClick,\n        onDrop: handleTriggerDrop,\n        onDragover: handleTriggerDragOver,\n        onDragenter: handleTriggerDragEnter,\n        onDragleave: handleTriggerDragLeave\n      }, isImageCardTypeRef.value ? h(NUploadDragger, null, {\n        default: () => resolveSlot(slots.default, () => [h(NBaseIcon, {\n          clsPrefix: mergedClsPrefix\n        }, {\n          default: () => h(AddIcon, null)\n        })])\n      }) : slots);\n    };\n  }\n});","import { h, defineComponent, inject } from 'vue';\nimport { NFadeInExpandTransition } from \"../../_internal/index.mjs\";\nimport { NProgress } from \"../../progress/index.mjs\";\nimport { uploadInjectionKey } from \"./interface.mjs\";\nexport default defineComponent({\n  name: 'UploadProgress',\n  props: {\n    show: Boolean,\n    percentage: {\n      type: Number,\n      required: true\n    },\n    status: {\n      type: String,\n      required: true\n    }\n  },\n  setup() {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NUpload = inject(uploadInjectionKey);\n    return {\n      mergedTheme: NUpload.mergedThemeRef\n    };\n  },\n  render() {\n    return h(NFadeInExpandTransition, null, {\n      default: () => this.show ? h(NProgress, {\n        type: \"line\",\n        showIndicator: false,\n        percentage: this.percentage,\n        status: this.status,\n        height: 2,\n        theme: this.mergedTheme.peers.Progress,\n        themeOverrides: this.mergedTheme.peerOverrides.Progress\n      }) : null\n    });\n  }\n});","import { h } from 'vue';\n/**\n * Since image is too large compared with normal icons, we keep it inside upload\n * now.\n */\nexport const imageIcon = h(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 28 28\"\n}, h(\"g\", {\n  fill: \"none\"\n}, h(\"path\", {\n  d: \"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z\",\n  fill: \"currentColor\"\n})));\nexport const documentIcon = h(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 28 28\"\n}, h(\"g\", {\n  fill: \"none\"\n}, h(\"path\", {\n  d: \"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z\",\n  fill: \"currentColor\"\n})));","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { h, defineComponent, computed, inject, ref, watchEffect } from 'vue';\nimport { useMemo } from 'vooks';\nimport { CancelIcon, TrashIcon, AttachIcon, RetryIcon, DownloadIcon, EyeIcon } from \"../../_internal/icons/index.mjs\";\nimport { NImage } from \"../../image/index.mjs\";\nimport { NButton } from \"../../button/index.mjs\";\nimport { NIconSwitchTransition, NBaseIcon } from \"../../_internal/index.mjs\";\nimport { warn, download } from \"../../_utils/index.mjs\";\nimport NUploadProgress from \"./UploadProgress.mjs\";\nimport { uploadInjectionKey } from \"./interface.mjs\";\nimport { imageIcon, documentIcon } from \"./icons.mjs\";\nimport { isImageFile } from \"./utils.mjs\";\nconst buttonThemeOverrides = {\n  paddingMedium: '0 3px',\n  heightMedium: '24px',\n  iconSizeMedium: '18px'\n};\nexport default defineComponent({\n  name: 'UploadFile',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    file: {\n      type: Object,\n      required: true\n    },\n    listType: {\n      type: String,\n      required: true\n    }\n  },\n  setup(props) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NUpload = inject(uploadInjectionKey);\n    const imageRef = ref(null);\n    const thumbnailUrlRef = ref('');\n    const progressStatusRef = computed(() => {\n      const {\n        file\n      } = props;\n      if (file.status === 'finished') return 'success';\n      if (file.status === 'error') return 'error';\n      return 'info';\n    });\n    const buttonTypeRef = computed(() => {\n      const {\n        file\n      } = props;\n      if (file.status === 'error') return 'error';\n      return undefined;\n    });\n    const showProgressRef = computed(() => {\n      const {\n        file\n      } = props;\n      return file.status === 'uploading';\n    });\n    const showCancelButtonRef = computed(() => {\n      if (!NUpload.showCancelButtonRef.value) return false;\n      const {\n        file\n      } = props;\n      return ['uploading', 'pending', 'error'].includes(file.status);\n    });\n    const showRemoveButtonRef = computed(() => {\n      if (!NUpload.showRemoveButtonRef.value) return false;\n      const {\n        file\n      } = props;\n      return ['finished'].includes(file.status);\n    });\n    const showDownloadButtonRef = computed(() => {\n      if (!NUpload.showDownloadButtonRef.value) return false;\n      const {\n        file\n      } = props;\n      return ['finished'].includes(file.status);\n    });\n    const showRetryButtonRef = computed(() => {\n      if (!NUpload.showRetryButtonRef.value) return false;\n      const {\n        file\n      } = props;\n      return ['error'].includes(file.status);\n    });\n    const mergedThumbnailUrlRef = useMemo(() => {\n      return thumbnailUrlRef.value || props.file.thumbnailUrl || props.file.url;\n    });\n    const showPreviewButtonRef = computed(() => {\n      if (!NUpload.showPreviewButtonRef.value) return false;\n      const {\n        file: {\n          status\n        },\n        listType\n      } = props;\n      return ['finished'].includes(status) && mergedThumbnailUrlRef.value && listType === 'image-card';\n    });\n    function handleRetryClick() {\n      NUpload.submit(props.file.id);\n    }\n    function handleRemoveOrCancelClick(e) {\n      e.preventDefault();\n      const {\n        file\n      } = props;\n      if (['finished', 'pending', 'error'].includes(file.status)) {\n        handleRemove(file);\n      } else if (['uploading'].includes(file.status)) {\n        handleAbort(file);\n      } else {\n        warn('upload', 'The button clicked type is unknown.');\n      }\n    }\n    function handleDownloadClick(e) {\n      e.preventDefault();\n      handleDownload(props.file);\n    }\n    function handleRemove(file) {\n      const {\n        xhrMap,\n        doChange,\n        onRemoveRef: {\n          value: onRemove\n        },\n        mergedFileListRef: {\n          value: mergedFileList\n        }\n      } = NUpload;\n      void Promise.resolve(onRemove ? onRemove({\n        file: Object.assign({}, file),\n        fileList: mergedFileList\n      }) : true).then(result => {\n        if (result === false) return;\n        const fileAfterChange = Object.assign({}, file, {\n          status: 'removed'\n        });\n        xhrMap.delete(file.id);\n        doChange(fileAfterChange, undefined, {\n          remove: true\n        });\n      });\n    }\n    function handleDownload(file) {\n      const {\n        onDownloadRef: {\n          value: onDownload\n        }\n      } = NUpload;\n      void Promise.resolve(onDownload ? onDownload(Object.assign({}, file)) : true).then(res => {\n        if (res !== false) {\n          download(file.url, file.name);\n        }\n      });\n    }\n    function handleAbort(file) {\n      const {\n        xhrMap\n      } = NUpload;\n      const xhr = xhrMap.get(file.id);\n      xhr === null || xhr === void 0 ? void 0 : xhr.abort();\n      handleRemove(Object.assign({}, file));\n    }\n    function handlePreviewClick() {\n      const {\n        onPreviewRef: {\n          value: onPreview\n        }\n      } = NUpload;\n      if (onPreview) {\n        onPreview(props.file);\n      } else if (props.listType === 'image-card') {\n        const {\n          value\n        } = imageRef;\n        if (!value) return;\n        value.click();\n      }\n    }\n    const deriveFileThumbnailUrl = () => __awaiter(this, void 0, void 0, function* () {\n      const {\n        listType\n      } = props;\n      if (listType !== 'image' && listType !== 'image-card') {\n        return;\n      }\n      if (NUpload.shouldUseThumbnailUrlRef.value(props.file)) {\n        thumbnailUrlRef.value = yield NUpload.getFileThumbnailUrlResolver(props.file);\n      }\n    });\n    watchEffect(() => {\n      void deriveFileThumbnailUrl();\n    });\n    return {\n      mergedTheme: NUpload.mergedThemeRef,\n      progressStatus: progressStatusRef,\n      buttonType: buttonTypeRef,\n      showProgress: showProgressRef,\n      disabled: NUpload.mergedDisabledRef,\n      showCancelButton: showCancelButtonRef,\n      showRemoveButton: showRemoveButtonRef,\n      showDownloadButton: showDownloadButtonRef,\n      showRetryButton: showRetryButtonRef,\n      showPreviewButton: showPreviewButtonRef,\n      mergedThumbnailUrl: mergedThumbnailUrlRef,\n      shouldUseThumbnailUrl: NUpload.shouldUseThumbnailUrlRef,\n      renderIcon: NUpload.renderIconRef,\n      imageRef,\n      handleRemoveOrCancelClick,\n      handleDownloadClick,\n      handleRetryClick,\n      handlePreviewClick\n    };\n  },\n  render() {\n    const {\n      clsPrefix,\n      mergedTheme,\n      listType,\n      file,\n      renderIcon\n    } = this;\n    // if there is text list type, show file icon\n    let icon;\n    const isImageType = listType === 'image';\n    const isImageCardType = listType === 'image-card';\n    if (isImageType || isImageCardType) {\n      icon = !this.shouldUseThumbnailUrl(file) || !this.mergedThumbnailUrl ? h(\"span\", {\n        class: `${clsPrefix}-upload-file-info__thumbnail`\n      }, renderIcon ? renderIcon(file) : isImageFile(file) ? h(NBaseIcon, {\n        clsPrefix: clsPrefix\n      }, {\n        default: () => imageIcon\n      }) : h(NBaseIcon, {\n        clsPrefix: clsPrefix\n      }, {\n        default: () => documentIcon\n      })) : h(\"a\", {\n        rel: \"noopener noreferer\",\n        target: \"_blank\",\n        href: file.url || undefined,\n        class: `${clsPrefix}-upload-file-info__thumbnail`,\n        onClick: this.handlePreviewClick\n      }, listType === 'image-card' ? h(NImage, {\n        src: this.mergedThumbnailUrl || undefined,\n        previewSrc: file.url || undefined,\n        alt: file.name,\n        ref: \"imageRef\"\n      }) : h(\"img\", {\n        src: this.mergedThumbnailUrl || undefined,\n        alt: file.name\n      }));\n    } else {\n      icon = h(\"span\", {\n        class: `${clsPrefix}-upload-file-info__thumbnail`\n      }, renderIcon ? renderIcon(file) : h(NBaseIcon, {\n        clsPrefix: clsPrefix\n      }, {\n        default: () => h(AttachIcon, null)\n      }));\n    }\n    const progress = h(NUploadProgress, {\n      show: this.showProgress,\n      percentage: file.percentage || 0,\n      status: this.progressStatus\n    });\n    const showName = listType === 'text' || listType === 'image';\n    return h(\"div\", {\n      class: [`${clsPrefix}-upload-file`, `${clsPrefix}-upload-file--${this.progressStatus}-status`, file.url && file.status !== 'error' && listType !== 'image-card' && `${clsPrefix}-upload-file--with-url`, `${clsPrefix}-upload-file--${listType}-type`]\n    }, h(\"div\", {\n      class: `${clsPrefix}-upload-file-info`\n    }, icon, h(\"div\", {\n      class: `${clsPrefix}-upload-file-info__name`\n    }, showName && (file.url && file.status !== 'error' ? h(\"a\", {\n      rel: \"noopener noreferer\",\n      target: \"_blank\",\n      href: file.url || undefined,\n      onClick: this.handlePreviewClick\n    }, file.name) : h(\"span\", {\n      onClick: this.handlePreviewClick\n    }, file.name)), isImageType && progress), h(\"div\", {\n      class: [`${clsPrefix}-upload-file-info__action`, `${clsPrefix}-upload-file-info__action--${listType}-type`]\n    }, this.showPreviewButton ? h(NButton, {\n      key: \"preview\",\n      quaternary: true,\n      type: this.buttonType,\n      onClick: this.handlePreviewClick,\n      theme: mergedTheme.peers.Button,\n      themeOverrides: mergedTheme.peerOverrides.Button,\n      builtinThemeOverrides: buttonThemeOverrides\n    }, {\n      icon: () => h(NBaseIcon, {\n        clsPrefix: clsPrefix\n      }, {\n        default: () => h(EyeIcon, null)\n      })\n    }) : null, (this.showRemoveButton || this.showCancelButton) && !this.disabled && h(NButton, {\n      key: \"cancelOrTrash\",\n      theme: mergedTheme.peers.Button,\n      themeOverrides: mergedTheme.peerOverrides.Button,\n      quaternary: true,\n      builtinThemeOverrides: buttonThemeOverrides,\n      type: this.buttonType,\n      onClick: this.handleRemoveOrCancelClick\n    }, {\n      icon: () => h(NIconSwitchTransition, null, {\n        default: () => this.showRemoveButton ? h(NBaseIcon, {\n          clsPrefix: clsPrefix,\n          key: \"trash\"\n        }, {\n          default: () => h(TrashIcon, null)\n        }) : h(NBaseIcon, {\n          clsPrefix: clsPrefix,\n          key: \"cancel\"\n        }, {\n          default: () => h(CancelIcon, null)\n        })\n      })\n    }), this.showRetryButton && !this.disabled && h(NButton, {\n      key: \"retry\",\n      quaternary: true,\n      type: this.buttonType,\n      onClick: this.handleRetryClick,\n      theme: mergedTheme.peers.Button,\n      themeOverrides: mergedTheme.peerOverrides.Button,\n      builtinThemeOverrides: buttonThemeOverrides\n    }, {\n      icon: () => h(NBaseIcon, {\n        clsPrefix: clsPrefix\n      }, {\n        default: () => h(RetryIcon, null)\n      })\n    }), this.showDownloadButton ? h(NButton, {\n      key: \"download\",\n      quaternary: true,\n      type: this.buttonType,\n      onClick: this.handleDownloadClick,\n      theme: mergedTheme.peers.Button,\n      themeOverrides: mergedTheme.peerOverrides.Button,\n      builtinThemeOverrides: buttonThemeOverrides\n    }, {\n      icon: () => h(NBaseIcon, {\n        clsPrefix: clsPrefix\n      }, {\n        default: () => h(DownloadIcon, null)\n      })\n    }) : null)), !isImageType && progress);\n  }\n});","import { h, defineComponent, inject, computed } from 'vue';\nimport { throwError } from \"../../_utils/index.mjs\";\nimport { uploadInjectionKey } from \"./interface.mjs\";\nimport NUploadFile from \"./UploadFile.mjs\";\nimport { NImageGroup } from \"../../image/index.mjs\";\nimport { NFadeInExpandTransition } from \"../../_internal/index.mjs\";\nimport NUploadTrigger from \"./UploadTrigger.mjs\";\nexport default defineComponent({\n  name: 'UploadFileList',\n  setup(_, {\n    slots\n  }) {\n    const NUpload = inject(uploadInjectionKey, null);\n    if (!NUpload) {\n      throwError('upload-file-list', '`n-upload-file-list` must be placed inside `n-upload`.');\n    }\n    const {\n      abstractRef,\n      mergedClsPrefixRef,\n      listTypeRef,\n      mergedFileListRef,\n      fileListClassRef,\n      fileListStyleRef,\n      cssVarsRef,\n      themeClassRef,\n      maxReachedRef,\n      showTriggerRef,\n      imageGroupPropsRef\n    } = NUpload;\n    const isImageCardTypeRef = computed(() => listTypeRef.value === 'image-card');\n    const renderFileList = () => mergedFileListRef.value.map(file => h(NUploadFile, {\n      clsPrefix: mergedClsPrefixRef.value,\n      key: file.id,\n      file: file,\n      listType: listTypeRef.value\n    }));\n    const renderUploadFileList = () => isImageCardTypeRef.value ? h(NImageGroup, Object.assign({}, imageGroupPropsRef.value), {\n      default: renderFileList\n    }) : h(NFadeInExpandTransition, {\n      group: true\n    }, {\n      default: renderFileList\n    });\n    return () => {\n      const {\n        value: mergedClsPrefix\n      } = mergedClsPrefixRef;\n      const {\n        value: abstract\n      } = abstractRef;\n      return h(\"div\", {\n        class: [`${mergedClsPrefix}-upload-file-list`, isImageCardTypeRef.value && `${mergedClsPrefix}-upload-file-list--grid`, abstract ? themeClassRef === null || themeClassRef === void 0 ? void 0 : themeClassRef.value : undefined, fileListClassRef.value],\n        style: [abstract && cssVarsRef ? cssVarsRef.value : '', fileListStyleRef.value]\n      }, renderUploadFileList(), showTriggerRef.value && !maxReachedRef.value && isImageCardTypeRef.value && h(NUploadTrigger, null, slots));\n    };\n  }\n});","import { c, cM, cB, cE } from \"../../../_utils/cssr/index.mjs\";\nimport { fadeInHeightExpandTransition } from \"../../../_styles/transitions/fade-in-height-expand.cssr.mjs\";\nimport { iconSwitchTransition } from \"../../../_styles/transitions/icon-switch.cssr.mjs\";\nexport default c([cB('upload', 'width: 100%;', [cM('dragger-inside', [cB('upload-trigger', `\n display: block;\n `)]), cM('drag-over', [cB('upload-dragger', `\n border: var(--n-dragger-border-hover);\n `)])]), cB('upload-dragger', `\n cursor: pointer;\n box-sizing: border-box;\n width: 100%;\n text-align: center;\n border-radius: var(--n-border-radius);\n padding: 24px;\n opacity: 1;\n transition:\n opacity .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n background-color: var(--n-dragger-color);\n border: var(--n-dragger-border);\n `, [c('&:hover', `\n border: var(--n-dragger-border-hover);\n `), cM('disabled', `\n cursor: not-allowed;\n `)]), cB('upload-trigger', `\n display: inline-block;\n box-sizing: border-box;\n opacity: 1;\n transition: opacity .3s var(--n-bezier);\n `, [c('+', [cB('upload-file-list', 'margin-top: 8px;')]), cM('disabled', `\n opacity: var(--n-item-disabled-opacity);\n cursor: not-allowed;\n `), cM('image-card', `\n width: 96px;\n height: 96px;\n `, [cB('base-icon', `\n font-size: 24px;\n `), cB('upload-dragger', `\n padding: 0;\n height: 100%;\n width: 100%;\n display: flex;\n align-items: center;\n justify-content: center;\n `)])]), cB('upload-file-list', `\n line-height: var(--n-line-height);\n opacity: 1;\n transition: opacity .3s var(--n-bezier);\n `, [c('a, img', 'outline: none;'), cM('disabled', `\n opacity: var(--n-item-disabled-opacity);\n cursor: not-allowed;\n `, [cB('upload-file', 'cursor: not-allowed;')]), cM('grid', `\n display: grid;\n grid-template-columns: repeat(auto-fill, 96px);\n grid-gap: 8px;\n margin-top: 0;\n `), cB('upload-file', `\n display: block;\n box-sizing: border-box;\n cursor: default;\n padding: 0px 12px 0 6px;\n transition: background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n `, [fadeInHeightExpandTransition(), cB('progress', [fadeInHeightExpandTransition({\n  foldPadding: true\n})]), c('&:hover', `\n background-color: var(--n-item-color-hover);\n `, [cB('upload-file-info', [cE('action', `\n opacity: 1;\n `)])]), cM('image-type', `\n border-radius: var(--n-border-radius);\n text-decoration: underline;\n text-decoration-color: #0000;\n `, [cB('upload-file-info', `\n padding-top: 0px;\n padding-bottom: 0px;\n width: 100%;\n height: 100%;\n display: flex;\n justify-content: space-between;\n align-items: center;\n padding: 6px 0;\n `, [cB('progress', `\n padding: 2px 0;\n margin-bottom: 0;\n `), cE('name', `\n padding: 0 8px;\n `), cE('thumbnail', `\n width: 32px;\n height: 32px;\n font-size: 28px;\n display: flex;\n justify-content: center;\n align-items: center;\n `, [c('img', `\n width: 100%;\n `)])])]), cM('text-type', [cB('progress', `\n box-sizing: border-box;\n padding-bottom: 6px;\n margin-bottom: 6px;\n `)]), cM('image-card-type', `\n position: relative;\n width: 96px;\n height: 96px;\n border: var(--n-item-border-image-card);\n border-radius: var(--n-border-radius);\n padding: 0;\n display: flex;\n align-items: center;\n justify-content: center;\n transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n overflow: hidden;\n `, [cB('progress', `\n position: absolute;\n left: 8px;\n bottom: 8px;\n right: 8px;\n width: unset;\n `), cB('upload-file-info', `\n padding: 0;\n width: 100%;\n height: 100%;\n `, [cE('thumbnail', `\n width: 100%;\n height: 100%;\n display: flex;\n flex-direction: column;\n align-items: center;\n justify-content: center;\n font-size: 36px;\n `, [c('img', `\n width: 100%;\n `)])]), c('&::before', `\n position: absolute;\n z-index: 1;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n opacity: 0;\n transition: opacity .2s var(--n-bezier);\n content: \"\";\n `), c('&:hover', [c('&::before', 'opacity: 1;'), cB('upload-file-info', [cE('thumbnail', 'opacity: .12;')])])]), cM('error-status', [c('&:hover', `\n background-color: var(--n-item-color-hover-error);\n `), cB('upload-file-info', [cE('name', 'color: var(--n-item-text-color-error);'), cE('thumbnail', 'color: var(--n-item-text-color-error);')]), cM('image-card-type', `\n border: var(--n-item-border-image-card-error);\n `)]), cM('with-url', `\n cursor: pointer;\n `, [cB('upload-file-info', [cE('name', `\n color: var(--n-item-text-color-success);\n text-decoration-color: var(--n-item-text-color-success);\n `, [c('a', `\n text-decoration: underline;\n `)])])]), cB('upload-file-info', `\n position: relative;\n padding-top: 6px;\n padding-bottom: 6px;\n display: flex;\n flex-wrap: nowrap;\n `, [cE('thumbnail', `\n font-size: 18px;\n opacity: 1;\n transition: opacity .2s var(--n-bezier);\n color: var(--n-item-icon-color);\n `, [cB('base-icon', `\n margin-right: 2px;\n vertical-align: middle;\n transition: color .3s var(--n-bezier);\n `)]), cE('action', `\n padding-top: inherit;\n padding-bottom: inherit;\n position: absolute;\n right: 0;\n top: 0;\n bottom: 0;\n width: 80px;\n display: flex;\n align-items: center;\n transition: opacity .2s var(--n-bezier);\n justify-content: flex-end;\n opacity: 0;\n `, [cB('button', [c('&:not(:last-child)', {\n  marginRight: '4px'\n}), cB('base-icon', [c('svg', [iconSwitchTransition()])])]), cM('image-type', `\n position: relative;\n max-width: 80px;\n width: auto;\n `), cM('image-card-type', `\n z-index: 2;\n position: absolute;\n width: 100%;\n height: 100%;\n left: 0;\n right: 0;\n bottom: 0;\n top: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n `)]), cE('name', `\n color: var(--n-item-text-color);\n flex: 1;\n display: flex;\n justify-content: center;\n text-overflow: ellipsis;\n overflow: hidden;\n flex-direction: column;\n text-decoration-color: #0000;\n font-size: var(--n-font-size);\n transition:\n color .3s var(--n-bezier),\n text-decoration-color .3s var(--n-bezier); \n `, [c('a', `\n color: inherit;\n text-decoration: underline;\n `)])])])]), cB('upload-file-input', `\n display: none;\n width: 0;\n height: 0;\n opacity: 0;\n `)]);","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { h, defineComponent, computed, provide, toRef, ref, Fragment, Teleport, nextTick } from 'vue';\nimport { createId } from 'seemly';\nimport { useMergedState } from 'vooks';\nimport { useConfig, useTheme, useFormItem, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { warn, call, throwError } from \"../../_utils/index.mjs\";\nimport { uploadLight } from \"../styles/index.mjs\";\nimport { uploadDraggerKey } from \"./UploadDragger.mjs\";\nimport { uploadInjectionKey } from \"./interface.mjs\";\nimport { createImageDataUrl, createSettledFileInfo, environmentSupportFile, isImageFile, matchType } from \"./utils.mjs\";\nimport NUploadTrigger from \"./UploadTrigger.mjs\";\nimport NUploadFileList from \"./UploadFileList.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\n/**\n * fils status ['pending', 'uploading', 'finished', 'removed', 'error']\n */\nfunction createXhrHandlers(inst, file, xhr) {\n  const {\n    doChange,\n    xhrMap\n  } = inst;\n  let percentage = 0;\n  function handleXHRError(e) {\n    var _a;\n    let fileAfterChange = Object.assign({}, file, {\n      status: 'error',\n      percentage\n    });\n    xhrMap.delete(file.id);\n    fileAfterChange = createSettledFileInfo(((_a = inst.onError) === null || _a === void 0 ? void 0 : _a.call(inst, {\n      file: fileAfterChange,\n      event: e\n    })) || fileAfterChange);\n    doChange(fileAfterChange, e);\n  }\n  function handleXHRLoad(e) {\n    var _a;\n    if (inst.isErrorState) {\n      if (inst.isErrorState(xhr)) {\n        handleXHRError(e);\n        return;\n      }\n    } else {\n      if (xhr.status < 200 || xhr.status >= 300) {\n        handleXHRError(e);\n        return;\n      }\n    }\n    let fileAfterChange = Object.assign({}, file, {\n      status: 'finished',\n      percentage\n    });\n    xhrMap.delete(file.id);\n    fileAfterChange = createSettledFileInfo(((_a = inst.onFinish) === null || _a === void 0 ? void 0 : _a.call(inst, {\n      file: fileAfterChange,\n      event: e\n    })) || fileAfterChange);\n    doChange(fileAfterChange, e);\n  }\n  return {\n    handleXHRLoad,\n    handleXHRError,\n    handleXHRAbort(e) {\n      const fileAfterChange = Object.assign({}, file, {\n        status: 'removed',\n        file: null,\n        percentage\n      });\n      xhrMap.delete(file.id);\n      doChange(fileAfterChange, e);\n    },\n    handleXHRProgress(e) {\n      const fileAfterChange = Object.assign({}, file, {\n        status: 'uploading'\n      });\n      if (e.lengthComputable) {\n        const progress = Math.ceil(e.loaded / e.total * 100);\n        fileAfterChange.percentage = progress;\n        percentage = progress;\n      }\n      doChange(fileAfterChange, e);\n    }\n  };\n}\nfunction customSubmitImpl(options) {\n  const {\n    inst,\n    file,\n    data,\n    headers,\n    withCredentials,\n    action,\n    customRequest\n  } = options;\n  const {\n    doChange\n  } = options.inst;\n  let percentage = 0;\n  customRequest({\n    file,\n    data,\n    headers,\n    withCredentials,\n    action,\n    onProgress(event) {\n      const fileAfterChange = Object.assign({}, file, {\n        status: 'uploading'\n      });\n      const progress = event.percent;\n      fileAfterChange.percentage = progress;\n      percentage = progress;\n      doChange(fileAfterChange);\n    },\n    onFinish() {\n      var _a;\n      let fileAfterChange = Object.assign({}, file, {\n        status: 'finished',\n        percentage\n      });\n      fileAfterChange = createSettledFileInfo(((_a = inst.onFinish) === null || _a === void 0 ? void 0 : _a.call(inst, {\n        file: fileAfterChange\n      })) || fileAfterChange);\n      doChange(fileAfterChange);\n    },\n    onError() {\n      var _a;\n      let fileAfterChange = Object.assign({}, file, {\n        status: 'error',\n        percentage\n      });\n      fileAfterChange = createSettledFileInfo(((_a = inst.onError) === null || _a === void 0 ? void 0 : _a.call(inst, {\n        file: fileAfterChange\n      })) || fileAfterChange);\n      doChange(fileAfterChange);\n    }\n  });\n}\nfunction registerHandler(inst, file, request) {\n  const handlers = createXhrHandlers(inst, file, request);\n  request.onabort = handlers.handleXHRAbort;\n  request.onerror = handlers.handleXHRError;\n  request.onload = handlers.handleXHRLoad;\n  if (request.upload) {\n    request.upload.onprogress = handlers.handleXHRProgress;\n  }\n}\nfunction unwrapFunctionValue(data, file) {\n  if (typeof data === 'function') {\n    return data({\n      file\n    });\n  }\n  if (data) return data;\n  return {};\n}\nfunction setHeaders(request, headers, file) {\n  const headersObject = unwrapFunctionValue(headers, file);\n  if (!headersObject) return;\n  Object.keys(headersObject).forEach(key => {\n    request.setRequestHeader(key, headersObject[key]);\n  });\n}\nfunction appendData(formData, data, file) {\n  const dataObject = unwrapFunctionValue(data, file);\n  if (!dataObject) return;\n  Object.keys(dataObject).forEach(key => {\n    formData.append(key, dataObject[key]);\n  });\n}\nfunction submitImpl(inst, fieldName, file, {\n  method,\n  action,\n  withCredentials,\n  responseType,\n  headers,\n  data\n}) {\n  const request = new XMLHttpRequest();\n  request.responseType = responseType;\n  inst.xhrMap.set(file.id, request);\n  request.withCredentials = withCredentials;\n  const formData = new FormData();\n  appendData(formData, data, file);\n  if (file.file !== null) {\n    formData.append(fieldName, file.file);\n  }\n  registerHandler(inst, file, request);\n  if (action !== undefined) {\n    request.open(method.toUpperCase(), action);\n    setHeaders(request, headers, file);\n    request.send(formData);\n    const fileAfterChange = Object.assign({}, file, {\n      status: 'uploading'\n    });\n    inst.doChange(fileAfterChange);\n  }\n}\nexport const uploadProps = Object.assign(Object.assign({}, useTheme.props), {\n  name: {\n    type: String,\n    default: 'file'\n  },\n  accept: String,\n  action: String,\n  customRequest: Function,\n  directory: Boolean,\n  directoryDnd: {\n    type: Boolean,\n    default: undefined\n  },\n  method: {\n    type: String,\n    default: 'POST'\n  },\n  multiple: Boolean,\n  showFileList: {\n    type: Boolean,\n    default: true\n  },\n  data: [Object, Function],\n  headers: [Object, Function],\n  withCredentials: Boolean,\n  responseType: {\n    type: String,\n    default: ''\n  },\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  onChange: Function,\n  onRemove: Function,\n  onFinish: Function,\n  onError: Function,\n  onBeforeUpload: Function,\n  isErrorState: Function,\n  /** currently not used */\n  onDownload: Function,\n  defaultUpload: {\n    type: Boolean,\n    default: true\n  },\n  fileList: Array,\n  'onUpdate:fileList': [Function, Array],\n  onUpdateFileList: [Function, Array],\n  fileListClass: String,\n  fileListStyle: [String, Object],\n  defaultFileList: {\n    type: Array,\n    default: () => []\n  },\n  showCancelButton: {\n    type: Boolean,\n    default: true\n  },\n  showRemoveButton: {\n    type: Boolean,\n    default: true\n  },\n  showDownloadButton: Boolean,\n  showRetryButton: {\n    type: Boolean,\n    default: true\n  },\n  showPreviewButton: {\n    type: Boolean,\n    default: true\n  },\n  listType: {\n    type: String,\n    default: 'text'\n  },\n  onPreview: Function,\n  shouldUseThumbnailUrl: {\n    type: Function,\n    default: file => {\n      if (!environmentSupportFile) return false;\n      return isImageFile(file);\n    }\n  },\n  createThumbnailUrl: Function,\n  abstract: Boolean,\n  max: Number,\n  showTrigger: {\n    type: Boolean,\n    default: true\n  },\n  imageGroupProps: Object,\n  inputProps: Object,\n  triggerClass: String,\n  triggerStyle: [String, Object],\n  renderIcon: Function\n});\nexport default defineComponent({\n  name: 'Upload',\n  props: uploadProps,\n  setup(props) {\n    if (props.abstract && props.listType === 'image-card') {\n      throwError('upload', 'when the list-type is image-card, abstract is not supported.');\n    }\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Upload', '-upload', style, uploadLight, props, mergedClsPrefixRef);\n    const formItem = useFormItem(props);\n    const maxReachedRef = computed(() => {\n      const {\n        max\n      } = props;\n      if (max !== undefined) {\n        return mergedFileListRef.value.length >= max;\n      }\n      return false;\n    });\n    const uncontrolledFileListRef = ref(props.defaultFileList);\n    const controlledFileListRef = toRef(props, 'fileList');\n    const inputElRef = ref(null);\n    const draggerInsideRef = {\n      value: false\n    };\n    const dragOverRef = ref(false);\n    const xhrMap = new Map();\n    const _mergedFileListRef = useMergedState(controlledFileListRef, uncontrolledFileListRef);\n    const mergedFileListRef = computed(() => _mergedFileListRef.value.map(createSettledFileInfo));\n    function openOpenFileDialog() {\n      var _a;\n      (_a = inputElRef.value) === null || _a === void 0 ? void 0 : _a.click();\n    }\n    function handleFileInputChange(e) {\n      const target = e.target;\n      handleFileAddition(target.files ? Array.from(target.files).map(file => ({\n        file,\n        entry: null,\n        source: 'input'\n      })) : null, e);\n      // May have bug! set to null?\n      target.value = '';\n    }\n    function doUpdateFileList(files) {\n      const {\n        'onUpdate:fileList': _onUpdateFileList,\n        onUpdateFileList\n      } = props;\n      if (_onUpdateFileList) call(_onUpdateFileList, files);\n      if (onUpdateFileList) call(onUpdateFileList, files);\n      uncontrolledFileListRef.value = files;\n    }\n    const mergedMultipleRef = computed(() => props.multiple || props.directory);\n    function handleFileAddition(fileAndEntries, e) {\n      if (!fileAndEntries || fileAndEntries.length === 0) return;\n      const {\n        onBeforeUpload\n      } = props;\n      fileAndEntries = mergedMultipleRef.value ? fileAndEntries : [fileAndEntries[0]];\n      const {\n        max,\n        accept\n      } = props;\n      fileAndEntries = fileAndEntries.filter(({\n        file,\n        source\n      }) => {\n        if (source === 'dnd' && (accept === null || accept === void 0 ? void 0 : accept.trim())) {\n          return matchType(file.name, file.type, accept);\n        } else {\n          return true;\n        }\n      });\n      if (max) {\n        fileAndEntries = fileAndEntries.slice(0, max - mergedFileListRef.value.length);\n      }\n      const batchId = createId();\n      void Promise.all(fileAndEntries.map(({\n        file,\n        entry\n      }) => __awaiter(this, void 0, void 0, function* () {\n        var _a;\n        const fileInfo = {\n          id: createId(),\n          batchId,\n          name: file.name,\n          status: 'pending',\n          percentage: 0,\n          file,\n          url: null,\n          type: file.type,\n          thumbnailUrl: null,\n          fullPath: (_a = entry === null || entry === void 0 ? void 0 : entry.fullPath) !== null && _a !== void 0 ? _a : `/${file.webkitRelativePath || file.name}`\n        };\n        if (!onBeforeUpload || (yield onBeforeUpload({\n          file: fileInfo,\n          fileList: mergedFileListRef.value\n        })) !== false) {\n          return fileInfo;\n        }\n        return null;\n      }))).then(fileInfos => __awaiter(this, void 0, void 0, function* () {\n        let nextTickChain = Promise.resolve();\n        fileInfos.forEach(fileInfo => {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n          nextTickChain = nextTickChain.then(nextTick).then(() => {\n            fileInfo && doChange(fileInfo, e, {\n              append: true\n            });\n          });\n        });\n        yield nextTickChain;\n      })).then(() => {\n        if (props.defaultUpload) {\n          submit();\n        }\n      });\n    }\n    function submit(fileId) {\n      const {\n        method,\n        action,\n        withCredentials,\n        headers,\n        data,\n        name: fieldName\n      } = props;\n      const filesToUpload = fileId !== undefined ? mergedFileListRef.value.filter(file => file.id === fileId) : mergedFileListRef.value;\n      const shouldReupload = fileId !== undefined;\n      filesToUpload.forEach(file => {\n        const {\n          status\n        } = file;\n        if (status === 'pending' || status === 'error' && shouldReupload) {\n          if (props.customRequest) {\n            customSubmitImpl({\n              inst: {\n                doChange,\n                xhrMap,\n                onFinish: props.onFinish,\n                onError: props.onError\n              },\n              file,\n              action,\n              withCredentials,\n              headers,\n              data,\n              customRequest: props.customRequest\n            });\n          } else {\n            submitImpl({\n              doChange,\n              xhrMap,\n              onFinish: props.onFinish,\n              onError: props.onError,\n              isErrorState: props.isErrorState\n            }, fieldName, file, {\n              method,\n              action,\n              withCredentials,\n              responseType: props.responseType,\n              headers,\n              data\n            });\n          }\n        }\n      });\n    }\n    const doChange = (fileAfterChange, event, options = {\n      append: false,\n      remove: false\n    }) => {\n      const {\n        append,\n        remove\n      } = options;\n      const fileListAfterChange = Array.from(mergedFileListRef.value);\n      const fileIndex = fileListAfterChange.findIndex(file => file.id === fileAfterChange.id);\n      if (append || remove || ~fileIndex) {\n        if (append) {\n          fileListAfterChange.push(fileAfterChange);\n        } else if (remove) {\n          fileListAfterChange.splice(fileIndex, 1);\n        } else {\n          fileListAfterChange.splice(fileIndex, 1, fileAfterChange);\n        }\n        const {\n          onChange\n        } = props;\n        if (onChange) {\n          onChange({\n            file: fileAfterChange,\n            fileList: fileListAfterChange,\n            event\n          });\n        }\n        doUpdateFileList(fileListAfterChange);\n      } else if (process.env.NODE_ENV !== 'production') {\n        warn('upload', 'File has no corresponding id in current file list.');\n      }\n    };\n    function getFileThumbnailUrlResolver(file) {\n      var _a;\n      if (file.thumbnailUrl) return file.thumbnailUrl;\n      const {\n        createThumbnailUrl\n      } = props;\n      if (createThumbnailUrl) {\n        return (_a = createThumbnailUrl(file.file, file)) !== null && _a !== void 0 ? _a : file.url || '';\n      }\n      if (file.url) {\n        return file.url;\n      } else if (file.file) {\n        return createImageDataUrl(file.file);\n      }\n      return '';\n    }\n    const cssVarsRef = computed(() => {\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          draggerColor,\n          draggerBorder,\n          draggerBorderHover,\n          itemColorHover,\n          itemColorHoverError,\n          itemTextColorError,\n          itemTextColorSuccess,\n          itemTextColor,\n          itemIconColor,\n          itemDisabledOpacity,\n          lineHeight,\n          borderRadius,\n          fontSize,\n          itemBorderImageCardError,\n          itemBorderImageCard\n        }\n      } = themeRef.value;\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border-radius': borderRadius,\n        '--n-dragger-border': draggerBorder,\n        '--n-dragger-border-hover': draggerBorderHover,\n        '--n-dragger-color': draggerColor,\n        '--n-font-size': fontSize,\n        '--n-item-color-hover': itemColorHover,\n        '--n-item-color-hover-error': itemColorHoverError,\n        '--n-item-disabled-opacity': itemDisabledOpacity,\n        '--n-item-icon-color': itemIconColor,\n        '--n-item-text-color': itemTextColor,\n        '--n-item-text-color-error': itemTextColorError,\n        '--n-item-text-color-success': itemTextColorSuccess,\n        '--n-line-height': lineHeight,\n        '--n-item-border-image-card-error': itemBorderImageCardError,\n        '--n-item-border-image-card': itemBorderImageCard\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('upload', undefined, cssVarsRef, props) : undefined;\n    provide(uploadInjectionKey, {\n      mergedClsPrefixRef,\n      mergedThemeRef: themeRef,\n      showCancelButtonRef: toRef(props, 'showCancelButton'),\n      showDownloadButtonRef: toRef(props, 'showDownloadButton'),\n      showRemoveButtonRef: toRef(props, 'showRemoveButton'),\n      showRetryButtonRef: toRef(props, 'showRetryButton'),\n      onRemoveRef: toRef(props, 'onRemove'),\n      onDownloadRef: toRef(props, 'onDownload'),\n      mergedFileListRef,\n      triggerClassRef: toRef(props, 'triggerClass'),\n      triggerStyleRef: toRef(props, 'triggerStyle'),\n      shouldUseThumbnailUrlRef: toRef(props, 'shouldUseThumbnailUrl'),\n      renderIconRef: toRef(props, 'renderIcon'),\n      xhrMap,\n      submit,\n      doChange,\n      showPreviewButtonRef: toRef(props, 'showPreviewButton'),\n      onPreviewRef: toRef(props, 'onPreview'),\n      getFileThumbnailUrlResolver,\n      listTypeRef: toRef(props, 'listType'),\n      dragOverRef,\n      openOpenFileDialog,\n      draggerInsideRef,\n      handleFileAddition,\n      mergedDisabledRef: formItem.mergedDisabledRef,\n      maxReachedRef,\n      fileListClassRef: toRef(props, 'fileListClass'),\n      fileListStyleRef: toRef(props, 'fileListStyle'),\n      abstractRef: toRef(props, 'abstract'),\n      acceptRef: toRef(props, 'accept'),\n      cssVarsRef: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClassRef: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender,\n      showTriggerRef: toRef(props, 'showTrigger'),\n      imageGroupPropsRef: toRef(props, 'imageGroupProps'),\n      mergedDirectoryDndRef: computed(() => {\n        var _a;\n        return (_a = props.directoryDnd) !== null && _a !== void 0 ? _a : props.directory;\n      })\n    });\n    const exposedMethods = {\n      clear: () => {\n        uncontrolledFileListRef.value = [];\n      },\n      submit,\n      openOpenFileDialog\n    };\n    return Object.assign({\n      mergedClsPrefix: mergedClsPrefixRef,\n      draggerInsideRef,\n      inputElRef,\n      mergedTheme: themeRef,\n      dragOver: dragOverRef,\n      mergedMultiple: mergedMultipleRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender,\n      handleFileInputChange\n    }, exposedMethods);\n  },\n  render() {\n    var _a, _b;\n    const {\n      draggerInsideRef,\n      mergedClsPrefix,\n      $slots,\n      directory,\n      onRender\n    } = this;\n    if ($slots.default && !this.abstract) {\n      const firstChild = $slots.default()[0];\n      if ((_a = firstChild === null || firstChild === void 0 ? void 0 : firstChild.type) === null || _a === void 0 ? void 0 : _a[uploadDraggerKey]) {\n        draggerInsideRef.value = true;\n      }\n    }\n    const inputNode = h(\"input\", Object.assign({}, this.inputProps, {\n      ref: \"inputElRef\",\n      type: \"file\",\n      class: `${mergedClsPrefix}-upload-file-input`,\n      accept: this.accept,\n      multiple: this.mergedMultiple,\n      onChange: this.handleFileInputChange,\n      // @ts-expect-error // seems vue-tsc will add the prop, so we can't use expect-error\n      webkitdirectory: directory || undefined,\n      directory: directory || undefined\n    }));\n    if (this.abstract) {\n      return h(Fragment, null, (_b = $slots.default) === null || _b === void 0 ? void 0 : _b.call($slots), h(Teleport, {\n        to: \"body\"\n      }, inputNode));\n    }\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-upload`, draggerInsideRef.value && `${mergedClsPrefix}-upload--dragger-inside`, this.dragOver && `${mergedClsPrefix}-upload--drag-over`, this.themeClass],\n      style: this.cssVars\n    }, inputNode, this.showTrigger && this.listType !== 'image-card' && h(NUploadTrigger, null, $slots), this.showFileList && h(NUploadFileList, null, $slots));\n  }\n});","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M80 152v256a40.12 40.12 0 0 0 40 40h272a40.12 40.12 0 0 0 40-40V152',\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = /*#__PURE__*/ _createElementVNode(\n  'rect',\n  {\n    x: '48',\n    y: '64',\n    width: '416',\n    height: '80',\n    rx: '28',\n    ry: '28',\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_4 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32',\n    d: 'M320 304l-64 64l-64-64'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_5 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32',\n    d: 'M256 345.89V224'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_6 = [_hoisted_2, _hoisted_3, _hoisted_4, _hoisted_5]\nexport default defineComponent({\n  name: 'ArchiveOutline',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_6)\n  }\n})\n","<template>\r\n <n-upload\r\n multiple\r\n    :action=\"API.host+'/api/local/ranword/upload'\"\r\n    :on-update:file-list=\"UpdateFileList\"\r\n    @finish=\"handleFinish\"\r\n  >\r\n    <n-upload-dragger>\r\n      <div style=\"margin-bottom: 12px\">\r\n        <n-icon size=\"48\" :depth=\"3\">\r\n          <archive-icon />\r\n        </n-icon>\r\n      </div>\r\n      <n-text style=\"font-size: 16px\">\r\n        Click or drag a file to this area to upload\r\n      </n-text>\r\n      <n-p depth=\"3\" style=\"margin: 8px 0 0 0\">\r\n        Strictly prohibit from uploading sensitive information. For example,\r\n        your bank card PIN or your credit card expiry date.\r\n      </n-p>\r\n    </n-upload-dragger>\r\n  </n-upload>\r\n\r\n  <n-modal v-model:show=\"showRenameM\" :close-on-esc=\"false\">\r\n    <n-card\r\n      style=\"width: 900px\"\r\n      :title=\"'命名'+(toRenameIndex+1)+'/'+toRenamelist.length\"\r\n      :bordered=\"false\"\r\n      size=\"huge\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n    >\r\n      <component :is=\"SubmitFormRef\"/>\r\n    </n-card>\r\n  </n-modal>\r\n\r\n\r\n <n-button @click=\"initRename\">重命名</n-button>\r\n</template>\r\n<script setup>\r\nimport { NUpload,NUploadDragger,NIcon,NText,NP,NButton ,NSkeleton,NModal,NCard} from 'naive-ui';\r\nimport { API } from '../../shared/APIHelper';\r\nimport { ArchiveOutline as ArchiveIcon } from '@vicons/ionicons5'\r\nimport { h, ref, shallowRef } from 'vue';\r\nimport submitForm from \"./ranword.submitForm.vue\"\r\n\r\n\r\nconst FList=ref([]),SubmitFormRef=shallowRef(h(\"p\")),showRenameM=ref(false)\r\nconst toRenamelist=ref([]),toRenameIndex=ref(0)\r\nconst UpdateFileList=(list)=>{\r\n  FList.value=list\r\n  console.log(\"@ufl f\",FList.value);\r\n}\r\n\r\nconst initRename=async()=>{\r\n  // console.log(FList.value);\r\n  showRenameM.value=true\r\n  function RenameRuntime(CTX){\r\n    return new Promise((res,rej)=>{\r\n      console.log(CTX);\r\n      SubmitFormRef.value=h(submitForm,{\r\n      filename:CTX.name,\r\n      createCallback:(fn,fc)=>{\r\n        SubmitFormRef.value=h(NSkeleton,{\r\n          text:true,repeat:10\r\n        })\r\n        API.post(\"/api/local/ranword/rename\",{\r\n          filename:CTX.url.substring(CTX.url.lastIndexOf('/')+1),\r\n          newname:fn\r\n        }).then(ra=>{\r\n          res()\r\n        })\r\n      }\r\n    })\r\n    })\r\n\r\n  }\r\n  for (let i = 0; i < toRenamelist.value.length; i++) {\r\n    toRenameIndex.value=i\r\nawait RenameRuntime(toRenamelist.value[i])\r\n  }\r\n  toRenamelist.value=[]\r\n  toRenameIndex.value=0\r\n  showRenameM.value=false\r\n}\r\nconst handleFinish=({\r\n      file,\r\n      event\r\n    })=>{\r\n      // console.log(\"@hFin\",FList.value,file);\r\nfile.url=API.host+\"/api/local/ranword/file/\"+JSON.parse(event.target.responseText).fid\r\ntoRenamelist.value.push(file)\r\n// console.log(event);\r\nif(!showRenameM.value){\r\n  initRename()\r\n}\r\nreturn file\r\n}\r\n\r\n</script>"],"names":["AttachIcon","replaceable","h","TrashIcon","DownloadIcon","CancelIcon","RetryIcon","self","vars","iconColor","primaryColor","errorColor","textColor2","successColor","opacityDisabled","actionColor","borderColor","hoverColor","lineHeight","borderRadius","fontSize","changeColor","uploadLight","createTheme","commonLight","buttonLight","progressLight","uploadLight$1","uploadInjectionKey","createInjectionKey","uploadDraggerKey","NUploadDragger","defineComponent","_","slots","NUpload","inject","throwError","mergedClsPrefix","mergedDisabled","maxReached","__awaiter","this","thisArg","_arguments","P","generator","adopt","value","resolve","reject","fulfilled","step","e","rejected","result","isImageFileType","type","getExtname","url","temp","filenameWithoutSuffix","imageExtensionRegex","isImageFile","file","fileNameExtension","urlExtension","createImageDataUrl","environmentSupportFile","isBrowser","isFileSystemDirectoryEntry","item","isFileSystemFileEntry","getFilesFromEntries","entries","directory","fileAndEntries","_getFilesFromEntries","entry","directoryReader","createSettledFileInfo","fileInfo","id","name","percentage","status","thumbnailUrl","fullPath","batchId","matchType","mimeType","accept","acceptAtom","subtype","acceptType","acceptSubtype","NUploadTrigger","props","mergedClsPrefixRef","mergedDisabledRef","maxReachedRef","listTypeRef","dragOverRef","openOpenFileDialog","draggerInsideRef","handleFileAddition","mergedDirectoryDndRef","triggerClassRef","triggerStyleRef","isImageCardTypeRef","computed","handleTriggerClick","handleTriggerDragOver","handleTriggerDragEnter","handleTriggerDragLeave","handleTriggerDrop","_a","dataTransferItems","files","resolveSlot","NBaseIcon","AddIcon","NUploadProgress","NFadeInExpandTransition","NProgress","imageIcon","documentIcon","buttonThemeOverrides","NUploadFile","imageRef","ref","thumbnailUrlRef","progressStatusRef","buttonTypeRef","showProgressRef","showCancelButtonRef","showRemoveButtonRef","showDownloadButtonRef","showRetryButtonRef","mergedThumbnailUrlRef","useMemo","showPreviewButtonRef","listType","handleRetryClick","handleRemoveOrCancelClick","handleRemove","handleAbort","warn","handleDownloadClick","handleDownload","xhrMap","doChange","onRemove","mergedFileList","fileAfterChange","onDownload","res","download","xhr","handlePreviewClick","onPreview","deriveFileThumbnailUrl","watchEffect","clsPrefix","mergedTheme","renderIcon","icon","isImageType","NImage","progress","showName","NButton","EyeIcon","NIconSwitchTransition","NUploadFileList","abstractRef","mergedFileListRef","fileListClassRef","fileListStyleRef","cssVarsRef","themeClassRef","showTriggerRef","imageGroupPropsRef","renderFileList","renderUploadFileList","NImageGroup","abstract","style","c","cB","cM","fadeInHeightExpandTransition","cE","iconSwitchTransition","createXhrHandlers","inst","handleXHRError","handleXHRLoad","customSubmitImpl","options","data","headers","withCredentials","action","customRequest","event","registerHandler","request","handlers","unwrapFunctionValue","setHeaders","headersObject","key","appendData","formData","dataObject","submitImpl","fieldName","method","responseType","uploadProps","useTheme","inlineThemeDisabled","useConfig","themeRef","formItem","useFormItem","max","uncontrolledFileListRef","controlledFileListRef","toRef","inputElRef","_mergedFileListRef","useMergedState","handleFileInputChange","target","doUpdateFileList","_onUpdateFileList","onUpdateFileList","call","mergedMultipleRef","onBeforeUpload","source","createId","fileInfos","nextTickChain","nextTick","submit","fileId","filesToUpload","shouldReupload","append","remove","fileListAfterChange","fileIndex","onChange","getFileThumbnailUrlResolver","createThumbnailUrl","cubicBezierEaseInOut","draggerColor","draggerBorder","draggerBorderHover","itemColorHover","itemColorHoverError","itemTextColorError","itemTextColorSuccess","itemTextColor","itemIconColor","itemDisabledOpacity","itemBorderImageCardError","itemBorderImageCard","themeClassHandle","useThemeClass","provide","exposedMethods","_b","$slots","onRender","firstChild","inputNode","Fragment","Teleport","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","ArchiveIcon","_ctx","_cache","_openBlock","_createElementBlock","FList","SubmitFormRef","shallowRef","showRenameM","toRenamelist","toRenameIndex","UpdateFileList","list","initRename","RenameRuntime","CTX","rej","submitForm","fn","fc","NSkeleton","API","ra","i","handleFinish"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}