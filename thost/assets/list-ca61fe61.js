import{A as w}from"./APIHelper-e0fd8d04.js";import{useRoute as $,useRouter as y}from"./vue-router-3740985a.js";import{N as _}from"./Icon-a4a30104.js";import{v as x,a8 as v,l as g,m as p,aZ as i,t as a,aE as d,b7 as o,F as B,J as S}from"./runtime-core.esm-bundler-c066f4bf.js";import{N as I}from"./Input-557ba55c.js";import{a as h}from"./Button-0891d5bc.js";import{N as O}from"./InputGroup-c4a877bc.js";import{N as U}from"./DataTable-25f45bd7.js";import"./light-185f79ed.js";import"./format-length-c9d165c6.js";import"./Icon-13ca7aa7.js";import"./Warning-9f568e6f.js";import"./Close-869cd549.js";import"./Scrollbar-431c7fad.js";import"./runtime-dom.esm-bundler-caa8590e.js";import"./use-memo-b9add725.js";import"./use-locale-c50998bd.js";import"./index-975a2d8f.js";import"./use-merged-state-89f8109f.js";import"./light-32637dc7.js";import"./Suffix-f17523aa.js";import"./FadeInExpandTransition-ff940b4d.js";import"./Checkbox-9546fcc9.js";import"./flatten-a133123b.js";import"./get-slot-1efb97e5.js";import"./Popover-fc210933.js";import"./fade-in-scale-up.cssr-3d9943f6.js";import"./use-false-until-truthy-a506b738.js";import"./get-af977d88.js";import"./utils-d7fa52af.js";import"./use-compitable-42538ef7.js";import"./next-frame-once-7035a838.js";import"./Dropdown-7b432191.js";import"./ChevronRight-989c7384.js";import"./create-e19b3023.js";import"./Ellipsis-df703194.js";import"./Tooltip-1dec7089.js";import"./utils-de113cde.js";import"./Tag-976b884f.js";import"./attribute-2ee9e579.js";import"./index-cbfaa337.js";const M={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},P=p("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),b=p("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1),A=[P,b],D=x({name:"RefreshOutline",render:function(u,r){return v(),g("svg",M,A)}}),V={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},E=p("path",{d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),F=p("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M338.29 338.29L448 448"},null,-1),L=[E,F],j=x({name:"SearchOutline",render:function(u,r){return v(),g("svg",V,L)}}),Ie={__name:"list",setup(f){$();const u=y(),r=i(!0),s=i(!1),n=i(""),m=i([]),C=[{type:"selection"},{title:"uuid",key:"id"},{title:"title",key:"title"},{title:"submit time",render(e){return S("p",{},new Date(e.timestamp).toISOString())}},{title:"view",render(e){return S(h,{text:!0,onClick:()=>{u.push("/group/"+e.id)}},{default:()=>"View"})}}],z=i([]),N=e=>{z.value=e,console.log(e)},t=i({page:1,pageSize:10,showSizePicker:!0,itemCount:0,pageSizes:[5,10,20,50],onChange:e=>{t.value.page=e,r.value=!0,l()},onUpdatePageSize:e=>{t.value.pageSize=e,t.value.page=1,r.value=!0,l()}}),l=()=>{n.value==""?w.get(`/api/v2/group/list?offset=${(t.value.page-1)*t.value.pageSize}&pagesize=${t.value.pageSize}`).then(e=>{m.value=e.data,t.value.itemCount=e.count,r.value=!1,s.value=!1}):w.get(`/api/v2/group/list/search/uuid?q=${encodeURIComponent(n.value)}&offset=${(t.value.page-1)*t.value.pageSize}&pagesize=${t.value.pageSize}`).then(e=>{m.value=e.data,r.value=!1,s.value=!1})},R=e=>{n.value=e,s.value=!0,l()};return l(),(e,k)=>(v(),g(B,null,[a(o(O),null,{default:d(()=>[a(o(I),{placeholder:"Search",value:n.value,"onUpdate:value":k[0]||(k[0]=c=>n.value=c),loading:s.value,"on-input":R},null,8,["value","loading"]),a(o(h),{onClick:e.handleSearch},{icon:d(()=>[a(o(_),{component:o(j)},null,8,["component"])]),_:1},8,["onClick"]),a(o(h),{onClick:l},{icon:d(()=>[a(o(_),{component:o(D)},null,8,["component"])]),_:1})]),_:1}),a(o(U),{remote:"",loading:r.value,pagination:t.value,data:m.value,columns:C,"onUpdate:checkedRowKeys":N,"row-key":c=>c.id,"visual-scroll":""},null,8,["loading","pagination","data","row-key"])],64))}};export{Ie as default};
