import{useRoute as B,useRouter as D}from"./vue-router-85f8dd9e.js";import{q as E}from"./define_basic_qtypes-5cc5565b.js";import{A as I}from"./APIHelper-89899791.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import{ab as a,m as s,t as n,n as i,bi as p,b2 as l,u as d,aH as c,bc as u,F as C,ah as T,bh as z,k as w,l as y}from"./index-6b27469d.js";import{b as j}from"./generateHTMLCode-2e08e708.js";import{N as f}from"./Button-a421b774.js";import"./light-cb8e5d18.js";import"./format-length-c9d165c6.js";import"./Icon-0741e3aa.js";import"./Warning-ad995842.js";import"./Close-df27b242.js";import"./Scrollbar-6ef5ad24.js";import"./runtime-dom.esm-bundler-4f377a37.js";import"./keysOf-5d5107c5.js";import"./toScreenDSingle-d0be9dca.js";import"./diff.map-0594d4b4.js";import"./Loading-a27cceda.js";import"./use-is-mounted-e356ec1d.js";import"./use-memo-7138c88c.js";import"./FadeInExpandTransition-65435983.js";const A={},F={style:{"font-size":"6.5pt","font-family":"Cambria, \u4EFF\u5B8B",margin:"0px"}},N={style:{"font-family":"'courier new'"}};function O(o,m){return a(),s("p",F,[n(" Generated by thost | Group UUID: "),i("span",N,p(o.$attrs.data.guid),1),n(" | Title: "+p(o.$attrs.data.title),1)])}const S=x(A,[["render",O]]),J={},K={style:{"text-align":"center","font-family":"Cambria, \u4EFF\u5B8B",margin:"0px"}},Q={style:{"font-size":"10pt"}},V={style:{"font-size":"6.5pt"}},W={style:{"font-family":"'courier new'"}};function X(o,m){return a(),s("div",K,[i("p",Q,p(o.$attrs.data.title),1),i("p",V,[n(" Generated by thost | UUID: "),i("span",W,p(o.$attrs.data.guid),1)])])}const Y=x(J,[["render",X]]),Z={},tt={style:{"text-align":"center","font-family":"\u9ED1\u4F53",margin:"0px"}},et={style:{"font-size":"10pt"}};function at(o,m){return a(),s("div",tt,[i("p",et,p(o.$attrs.data.title),1)])}const it=x(Z,[["render",at]]),lt={style:{width:"18.76cm","line-height":"normal"},id:"oonom"},ot={class:"noprint"},st={class:"labi-container"},nt=["onClick","data_id"],rt=["innerHTML"],mt={__name:"preexport-1",setup(o){const m=B(),H=D(),v=l(0),R=l(0),b=3,U=l({q:!0,a:!1,p:!1}),$=l(""),_=l({title:"",guid:m.params.id}),g=l({}),G=l(!1);I.get("/api/data/mistakes_coll/session/get/"+m.params.id).then(r=>{r.list.split(",").forEach(t=>{g.value[t]=E}),_.value.title=$.value=r.title,Promise.all(r.list.split(",").map(t=>new Promise((e,k)=>{I.get("/api/data/mistakes_coll/get/full_with_question/"+t).then(q=>{g.value[t]=q})}))).then(()=>{})});const L=r=>Object.entries(r).map(t=>t[1]),M=l(r=>{}),h=l(1),P=()=>{localStorage.setItem("___thost___html_export",document.getElementById("corehtml").outerHTML),H.push("/grouping/preexport-2/"+m.params.id)};return l("Cambria , \u5B8B\u4F53"),(r,t)=>(a(),s(C,null,[d(u(f),{class:"noprint",onClick:t[0]||(t[0]=e=>h.value==2?h.value=1:h.value=2)},{default:c(()=>[n("\u6539\u53D8\u5217\u6570 ")]),_:1}),d(u(f),{class:"noprint",onClick:t[1]||(t[1]=e=>G.value=!0)},{default:c(()=>[n("Retheme 2")]),_:1}),d(u(f),{class:"noprint",ref:"btn1",onClick:t[2]||(t[2]=e=>v.value++)},{default:c(()=>[n("Title format")]),_:1},512),d(u(f),{class:"noprint",ref:"btn2",onClick:t[3]||(t[3]=e=>R.value++)},{default:c(()=>[n("Info format")]),_:1},512),d(u(f),{class:"noprint",ref:"btn3",onClick:t[4]||(t[4]=e=>P())},{default:c(()=>[n("\u8FDB\u5165\u4E0D\u5305\u542Bfixed content\u7684\u4FEE\u6B63\u9875\u9762")]),_:1},512),i("div",lt,[i("div",ot,[i("div",st,[(a(),s(C,null,T([1,2,3,4,5,6,7],e=>i("div",{class:"labi-block",key:e,style:{height:"1045px"}}," Page # "+p(e),1)),64))])]),i("div",{id:"corehtml",style:z({width:"18.95cm",columns:h.value,"line-height":"normal"})},[v.value%b==0?(a(),w(S,{key:0,data:_.value},null,8,["data"])):y("",!0),v.value%b==1?(a(),w(Y,{key:1,data:_.value},null,8,["data"])):y("",!0),v.value%b==2?(a(),w(it,{key:2,data:_.value},null,8,["data"])):y("",!0),(a(!0),s(C,null,T(L(g.value),(e,k)=>(a(),s("div",{key:e.id,onClick:q=>M.value(e.id),class:"___core_block",data_id:k},[i("div",{innerHTML:u(j)(e.mistakes_coll,e.quesRecord,k+1)},null,8,rt),U.value.q?(a(),s("div",{key:0,style:z({display:"block",height:(e._extb_height||0)+"px"}),class:"extblank"},null,4)):y("",!0)],8,nt))),128))],4)])],64))}};export{mt as default};
