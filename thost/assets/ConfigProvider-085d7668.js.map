{"version":3,"file":"ConfigProvider-085d7668.js","sources":["../../node_modules/.pnpm/naive-ui@2.38.1_vue@3.4.25/node_modules/naive-ui/es/config-provider/src/ConfigProvider.mjs"],"sourcesContent":["import { h, inject, computed, defineComponent, provide, markRaw } from 'vue';\nimport { useMemo } from 'vooks';\nimport { merge } from 'lodash-es';\nimport { hash } from 'css-render';\nimport { warn } from \"../../_utils/index.mjs\";\nimport { defaultClsPrefix } from \"../../_mixins/index.mjs\";\nimport { configProviderInjectionKey } from \"./context.mjs\";\nexport const configProviderProps = {\n  abstract: Boolean,\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  clsPrefix: {\n    type: String,\n    default: defaultClsPrefix\n  },\n  locale: Object,\n  dateLocale: Object,\n  namespace: String,\n  rtl: Array,\n  tag: {\n    type: String,\n    default: 'div'\n  },\n  hljs: Object,\n  katex: Object,\n  theme: Object,\n  themeOverrides: Object,\n  componentOptions: Object,\n  icons: Object,\n  breakpoints: Object,\n  preflightStyleDisabled: Boolean,\n  inlineThemeDisabled: {\n    type: Boolean,\n    default: undefined\n  },\n  // deprecated\n  as: {\n    type: String,\n    validator: () => {\n      warn('config-provider', '`as` is deprecated, please use `tag` instead.');\n      return true;\n    },\n    default: undefined\n  }\n};\nexport default defineComponent({\n  name: 'ConfigProvider',\n  alias: ['App'],\n  props: configProviderProps,\n  setup(props) {\n    const NConfigProvider = inject(configProviderInjectionKey, null);\n    const mergedThemeRef = computed(() => {\n      const {\n        theme\n      } = props;\n      if (theme === null) return undefined;\n      const inheritedTheme = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeRef.value;\n      return theme === undefined ? inheritedTheme : inheritedTheme === undefined ? theme : Object.assign({}, inheritedTheme, theme);\n    });\n    const mergedThemeOverridesRef = computed(() => {\n      const {\n        themeOverrides\n      } = props;\n      // stop inheriting themeOverrides\n      if (themeOverrides === null) return undefined;\n      // use inherited themeOverrides\n      if (themeOverrides === undefined) {\n        return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeOverridesRef.value;\n      } else {\n        const inheritedThemeOverrides = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeOverridesRef.value;\n        if (inheritedThemeOverrides === undefined) {\n          // no inherited, use self overrides\n          return themeOverrides;\n        } else {\n          // merge overrides\n          return merge({}, inheritedThemeOverrides, themeOverrides);\n        }\n      }\n    });\n    const mergedNamespaceRef = useMemo(() => {\n      const {\n        namespace\n      } = props;\n      return namespace === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedNamespaceRef.value : namespace;\n    });\n    const mergedBorderedRef = useMemo(() => {\n      const {\n        bordered\n      } = props;\n      return bordered === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedBorderedRef.value : bordered;\n    });\n    const mergedIconsRef = computed(() => {\n      const {\n        icons\n      } = props;\n      return icons === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedIconsRef.value : icons;\n    });\n    const mergedComponentPropsRef = computed(() => {\n      const {\n        componentOptions\n      } = props;\n      if (componentOptions !== undefined) return componentOptions;\n      return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value;\n    });\n    const mergedClsPrefixRef = computed(() => {\n      const {\n        clsPrefix\n      } = props;\n      if (clsPrefix !== undefined) return clsPrefix;\n      if (NConfigProvider) return NConfigProvider.mergedClsPrefixRef.value;\n      return defaultClsPrefix;\n    });\n    const mergedRtlRef = computed(() => {\n      var _a;\n      const {\n        rtl\n      } = props;\n      if (rtl === undefined) {\n        return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedRtlRef.value;\n      }\n      const rtlEnabledState = {};\n      for (const rtlInfo of rtl) {\n        rtlEnabledState[rtlInfo.name] = markRaw(rtlInfo);\n        (_a = rtlInfo.peers) === null || _a === void 0 ? void 0 : _a.forEach(peerRtlInfo => {\n          if (!(peerRtlInfo.name in rtlEnabledState)) {\n            rtlEnabledState[peerRtlInfo.name] = markRaw(peerRtlInfo);\n          }\n        });\n      }\n      return rtlEnabledState;\n    });\n    const mergedBreakpointsRef = computed(() => {\n      return props.breakpoints || (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedBreakpointsRef.value);\n    });\n    const inlineThemeDisabled = props.inlineThemeDisabled || (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.inlineThemeDisabled);\n    const preflightStyleDisabled = props.preflightStyleDisabled || (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.preflightStyleDisabled);\n    const mergedThemeHashRef = computed(() => {\n      const {\n        value: theme\n      } = mergedThemeRef;\n      const {\n        value: mergedThemeOverrides\n      } = mergedThemeOverridesRef;\n      const hasThemeOverrides = mergedThemeOverrides && Object.keys(mergedThemeOverrides).length !== 0;\n      const themeName = theme === null || theme === void 0 ? void 0 : theme.name;\n      if (themeName) {\n        if (hasThemeOverrides) {\n          return `${themeName}-${hash(JSON.stringify(mergedThemeOverridesRef.value))}`;\n        }\n        return themeName;\n      } else {\n        if (hasThemeOverrides) {\n          return hash(JSON.stringify(mergedThemeOverridesRef.value));\n        }\n        return '';\n      }\n    });\n    provide(configProviderInjectionKey, {\n      mergedThemeHashRef,\n      mergedBreakpointsRef,\n      mergedRtlRef,\n      mergedIconsRef,\n      mergedComponentPropsRef,\n      mergedBorderedRef,\n      mergedNamespaceRef,\n      mergedClsPrefixRef,\n      mergedLocaleRef: computed(() => {\n        const {\n          locale\n        } = props;\n        if (locale === null) return undefined;\n        return locale === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedLocaleRef.value : locale;\n      }),\n      mergedDateLocaleRef: computed(() => {\n        const {\n          dateLocale\n        } = props;\n        if (dateLocale === null) return undefined;\n        return dateLocale === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedDateLocaleRef.value : dateLocale;\n      }),\n      mergedHljsRef: computed(() => {\n        const {\n          hljs\n        } = props;\n        return hljs === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedHljsRef.value : hljs;\n      }),\n      mergedKatexRef: computed(() => {\n        const {\n          katex\n        } = props;\n        return katex === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedKatexRef.value : katex;\n      }),\n      mergedThemeRef,\n      mergedThemeOverridesRef,\n      inlineThemeDisabled: inlineThemeDisabled || false,\n      preflightStyleDisabled: preflightStyleDisabled || false\n    });\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedBordered: mergedBorderedRef,\n      mergedNamespace: mergedNamespaceRef,\n      mergedTheme: mergedThemeRef,\n      mergedThemeOverrides: mergedThemeOverridesRef\n    };\n  },\n  render() {\n    var _a, _b, _c, _d;\n    return !this.abstract ? h(this.as || this.tag, {\n      class: `${this.mergedClsPrefix || defaultClsPrefix}-config-provider`\n    }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a)) : (_d = (_c = this.$slots).default) === null || _d === void 0 ? void 0 : _d.call(_c);\n  }\n});"],"names":["configProviderProps","defaultClsPrefix","warn","NConfigProvider","defineComponent","props","inject","configProviderInjectionKey","mergedThemeRef","computed","theme","inheritedTheme","mergedThemeOverridesRef","themeOverrides","inheritedThemeOverrides","merge","mergedNamespaceRef","useMemo","namespace","mergedBorderedRef","bordered","mergedIconsRef","icons","mergedComponentPropsRef","componentOptions","mergedClsPrefixRef","clsPrefix","mergedRtlRef","_a","rtl","rtlEnabledState","rtlInfo","markRaw","peerRtlInfo","mergedBreakpointsRef","inlineThemeDisabled","preflightStyleDisabled","mergedThemeHashRef","mergedThemeOverrides","hasThemeOverrides","themeName","hash","provide","locale","dateLocale","hljs","katex","_b","_c","_d","h"],"mappings":"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","x_google_ignoreList":[0]}