{"version":3,"file":"preexport-2-db530469.js","sources":["../../src/views/grouping/preexport-2.vue"],"sourcesContent":["<template>\r\n<n-button class=\"noprint\" @click=\"click2imgresize\">image resize</n-button>\r\n<n-button class=\"noprint\" @click=\"blankretheme1\">Blank retheme X._______</n-button>\r\n<n-button class=\"noprint\" @click=\"blankretheme2\">Blank retheme 完型</n-button>\r\n<n-button class=\"noprint\" @click=\"blankretheme3\">调节'【小题x】'类展出</n-button>\r\n<n-button class=\"noprint\" @click=\"betterfoENMain\">OtherFormatter EN</n-button>\r\n<n-button class=\"noprint\" @click=\"Extendblank\">Extendblank</n-button>\r\n<n-button class=\"noprint\" @click=\"detable\">Destroy table</n-button>\r\n<n-button class=\"noprint\" @click=\"op2change()\">导出页</n-button>\r\n<div id=\"coreop\"></div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted } from \"vue\";\r\nimport {NButton} from \"naive-ui\"\r\n\r\nonMounted(()=>{\r\n    document.getElementById(\"coreop\").innerHTML=localStorage.getItem(\"___thost___html_export\")\r\n})\r\n\r\n\r\nimport {useRoute,useRouter} from \"vue-router\"\r\nconst route=useRoute(),router=useRouter()\r\nconst click2imgresize=()=>{\r\n        const _runresize=(e)=>{\r\n        console.log(e.target)\r\n        if(!e.target.dataset.width)e.target.dataset.width=e.target.width\r\n        e.target.dataset.width=parseInt(e.target.dataset.width)-30\r\n        e.target.style.width=e.target.dataset.width+\"px\"\r\n    }\r\n    let ool=document.getElementById(\"coreop\")\r\n     ool.querySelectorAll(\"img\").forEach(v=>{\r\n        if(v.src.includes(\"/dksih/\")){\r\n            v.addEventListener(\"click\",_runresize)\r\n        }\r\n     })\r\n\r\n\r\n}\r\n\r\n\r\n\r\nconst blankretheme1=()=>{\r\n    document.getElementById(\"coreop\").querySelectorAll(\"p\").forEach(v=>{\r\n        if(!v.style.fontFamily.includes(\"仿宋\"))\r\n        v.style.fontFamily=\"Times New Roman , 宋体\"\r\n    })\r\n    document.getElementById(\"coreop\").querySelectorAll(\"bk u\").forEach(v=>{\r\n        v.innerHTML=v.innerHTML.replace(/【小题(\\d*)】/,\"$1.______________\")\r\n        v.outerHTML=v.outerHTML.replace(\"<u>\",\"<span>\").replace(\"</u>\",\"</span>\")\r\n    })\r\n}\r\nconst blankretheme2=()=>{\r\n    document.getElementById(\"coreop\").querySelectorAll(\"p\").forEach(v=>{\r\n        if(!v.style.fontFamily.includes(\"仿宋\"))\r\n        v.style.fontFamily=\"Times New Roman , 宋体\"\r\n    })\r\n    document.getElementById(\"coreop\").querySelectorAll(\"span\").forEach(v=>{\r\n        v.innerHTML=v.innerHTML.replace(/【小题(\\d*)】/,\"$1.\")\r\n    })\r\n    document.getElementById(\"coreop\").querySelectorAll(\"bk\").forEach(v=>{\r\n        v.innerHTML=\"<u>&nbsp;&nbsp;&nbsp;\"+v.attributes.index.nodeValue+\"&nbsp;&nbsp;&nbsp;</u>\"\r\n        \r\n    })\r\n}\r\nconst blankretheme3=()=>{\r\n\r\n    document.getElementById(\"coreop\").querySelectorAll(\"span\").forEach(v=>{\r\n        v.innerHTML=v.innerHTML.replace(/【小题(\\d*)】/,\"$1.\")\r\n    })\r\n}\r\nconst betterfoENMain=()=>{\r\n    document.querySelectorAll(\".___core_block\").forEach(dom=>{\r\n        if(dom.attributes.data_type.nodeValue==\"阅读理解\"){\r\n\r\n            console.log(\"hdn yd\",dom);\r\n        dom.innerHTML=dom.innerHTML.replaceAll(/【小题(\\d*)】/g,\"$1.\")\r\n    \r\n\r\n\r\n        }\r\n\r\n        if(dom.attributes.data_type.nodeValue==\"七选五\"){\r\n                dom.querySelectorAll(\"bk u\").forEach(v=>{\r\n        v.innerHTML=v.innerHTML.replace(/【小题(\\d*)】/,\"$1.______________\")\r\n        v.outerHTML=v.outerHTML.replace(\"<u>\",\"<span>\").replace(\"</u>\",\"</span>\")\r\n    })\r\n\r\n    dom.querySelectorAll(\"table[name=optionsTable]\").forEach(v=>{\r\n        v.outerHTML=v.innerText.split(\"\\n\").join(\"<br/>\")+\"<br/>\"\r\n    })\r\n\r\n        }\r\n\r\n         if(dom.attributes.data_type.nodeValue==\"完形填空\"){\r\n    dom.querySelectorAll(\"span\").forEach(v=>{\r\n        v.innerHTML=v.innerHTML.replace(/【小题(\\d*)】/,\"$1.\")\r\n    })\r\n    dom.querySelectorAll(\"bk\").forEach(v=>{\r\n        v.innerHTML=\"<u>&nbsp;&nbsp;&nbsp;\"+v.attributes.index.nodeValue+\"&nbsp;&nbsp;&nbsp;</u>\"\r\n        \r\n    })\r\n    dom.querySelectorAll(\"table[name=optionsTable]\").forEach(v=>{\r\n        // console.log(v.previousElementSibling.offsetwidth);\r\n        v.style.width=\"calc(100% - \"+v.previousElementSibling.offsetWidth+\"px)\"\r\n        v.previousElementSibling.style.display=\"inline-block\"\r\n        v.parentElement.style.display=\"block\"\r\n        // v.parentElement.style.height=\"15.2px\"\r\n        v.style.display=\"inline-table\"\r\n        v.style.verticalAlign=\"middle\"\r\n        // v.style.borderCollapse=\"collapse\"\r\n    })\r\n         }\r\n\r\n\r\n                 if(dom.attributes.data_type.nodeValue=\"用单词的适当形式完成短文\"){\r\n                dom.querySelectorAll(\"bk u\").forEach(v=>{\r\n        v.innerHTML=v.innerHTML.replace(/【小题(\\d*)】/,\"$1.__________________\")\r\n        v.outerHTML=v.outerHTML.replace(\"<u>\",\"<span>\").replace(\"</u>\",\"</span>\")\r\n    })\r\n\r\n        }\r\n\r\n            document.getElementById(\"coreop\").querySelectorAll(\"p\").forEach(v=>{\r\n        if(!v.style.fontFamily.includes(\"仿宋\"))\r\n        v.style.fontFamily=\"Times New Roman , 宋体\"\r\n    })\r\n    })\r\n}\r\n\r\n    const op2change = () => {\r\n        localStorage.setItem(\"___thost___html_export\", document.getElementById(\"corehtml\").outerHTML)\r\n        router.push(\"/export/\"+route.params.id)\r\n    }\r\n\r\n\r\n\r\nconst detable=()=>{\r\n    document.getElementById(\"coreop\").querySelectorAll(\"table[name=optionsTable]\").forEach(v=>{\r\n        // console.log(v.previousElementSibling.offsetwidth);\r\n        v.style.width=\"calc(100% - \"+v.previousElementSibling.offsetWidth+\"px)\"\r\n        v.previousElementSibling.style.display=\"inline-block\"\r\n        v.parentElement.style.display=\"block\"\r\n        // v.parentElement.style.height=\"15.2px\"\r\n        v.style.display=\"inline-table\"\r\n        v.style.verticalAlign=\"middle\"\r\n        // v.style.borderCollapse=\"collapse\"\r\n    })\r\n}\r\n\r\nconst Extendblank=()=>{\r\n    document.querySelectorAll(\"bk\").forEach(v=>{\r\n        if(v.innerText.includes(\"_\")&&v.innerText.length<15){\r\n            v.innerText=(new Array(16)).join(\"_\")\r\n        }\r\n    })\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n@media print{\r\n    .noprint{\r\n        display: none;\r\n    }\r\n\r\n}\r\n\r\ntable{\r\n    border-collapse: collapse;\r\n}\r\n\r\n.labi-container{\r\n    display: block;\r\n    height: fit-content;\r\n    width: 100%;\r\n    position: absolute;\r\n    z-index: -1;\r\n}\r\n.labi-block{\r\n    display: block;\r\n    width: 100%;\r\n    border-bottom-color: black;\r\n    border-bottom-width: 2px;\r\n    position:relative;\r\n    border-bottom-style: dotted;\r\n    text-align:right;\r\n}\r\n\r\nimg{\r\n    max-width: 350px;\r\n}\r\n\r\ntd{\r\n    padding:0\r\n}\r\n/* *{\r\n    page-break-after:avoid;\r\n} */\r\n</style>"],"names":["onMounted","route","useRoute","router","useRouter","click2imgresize","_runresize","e","v","blankretheme1","blankretheme2","blankretheme3","betterfoENMain","dom","op2change","detable","Extendblank"],"mappings":"+fAgBAA,EAAU,IAAI,CACV,SAAS,eAAe,QAAQ,EAAE,UAAU,aAAa,QAAQ,wBAAwB,CAC7F,CAAC,EAID,MAAMC,EAAMC,EAAQ,EAAGC,EAAOC,EAAW,EACnCC,EAAgB,IAAI,CAClB,MAAMC,EAAYC,GAAI,CACtB,QAAQ,IAAIA,EAAE,MAAM,EAChBA,EAAE,OAAO,QAAQ,QAAMA,EAAE,OAAO,QAAQ,MAAMA,EAAE,OAAO,OAC3DA,EAAE,OAAO,QAAQ,MAAM,SAASA,EAAE,OAAO,QAAQ,KAAK,EAAE,GACxDA,EAAE,OAAO,MAAM,MAAMA,EAAE,OAAO,QAAQ,MAAM,IAC/C,EACO,SAAS,eAAe,QAAQ,EACnC,iBAAiB,KAAK,EAAE,QAAQC,GAAG,CACjCA,EAAE,IAAI,SAAS,SAAS,GACvBA,EAAE,iBAAiB,QAAQF,CAAU,CAEjD,CAAM,CAGN,EAIMG,EAAc,IAAI,CACpB,SAAS,eAAe,QAAQ,EAAE,iBAAiB,GAAG,EAAE,QAAQD,GAAG,CAC3DA,EAAE,MAAM,WAAW,SAAS,IAAI,IACpCA,EAAE,MAAM,WAAW,uBAC3B,CAAK,EACD,SAAS,eAAe,QAAQ,EAAE,iBAAiB,MAAM,EAAE,QAAQA,GAAG,CAClEA,EAAE,UAAUA,EAAE,UAAU,QAAQ,YAAY,mBAAmB,EAC/DA,EAAE,UAAUA,EAAE,UAAU,QAAQ,MAAM,QAAQ,EAAE,QAAQ,OAAO,SAAS,CAChF,CAAK,CACL,EACME,EAAc,IAAI,CACpB,SAAS,eAAe,QAAQ,EAAE,iBAAiB,GAAG,EAAE,QAAQF,GAAG,CAC3DA,EAAE,MAAM,WAAW,SAAS,IAAI,IACpCA,EAAE,MAAM,WAAW,uBAC3B,CAAK,EACD,SAAS,eAAe,QAAQ,EAAE,iBAAiB,MAAM,EAAE,QAAQA,GAAG,CAClEA,EAAE,UAAUA,EAAE,UAAU,QAAQ,YAAY,KAAK,CACzD,CAAK,EACD,SAAS,eAAe,QAAQ,EAAE,iBAAiB,IAAI,EAAE,QAAQA,GAAG,CAChEA,EAAE,UAAU,wBAAwBA,EAAE,WAAW,MAAM,UAAU,wBAEzE,CAAK,CACL,EACMG,EAAc,IAAI,CAEpB,SAAS,eAAe,QAAQ,EAAE,iBAAiB,MAAM,EAAE,QAAQH,GAAG,CAClEA,EAAE,UAAUA,EAAE,UAAU,QAAQ,YAAY,KAAK,CACzD,CAAK,CACL,EACMI,EAAe,IAAI,CACrB,SAAS,iBAAiB,gBAAgB,EAAE,QAAQC,GAAK,CAClDA,EAAI,WAAW,UAAU,WAAW,SAEnC,QAAQ,IAAI,SAASA,CAAG,EAC5BA,EAAI,UAAUA,EAAI,UAAU,WAAW,aAAa,KAAK,GAMtDA,EAAI,WAAW,UAAU,WAAW,QAC/BA,EAAI,iBAAiB,MAAM,EAAE,QAAQL,GAAG,CAChDA,EAAE,UAAUA,EAAE,UAAU,QAAQ,YAAY,mBAAmB,EAC/DA,EAAE,UAAUA,EAAE,UAAU,QAAQ,MAAM,QAAQ,EAAE,QAAQ,OAAO,SAAS,CAChF,CAAK,EAEDK,EAAI,iBAAiB,0BAA0B,EAAE,QAAQL,GAAG,CACxDA,EAAE,UAAUA,EAAE,UAAU,MAAM;AAAA,CAAI,EAAE,KAAK,OAAO,EAAE,OAC1D,CAAK,GAIOK,EAAI,WAAW,UAAU,WAAW,SAC5CA,EAAI,iBAAiB,MAAM,EAAE,QAAQL,GAAG,CACpCA,EAAE,UAAUA,EAAE,UAAU,QAAQ,YAAY,KAAK,CACzD,CAAK,EACDK,EAAI,iBAAiB,IAAI,EAAE,QAAQL,GAAG,CAClCA,EAAE,UAAU,wBAAwBA,EAAE,WAAW,MAAM,UAAU,wBAEzE,CAAK,EACDK,EAAI,iBAAiB,0BAA0B,EAAE,QAAQL,GAAG,CAExDA,EAAE,MAAM,MAAM,eAAeA,EAAE,uBAAuB,YAAY,MAClEA,EAAE,uBAAuB,MAAM,QAAQ,eACvCA,EAAE,cAAc,MAAM,QAAQ,QAE9BA,EAAE,MAAM,QAAQ,eAChBA,EAAE,MAAM,cAAc,QAE9B,CAAK,IAIeK,EAAI,WAAW,UAAU,UAAU,iBACvCA,EAAI,iBAAiB,MAAM,EAAE,QAAQL,GAAG,CAChDA,EAAE,UAAUA,EAAE,UAAU,QAAQ,YAAY,uBAAuB,EACnEA,EAAE,UAAUA,EAAE,UAAU,QAAQ,MAAM,QAAQ,EAAE,QAAQ,OAAO,SAAS,CAChF,CAAK,EAIO,SAAS,eAAe,QAAQ,EAAE,iBAAiB,GAAG,EAAE,QAAQA,GAAG,CACnEA,EAAE,MAAM,WAAW,SAAS,IAAI,IACpCA,EAAE,MAAM,WAAW,uBAC3B,CAAK,CACL,CAAK,CACL,EAEUM,EAAY,IAAM,CACpB,aAAa,QAAQ,yBAA0B,SAAS,eAAe,UAAU,EAAE,SAAS,EAC5FX,EAAO,KAAK,WAAWF,EAAM,OAAO,EAAE,CACzC,EAICc,EAAQ,IAAI,CACd,SAAS,eAAe,QAAQ,EAAE,iBAAiB,0BAA0B,EAAE,QAAQP,GAAG,CAEtFA,EAAE,MAAM,MAAM,eAAeA,EAAE,uBAAuB,YAAY,MAClEA,EAAE,uBAAuB,MAAM,QAAQ,eACvCA,EAAE,cAAc,MAAM,QAAQ,QAE9BA,EAAE,MAAM,QAAQ,eAChBA,EAAE,MAAM,cAAc,QAE9B,CAAK,CACL,EAEMQ,EAAY,IAAI,CAClB,SAAS,iBAAiB,IAAI,EAAE,QAAQR,GAAG,CACpCA,EAAE,UAAU,SAAS,GAAG,GAAGA,EAAE,UAAU,OAAO,KAC7CA,EAAE,UAAW,IAAI,MAAM,EAAE,EAAG,KAAK,GAAG,EAEhD,CAAK,CACL"}