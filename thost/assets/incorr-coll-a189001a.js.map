{"version":3,"file":"incorr-coll-a189001a.js","sources":["../../node_modules/naive-ui/es/typography/src/li.js","../../src/views/zujuanink-v3/views/list/incorr-coll.vue"],"sourcesContent":["import { defineComponent, h } from 'vue';\nexport default defineComponent({\n    name: 'Li',\n    render() {\n        return h(\"li\", null, this.$slots);\n    }\n});\n","<template>\r\n\r\n    <n-input-group>\r\n      <n-button @click=\"enterFaRETMode\" :disabled=\"FailedColl.length==0\">错题抽查</n-button>\r\n      <n-input-group-label>筛选学科</n-input-group-label>\r\n      <n-cascader\r\n      v-model:value=\"bankid\"\r\n      :options=\"subjectsmap\"\r\n      check-strategy=\"child\"\r\n      :show-path=\"true\"\r\n      @update:value=\"refreshFiCList\"\r\n    />\r\n    <n-input-group-label>共有{{ FailedColl.length }}道错题</n-input-group-label>\r\n    </n-input-group>\r\n<div v-for=\"ii in FailedColl\" class=\"centered\" v-if=\"FailedColl.length>0\"> \r\n    <n-card hoverable>\r\n<question-block :qcontent=\"ii\"/>\r\n<template #action>\r\n      <n-button  type=\"primary\" dashed size=\"small\"  round @click=\"SeeRecord(ii.id)\">查看答题记录</n-button>\r\n      <n-button  type=\"warning\" dashed size=\"small\"  round @click=\"RemoveFromColl(ii.id)\">移除出错题本</n-button>\r\n    </template>\r\n</n-card>\r\n</div>\r\n<div v-else>\r\n  <n-empty description=\"找不到。\">\r\n    <template #extra>\r\n      <n-p>原因可能是：</n-p>\r\n      <n-li>你一道题都没做过（还不快去<n-button text @click=\"$router.push('/zujuanink/preparing-room/all')\">做题</n-button>？？？）</n-li>\r\n      <n-li>你解决了所有错题（祝贺你！所以还不快去<n-button text @click=\"$router.push('/zujuanink/preparing-room/all')\">做更多题</n-button>？？？）</n-li>\r\n    </template>\r\n  </n-empty>\r\n</div>\r\n\r\n\r\n<n-modal v-model:show=\"showRecords\">\r\n    <n-card\r\n      style=\"width: 600px\"\r\n      title=\"答题记录\"\r\n      :bordered=\"false\"\r\n      size=\"huge\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n    >\r\n\r\n\r\n    <n-spin v-if=\"loadingRecords\"/>\r\n\r\n\r\n<div  v-if=\"!loadingRecords\">\r\n      <n-image-group show-toolbar-tooltip>\r\n    <n-space>\r\n        <div v-for=\" ra in recInfo\">\r\n      <n-image\r\n        width=\"100\"\r\n        :src=\"ra.image\"\r\n      />\r\n    </div>\r\n    </n-space>\r\n  </n-image-group>\r\n</div>\r\n\r\n\r\n    </n-card>\r\n  </n-modal>\r\n\r\n\r\n\r\n\r\n</template>\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { API } from \"../../../../shared/APIHelper\";\r\n\r\nimport questionBlock from \"../../questionBlock/ild.vue\"\r\nimport { NCard,NButton,NModal,NSpin,NImage,NImageGroup,NSpace,\r\nNInput,NInputGroup,NInputGroupLabel,NCascader,\r\nNEmpty,NP,NLi } from \"naive-ui\";\r\nimport subjectsmap from \"../../basicinfo/subjects.json\"\r\nconst FailedColl=ref([])\r\n\r\n\r\nimport { useRouter,useRoute } from \"vue-router\";\r\nconst router=useRouter(),route=useRoute()\r\n\r\nconst bankid=ref(12)\r\n\r\n// API.get(\"/zujuan-ink-be-core/data/list/failedcoll\").then(v=>{\r\n//     FailedColl.value=v\r\n// })\r\n\r\nconst refreshFiCList=()=>{\r\n  API.get(\"/zujuan-ink-be-core/data/list/failedcoll/filter/\"+bankid.value).then(v=>{\r\n    FailedColl.value=v\r\n})\r\n}\r\n\r\nrefreshFiCList()\r\n\r\n\r\n\r\nconst showRecords=ref(false),recInfo=ref([]),loadingRecords=ref(true)\r\nconst SeeRecord=(id)=>{\r\n    showRecords.value=true\r\n    API.get(\"/zujuan-ink-be-core/donerec/filter/quuid/all/\"+id).then(v=>{\r\n        recInfo.value=v\r\n        loadingRecords.value=false\r\n    })\r\n}\r\n\r\n\r\nconst enterFaRETMode=()=>{\r\n    window.TList=FailedColl.value\r\n    window.TList.forEach((v,i)=>window.TList[i].quid=window.TList[i].id)\r\n    window.bankid=bankid.value\r\n    window.qcomponent=\"ild\"\r\n    router.push(\"/zujuanink/room\")\r\n}\r\n\r\n\r\nconst RemoveFromColl=(id)=>{\r\n  API.get(\"/zujuan-ink-be-core/data/removeFailedColl/\"+id).then(v=>{\r\n    })\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.centered{\r\n    width: 90%;\r\n    margin: auto auto;\r\n}\r\n</style>"],"names":["NLi","defineComponent","h","FailedColl","ref","router","useRouter","useRoute","bankid","refreshFiCList","API","v","showRecords","recInfo","loadingRecords","SeeRecord","id","enterFaRETMode","i","RemoveFromColl"],"mappings":"s2DACA,MAAAA,EAAeC,EAAgB,CAC3B,KAAM,KACN,QAAS,CACL,OAAOC,EAAE,KAAM,KAAM,KAAK,MAAM,CACnC,CACL,CAAC,kFCwED,MAAMC,EAAWC,EAAI,EAAE,EAIjBC,EAAOC,EAAW,EAAOC,EAAU,EAEzC,MAAMC,EAAOJ,EAAI,EAAE,EAMbK,EAAe,IAAI,CACvBC,EAAI,IAAI,mDAAmDF,EAAO,KAAK,EAAE,KAAKG,GAAG,CAC/ER,EAAW,MAAMQ,CACrB,CAAC,CACD,EAEAF,EAAgB,EAIhB,MAAMG,EAAYR,EAAI,EAAK,EAAES,EAAQT,EAAI,CAAA,CAAE,EAAEU,EAAeV,EAAI,EAAI,EAC9DW,EAAWC,GAAK,CAClBJ,EAAY,MAAM,GAClBF,EAAI,IAAI,gDAAgDM,CAAE,EAAE,KAAKL,GAAG,CAChEE,EAAQ,MAAMF,EACdG,EAAe,MAAM,EAC7B,CAAK,CACL,EAGMG,EAAe,IAAI,CACrB,OAAO,MAAMd,EAAW,MACxB,OAAO,MAAM,QAAQ,CAACQ,EAAEO,IAAI,OAAO,MAAMA,CAAC,EAAE,KAAK,OAAO,MAAMA,CAAC,EAAE,EAAE,EACnE,OAAO,OAAOV,EAAO,MACrB,OAAO,WAAW,MAClBH,EAAO,KAAK,iBAAiB,CACjC,EAGMc,EAAgBH,GAAK,CACzBN,EAAI,IAAI,6CAA6CM,CAAE,EAAE,KAAKL,GAAG,CACnE,CAAK,CACL","x_google_ignoreList":[0]}