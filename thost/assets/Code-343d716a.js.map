{"version":3,"file":"Code-343d716a.js","sources":["../../node_modules/naive-ui/es/_mixins/use-hljs.js","../../node_modules/naive-ui/es/code/styles/light.js","../../node_modules/naive-ui/es/code/src/styles/index.cssr.js","../../node_modules/naive-ui/es/code/src/Code.js"],"sourcesContent":["import { inject, computed, watchEffect } from 'vue';\nimport { configProviderInjectionKey } from '../config-provider/src/context';\nimport { warn } from '../_utils';\nexport default function useHljs(props, shouldHighlightRef) {\n    const NConfigProvider = inject(configProviderInjectionKey, null);\n    if (process.env.NODE_ENV !== 'production') {\n        const warnHljs = () => {\n            if (!props.hljs && !(NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedHljsRef.value)) {\n                warn('code', 'hljs is not set.');\n            }\n        };\n        if (!shouldHighlightRef) {\n            warnHljs();\n        }\n        else {\n            watchEffect(() => {\n                if (shouldHighlightRef.value) {\n                    warnHljs();\n                }\n            });\n        }\n    }\n    return computed(() => {\n        return props.hljs || (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedHljsRef.value);\n    });\n}\n","import { commonLight } from '../../_styles/common';\nconst self = (vars) => {\n    const { textColor2, fontSize, fontWeightStrong, textColor3 } = vars;\n    return {\n        textColor: textColor2,\n        fontSize,\n        fontWeightStrong,\n        // extracted from hljs atom-one-light.scss\n        'mono-3': '#a0a1a7',\n        'hue-1': '#0184bb',\n        'hue-2': '#4078f2',\n        'hue-3': '#a626a4',\n        'hue-4': '#50a14f',\n        'hue-5': '#e45649',\n        'hue-5-2': '#c91243',\n        'hue-6': '#986801',\n        'hue-6-2': '#c18401',\n        // line-number styles\n        lineNumberTextColor: textColor3\n    };\n};\nconst codeLight = {\n    name: 'Code',\n    common: commonLight,\n    self\n};\nexport default codeLight;\n","import { c, cB, cE, cM } from '../../../_utils/cssr';\n// vars:\n// --n-font-size\n// --n-font-family\n// --n-font-weight-strong\n// --n-bezier\n// --n-text-color\n// --n-mono-3\n// --n-hue-1\n// --n-hue-2\n// --n-hue-3\n// --n-hue-4\n// --n-hue-5\n// --n-hue-5-2\n// --n-hue-6\n// --n-hue-6-2\n// --n-line-number-color\n// --n-line-number-text-color\nexport default c([cB('code', `\n font-size: var(--n-font-size);\n font-family: var(--n-font-family);\n `, [cM('show-line-numbers', `\n display: flex;\n `), cE('line-numbers', `\n user-select: none;\n padding-right: 12px;\n text-align: right;\n transition: color .3s var(--n-bezier);\n color: var(--n-line-number-text-color);\n `), cM('word-wrap', [c('pre', `\n white-space: pre-wrap;\n word-break: break-all;\n `)]), c('pre', `\n margin: 0;\n line-height: inherit;\n font-size: inherit;\n font-family: inherit;\n `), c('[class^=hljs]', `\n color: var(--n-text-color);\n transition: \n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n `)]), ({\n  props\n}) => {\n  // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n  const codeClass = `${props.bPrefix}code`;\n  return [`${codeClass} .hljs-comment,\n ${codeClass} .hljs-quote {\n color: var(--n-mono-3);\n font-style: italic;\n }`, `${codeClass} .hljs-doctag,\n ${codeClass} .hljs-keyword,\n ${codeClass} .hljs-formula {\n color: var(--n-hue-3);\n }`, `${codeClass} .hljs-section,\n ${codeClass} .hljs-name,\n ${codeClass} .hljs-selector-tag,\n ${codeClass} .hljs-deletion,\n ${codeClass} .hljs-subst {\n color: var(--n-hue-5);\n }`, `${codeClass} .hljs-literal {\n color: var(--n-hue-1);\n }`, `${codeClass} .hljs-string,\n ${codeClass} .hljs-regexp,\n ${codeClass} .hljs-addition,\n ${codeClass} .hljs-attribute,\n ${codeClass} .hljs-meta-string {\n color: var(--n-hue-4);\n }`, `${codeClass} .hljs-built_in,\n ${codeClass} .hljs-class .hljs-title {\n color: var(--n-hue-6-2);\n }`, `${codeClass} .hljs-attr,\n ${codeClass} .hljs-variable,\n ${codeClass} .hljs-template-variable,\n ${codeClass} .hljs-type,\n ${codeClass} .hljs-selector-class,\n ${codeClass} .hljs-selector-attr,\n ${codeClass} .hljs-selector-pseudo,\n ${codeClass} .hljs-number {\n color: var(--n-hue-6);\n }`, `${codeClass} .hljs-symbol,\n ${codeClass} .hljs-bullet,\n ${codeClass} .hljs-link,\n ${codeClass} .hljs-meta,\n ${codeClass} .hljs-selector-id,\n ${codeClass} .hljs-title {\n color: var(--n-hue-2);\n }`, `${codeClass} .hljs-emphasis {\n font-style: italic;\n }`, `${codeClass} .hljs-strong {\n font-weight: var(--n-font-weight-strong);\n }`, `${codeClass} .hljs-link {\n text-decoration: underline;\n }`];\n}]);","import { defineComponent, h, toRef, watch, onMounted, ref, computed } from 'vue';\nimport { useTheme, useHljs, useConfig, useThemeClass } from '../../_mixins';\nimport { codeLight } from '../styles';\nimport style from './styles/index.cssr';\nexport const codeProps = Object.assign(Object.assign({}, useTheme.props), { language: String, code: {\n        type: String,\n        default: ''\n    }, trim: {\n        type: Boolean,\n        default: true\n    }, hljs: Object, uri: Boolean, inline: Boolean, wordWrap: Boolean, showLineNumbers: Boolean, \n    // In n-log, we only need to mount code's style for highlight\n    internalFontSize: Number, internalNoHighlight: Boolean });\nexport default defineComponent({\n    name: 'Code',\n    props: codeProps,\n    setup(props, { slots }) {\n        const { internalNoHighlight } = props;\n        const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig();\n        const codeRef = ref(null);\n        const hljsRef = internalNoHighlight ? { value: undefined } : useHljs(props);\n        const createCodeHtml = (language, code, trim) => {\n            const { value: hljs } = hljsRef;\n            if (!hljs) {\n                return null;\n            }\n            if (!(language && hljs.getLanguage(language))) {\n                return null;\n            }\n            return hljs.highlight(trim ? code.trim() : code, {\n                language\n            }).value;\n        };\n        const mergedShowLineNumbersRef = computed(() => {\n            if (props.inline || props.wordWrap)\n                return false;\n            return props.showLineNumbers;\n        });\n        const setCode = () => {\n            if (slots.default)\n                return;\n            const { value: codeEl } = codeRef;\n            if (!codeEl)\n                return;\n            const { language } = props;\n            const code = props.uri\n                ? window.decodeURIComponent(props.code)\n                : props.code;\n            if (language) {\n                const html = createCodeHtml(language, code, props.trim);\n                if (html !== null) {\n                    if (props.inline) {\n                        codeEl.innerHTML = html;\n                    }\n                    else {\n                        const prevPreEl = codeEl.querySelector('.__code__');\n                        if (prevPreEl)\n                            codeEl.removeChild(prevPreEl);\n                        const preEl = document.createElement('pre');\n                        preEl.className = '__code__';\n                        preEl.innerHTML = html;\n                        codeEl.appendChild(preEl);\n                    }\n                    return;\n                }\n            }\n            if (props.inline) {\n                codeEl.textContent = code;\n                return;\n            }\n            const maybePreEl = codeEl.querySelector('.__code__');\n            if (maybePreEl) {\n                maybePreEl.textContent = code;\n            }\n            else {\n                const wrap = document.createElement('pre');\n                wrap.className = '__code__';\n                wrap.textContent = code;\n                codeEl.innerHTML = '';\n                codeEl.appendChild(wrap);\n            }\n        };\n        onMounted(setCode);\n        watch(toRef(props, 'language'), setCode);\n        watch(toRef(props, 'code'), setCode);\n        if (!internalNoHighlight)\n            watch(hljsRef, setCode);\n        const themeRef = useTheme('Code', '-code', style, codeLight, props, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut, fontFamilyMono }, self: { textColor, fontSize, fontWeightStrong, lineNumberTextColor, \n            // extracted from hljs atom-one-light.scss\n            'mono-3': $1, 'hue-1': $2, 'hue-2': $3, 'hue-3': $4, 'hue-4': $5, 'hue-5': $6, 'hue-5-2': $7, 'hue-6': $8, 'hue-6-2': $9 } } = themeRef.value;\n            const { internalFontSize } = props;\n            return {\n                '--n-font-size': internalFontSize ? `${internalFontSize}px` : fontSize,\n                '--n-font-family': fontFamilyMono,\n                '--n-font-weight-strong': fontWeightStrong,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-text-color': textColor,\n                '--n-mono-3': $1,\n                '--n-hue-1': $2,\n                '--n-hue-2': $3,\n                '--n-hue-3': $4,\n                '--n-hue-4': $5,\n                '--n-hue-5': $6,\n                '--n-hue-5-2': $7,\n                '--n-hue-6': $8,\n                '--n-hue-6-2': $9,\n                '--n-line-number-text-color': lineNumberTextColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('code', computed(() => {\n                return `${props.internalFontSize || 'a'}`;\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            codeRef,\n            mergedShowLineNumbers: mergedShowLineNumbersRef,\n            lineNumbers: computed(() => {\n                let number = 1;\n                const numbers = [];\n                let lastIsLineWrap = false;\n                for (const char of props.code) {\n                    if (char === '\\n') {\n                        lastIsLineWrap = true;\n                        numbers.push(number++);\n                    }\n                    else {\n                        lastIsLineWrap = false;\n                    }\n                }\n                if (!lastIsLineWrap) {\n                    numbers.push(number++);\n                }\n                return numbers.join('\\n');\n            }),\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        var _a, _b;\n        const { mergedClsPrefix, wordWrap, mergedShowLineNumbers, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"code\", { class: [\n                `${mergedClsPrefix}-code`,\n                this.themeClass,\n                wordWrap && `${mergedClsPrefix}-code--word-wrap`,\n                mergedShowLineNumbers && `${mergedClsPrefix}-code--show-line-numbers`\n            ], style: this.cssVars, ref: \"codeRef\" },\n            mergedShowLineNumbers ? (h(\"pre\", { class: `${mergedClsPrefix}-code__line-numbers` }, this.lineNumbers)) : null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 :\n            _b.call(_a)));\n    }\n});\n"],"names":["useHljs","props","shouldHighlightRef","NConfigProvider","inject","configProviderInjectionKey","computed","self","vars","textColor2","fontSize","fontWeightStrong","textColor3","codeLight","commonLight","codeLight$1","style","c","cB","cM","cE","codeClass","codeProps","useTheme","NCode","defineComponent","slots","internalNoHighlight","mergedClsPrefixRef","inlineThemeDisabled","useConfig","codeRef","ref","hljsRef","createCodeHtml","language","code","trim","hljs","mergedShowLineNumbersRef","setCode","codeEl","html","prevPreEl","preEl","maybePreEl","wrap","onMounted","watch","toRef","themeRef","cssVarsRef","cubicBezierEaseInOut","fontFamilyMono","textColor","lineNumberTextColor","$1","$2","$3","$4","$5","$6","$7","$8","$9","internalFontSize","themeClassHandle","useThemeClass","number","numbers","lastIsLineWrap","char","_a","_b","mergedClsPrefix","wordWrap","mergedShowLineNumbers","onRender","h"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}