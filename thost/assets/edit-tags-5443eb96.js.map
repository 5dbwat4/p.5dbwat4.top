{"version":3,"file":"edit-tags-5443eb96.js","sources":["../../src/views/mistakes_coll/edit-tags.vue"],"sourcesContent":["<template>\r\n      <p>选择父节点</p>\r\n\r\n<n-cascader\r\n  cascade\r\n  :options=\"options\"\r\n  v-model:value=\"ADD_parentTag\"\r\n/>\r\n<p>输入子节点名：</p>\r\n\r\n<n-input v-model:value=\"ADD_tagName\"></n-input>\r\n\r\n<n-button @click=\"handleAdd\">OK</n-button>\r\n\r\n</template>\r\n<script setup>\r\nimport { NCascader } from 'naive-ui';\r\nimport { API } from '@/shared/APIHelper';\r\nimport { ref, useAttrs } from 'vue';\r\nimport { NInput,NButton,NModal,NCard,NInputGroup } from 'naive-ui';\r\nconst options=ref([])\r\nconst showAddTagModal=ref(false)\r\nAPI.get(\"/api/data/mistakes_coll/tags/get\").then(v=>{\r\n    options.value=v\r\n})\r\n\r\nconst attrs=useAttrs()\r\nconsole.log(attrs);\r\n\r\n\r\nconst updateV=(a)=>{\r\n    attrs[\"onUpdate:tags\"](a)\r\n}\r\n\r\n\r\nconst tags=ref([])\r\n\r\n\r\n\r\nconst ADD_tagName=ref(\"\"),ADD_parentTag=ref(\"\")\r\n\r\n\r\nconst handleAdd=()=>{\r\n    console.log(ADD_parentTag.value,ADD_tagName.value);\r\n    API.post(\"/api/data/mistakes_coll/tags/add\",{\r\n        parent:ADD_parentTag.value,\r\n        childLabel:ADD_tagName.value\r\n    }).then(vccc=>{\r\n        API.get(\"/api/data/mistakes_coll/tags/get\").then(v=>{\r\n    options.value=v\r\ntags.value.push(vccc.id)\r\nshowAddTagModal.value=false\r\n})\r\n    })\r\n}\r\n</script>"],"names":["options","ref","showAddTagModal","API","v","attrs","useAttrs","tags","ADD_tagName","ADD_parentTag","handleAdd","vccc"],"mappings":"w5CAoBA,MAAAA,EAAAC,EAAA,EAAA,EACAC,EAAAD,EAAA,EAAA,EACAE,EAAA,IAAA,kCAAA,EAAA,KAAAC,GAAA,CACAJ,EAAA,MAAAI,CACA,CAAA,EAEA,MAAAC,EAAAC,EAAA,EACA,QAAA,IAAAD,CAAA,EAQA,MAAAE,EAAAN,EAAA,EAAA,EAIAO,EAAAP,EAAA,EAAA,EAAAQ,EAAAR,EAAA,EAAA,EAGAS,EAAA,IAAA,CACA,QAAA,IAAAD,EAAA,MAAAD,EAAA,KAAA,EACAL,EAAA,KAAA,mCAAA,CACA,OAAAM,EAAA,MACA,WAAAD,EAAA,KACA,CAAA,EAAA,KAAAG,GAAA,CACAR,EAAA,IAAA,kCAAA,EAAA,KAAAC,GAAA,CACAJ,EAAA,MAAAI,EACAG,EAAA,MAAA,KAAAI,EAAA,EAAA,EACAT,EAAA,MAAA,EACA,CAAA,CACA,CAAA,CACA"}