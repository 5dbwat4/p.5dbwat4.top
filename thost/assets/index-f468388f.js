import{useRoute as b,useRouter as x}from"./vue-router-ee92e3b2.js";import{A as N}from"./APIHelper-c6c5541a.js";import{as as D,aZ as v,a8 as p,l as m,t as i,aE as n,b7 as o,s,j as O,k as g,F as q,m as c,ae as P,bd as k}from"./index-c2ed52a5.js";import{N as j}from"./Card-bc241d1a.js";import{N as U}from"./Input-b50999c9.js";import{N as d}from"./Button-591cb8c7.js";import{N as z}from"./Modal-edc91d29.js";import{n as A}from"./toScreenDisplay-7366afcc.js";import{q as E}from"./define_basic_qtypes-5cc5565b.js";import"./light-3c431b54.js";import"./format-length-c9d165c6.js";import"./Icon-9d083982.js";import"./Warning-fc401418.js";import"./Close-4e65a8ab.js";import"./Scrollbar-5b7370f2.js";import"./runtime-dom.esm-bundler-51aad541.js";import"./keysOf-5d5107c5.js";import"./use-memo-13475312.js";import"./use-is-mounted-912be460.js";import"./use-locale-ca0d0990.js";import"./index-975a2d8f.js";import"./use-merged-state-5c1c3246.js";import"./Loading-b36f50c8.js";import"./light-951b0264.js";import"./Suffix-26bafbe6.js";import"./FadeInExpandTransition-3bfdffc9.js";import"./index-80752888.js";import"./flatten-30e3eebb.js";import"./use-false-until-truthy-96bf4c79.js";import"./fade-in-scale-up.cssr-6d358681.js";import"./utils-20c36e7e.js";import"./index-cbfaa337.js";const F={__name:"batch2groupForm",setup(T){b();const _=x(),r=D(),f=async()=>{N.post("/api/group/new",{entry:r.ql,timestamp:new Date().getTime(),title:a.value,desc:w.value}).then(C=>{y.value=!0,h.value=C.id})},y=v(!1),h=v(""),l=async()=>{_.push("/group/"+h.value)},e=v(!1),a=v(""),w=v("");return(C,t)=>(p(),m(q,null,[i(o(z),{show:e.value,"onUpdate:show":t[3]||(t[3]=u=>e.value=u)},{default:n(()=>[i(o(j),null,{default:n(()=>[i(o(U),{placeholder:"Title",value:a.value,"onUpdate:value":t[0]||(t[0]=u=>a.value=u)},null,8,["value"]),i(o(U),{placeholder:"Desc",type:"textarea",value:w.value,"onUpdate:value":t[1]||(t[1]=u=>w.value=u)},null,8,["value"]),i(o(d),{onClick:t[2]||(t[2]=u=>f())},{default:n(()=>[s("save")]),_:1})]),_:1})]),_:1},8,["show"]),i(o(d),{onClick:t[4]||(t[4]=u=>e.value=!0)},{default:n(()=>[s("save")]),_:1}),y.value?(p(),O(o(d),{key:0,onClick:t[5]||(t[5]=u=>l())},{default:n(()=>[s("View")]),_:1})):g("",!0)],64))}},H={style:{width:"18.76cm"}},I={style:{"font-size":"9.5pt"}},L={style:{"font-family":"'courier new'"}},M={style:{"font-family":"'courier new'"}},J={key:0},R=["innerHTML"],S={key:1},V=["src"],$={key:2},B=["src"],G={__name:"index",setup(T){const _=b();x();const r=v({q:!0,a:!1,p:!1}),f=v({});_.params.ids.split(",").forEach(l=>{f.value[l]=E}),Promise.all(_.params.ids.split(",").map(l=>new Promise((e,a)=>{N.post("/api/get",{id:l}).then(w=>{f.value[l]=w})}))).then(()=>{});const y=l=>JSON.parse(l),h=l=>Object.entries(l).map(e=>e[1]);return(l,e)=>(p(),m(q,null,[i(o(d),{onClick:e[0]||(e[0]=a=>r.value.q=!r.value.q)},{default:n(()=>[s("Q")]),_:1}),i(o(d),{onClick:e[1]||(e[1]=a=>r.value.a=!r.value.a)},{default:n(()=>[s("A")]),_:1}),i(o(d),{onClick:e[2]||(e[2]=a=>r.value.p=!r.value.p)},{default:n(()=>[s("P")]),_:1}),i(F,{ql:l.$route.params.ids},null,8,["ql"]),c("div",H,[(p(!0),m(q,null,P(h(f.value),a=>(p(),m("div",{key:a.id},[c("p",I,[s("UUID:"),c("span",L,k(a.id),1),s(" | qid:"),c("span",M,k(a.qid),1),s(),r.value.q?(p(),m("span",J,"| Info: "+k(y(a.extra).info)+" | Origin: "+k(y(a.extra).from),1)):g("",!0)]),r.value.q?(p(),m("div",{key:0,innerHTML:o(A)(a.q),style:{"font-size":"10.5pt","font-family":"Cambria , \u5B8B\u4F53"}},null,8,R)):g("",!0),r.value.a?(p(),m("div",S,[c("img",{src:"/oss-storage/"+a.a.replace("<answerparser>","").replace("</answerparser>","").split("|")[0]+".png"},null,8,V)])):g("",!0),r.value.p?(p(),m("div",$,[c("img",{src:"/oss-storage/"+a.a.replace("<answerparser>","").replace("</answerparser>","").split("|")[1]+".png"},null,8,B)])):g("",!0)]))),128))])],64))}};export{G as default};
