import C from"./subjects-8683e557.js";import{Z as q}from"./zujuan-api-f429916a.js";import{A as N}from"./APIHelper-c6c5541a.js";import"./router-goto-2503de32.js";import{C as g}from"./zjw-8fbbdcb1.js";import{useRouter as w,useRoute as I}from"./vue-router-ee92e3b2.js";import{p as R}from"./polishinguptlist-31ae212d.js";import{s as D}from"./sweetalert.min-b990379b.js";import{b as F}from"./blankpic-ca06291d.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{aZ as n,a8 as p,l as d,j as _,aE as r,b7 as o,k,F as h,t as a,s as u,ae as j}from"./index-c2ed52a5.js";import{N as A}from"./p-87ab3748.js";import{N as Z}from"./Cascader-e2e09c75.js";import{N as c}from"./Button-591cb8c7.js";import{N as f}from"./Card-bc241d1a.js";import"./light-3c431b54.js";import"./format-length-c9d165c6.js";import"./Icon-9d083982.js";import"./Warning-fc401418.js";import"./Close-4e65a8ab.js";import"./Scrollbar-5b7370f2.js";import"./runtime-dom.esm-bundler-51aad541.js";import"./keysOf-5d5107c5.js";import"./CONFIG-d506a2d4.js";import"./nomorlize_q-tailored-672252d5.js";import"./Divider-3c6a8fe5.js";import"./Ellipsis-96e2d292.js";import"./Tooltip-121d8b6c.js";import"./Popover-4ea150e0.js";import"./index-80752888.js";import"./flatten-30e3eebb.js";import"./use-false-until-truthy-96bf4c79.js";import"./get-8a3b42fc.js";import"./use-memo-13475312.js";import"./cssr-b950d06d.js";import"./utils-20c36e7e.js";import"./use-is-mounted-912be460.js";import"./use-merged-state-5c1c3246.js";import"./use-compitable-c3112252.js";import"./next-frame-once-7035a838.js";import"./Space-0b2fef7a.js";import"./get-slot-1efb97e5.js";import"./_commonjsHelpers-de833af9.js";import"./light-951fcd76.js";import"./utils-ae16cb7a.js";import"./fade-in-scale-up.cssr-6d358681.js";import"./create-2c70b56a.js";import"./Loading-b36f50c8.js";import"./ChevronRight-473b2df6.js";import"./use-locale-ca0d0990.js";import"./index-975a2d8f.js";import"./Suffix-26bafbe6.js";import"./Tag-9a87d369.js";import"./Checkbox-7001ae57.js";import"./index-cbfaa337.js";import"./FadeInExpandTransition-3bfdffc9.js";const x={class:"centered"},B={__name:"manualadd",setup(K){w();const v=I(),m=n(15),s=n(1),l=n([]);v.query.bankid&&(m.value=parseInt(v.query.bankid));const y=async()=>{q("/app-server/v1/basket/"+m.value).then(async i=>{let t=[];i.data.structure.forEach(e=>{t.push(...e.list)}),t=await R(m.value,t),s.value=2,l.value=t})},b=async()=>{for(let i=0;i<l.value.length;i++)await N.post("/zujuan-ink-be-core/donerec/add",{quid:l.value[i].quid,date:new Date().toDateString(),timestamp:new Date().getTime(),image:F,parent:"unsaved"});D({icon:"success",title:"OK"})};return(i,t)=>(p(),d(h,null,[s.value==1?(p(),_(o(f),{key:0,title:"\u624B\u52A8\u6DFB\u52A0\u9519\u9898"},{default:r(()=>[a(o(A),null,{default:r(()=>[u("\u5C06\u4F7F\u7528\u6765\u81EA\u8BD5\u9898\u7BEE\u7684\u6570\u636E")]),_:1}),a(o(Z),{value:m.value,"onUpdate:value":t[0]||(t[0]=e=>m.value=e),options:o(C),"check-strategy":"child","show-path":!0},null,8,["value","options"]),a(o(c),{onClick:y},{default:r(()=>[u("CONFIRM")]),_:1})]),_:1})):k("",!0),s.value==2?(p(),_(o(f),{key:1,title:"\u786E\u8BA4\u9519\u9898\u6570\u636E"},{default:r(()=>[a(o(c),{onClick:t[1]||(t[1]=e=>s.value=0)},{default:r(()=>[u("> BACK")]),_:1}),(p(!0),d(h,null,j(l.value,e=>(p(),d("div",x,[a(o(f),{hoverable:""},{default:r(()=>[a(g,{qcontent:e},null,8,["qcontent"])]),_:2},1024)]))),256)),a(o(c),{onClick:b},{default:r(()=>[u("CONFIRM")]),_:1})]),_:1})):k("",!0)],64))}},E=O(B,[["__scopeId","data-v-c1866d2c"]]);export{E as default};
