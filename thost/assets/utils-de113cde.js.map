{"version":3,"file":"utils-de113cde.js","sources":["../../node_modules/naive-ui/es/_utils/vue/merge-handlers.js","../../node_modules/vueuc/es/shared/finweck-tree.js","../../node_modules/vueuc/es/virtual-list/src/config.js","../../node_modules/vueuc/es/virtual-list/src/VirtualList.js","../../node_modules/vueuc/es/overflow/src/index.js","../../node_modules/naive-ui/es/_utils/composable/use-resize.js","../../node_modules/naive-ui/es/_internal/icons/Checkmark.js","../../node_modules/naive-ui/es/_internal/icons/Empty.js","../../node_modules/naive-ui/es/_internal/focus-detector/src/FocusDetector.js","../../node_modules/naive-ui/es/empty/styles/_common.js","../../node_modules/naive-ui/es/empty/styles/light.js","../../node_modules/naive-ui/es/empty/src/styles/index.cssr.js","../../node_modules/naive-ui/es/empty/src/Empty.js","../../node_modules/naive-ui/es/_internal/select-menu/styles/_common.js","../../node_modules/naive-ui/es/_internal/select-menu/styles/light.js","../../node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.js","../../node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.js","../../node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.js","../../node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.js","../../node_modules/naive-ui/es/_internal/selection/styles/_common.js","../../node_modules/naive-ui/es/_internal/selection/styles/light.js","../../node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.js","../../node_modules/naive-ui/es/_internal/selection/src/Selection.js","../../node_modules/naive-ui/es/select/src/utils.js"],"sourcesContent":["export function mergeEventHandlers(handlers) {\n    const filteredHandlers = handlers.filter((handler) => handler !== undefined);\n    if (filteredHandlers.length === 0)\n        return undefined;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    if (filteredHandlers.length === 1)\n        return filteredHandlers[0];\n    return (e) => {\n        handlers.forEach((handler) => {\n            if (handler) {\n                handler(e);\n            }\n        });\n    };\n}\n","function lowBit(n) {\n    return n & -n;\n}\nexport class FinweckTree {\n    /**\n     * @param l length of the array\n     * @param min min value of the array\n     */\n    constructor(l, min) {\n        this.l = l;\n        this.min = min;\n        const ft = new Array(l + 1);\n        for (let i = 0; i < l + 1; ++i) {\n            ft[i] = 0;\n        }\n        this.ft = ft;\n    }\n    /**\n     * Add arr[i] by n, start from 0\n     * @param i the index of the element to be added\n     * @param n the value to be added\n     */\n    add(i, n) {\n        if (n === 0)\n            return;\n        const { l, ft } = this;\n        i += 1;\n        while (i <= l) {\n            ft[i] += n;\n            i += lowBit(i);\n        }\n    }\n    /**\n     * Get the value of index i\n     * @param i index\n     * @returns value of the index\n     */\n    get(i) {\n        return this.sum(i + 1) - this.sum(i);\n    }\n    /**\n     * Get the sum of first i elements\n     * @param i count of head elements to be added\n     * @returns the sum of first i elements\n     */\n    sum(i) {\n        if (i === undefined)\n            i = this.l;\n        if (i <= 0)\n            return 0;\n        const { ft, min, l } = this;\n        if (i > l)\n            throw new Error('[FinweckTree.sum]: `i` is larger than length.');\n        let ret = i * min;\n        while (i > 0) {\n            ret += ft[i];\n            i -= lowBit(i);\n        }\n        return ret;\n    }\n    /**\n     * Get the largest count of head elements whose sum are <= threshold\n     * @param threshold\n     * @returns the largest count of head elements whose sum are <= threshold\n     */\n    getBound(threshold) {\n        let l = 0;\n        let r = this.l;\n        while (r > l) {\n            const m = Math.floor((l + r) / 2);\n            const sumM = this.sum(m);\n            if (sumM > threshold) {\n                r = m;\n                continue;\n            }\n            else if (sumM < threshold) {\n                if (l === m) {\n                    if (this.sum(l + 1) <= threshold)\n                        return l + 1;\n                    return m;\n                }\n                l = m;\n            }\n            else {\n                return m;\n            }\n        }\n        return l;\n    }\n}\n","let maybeTouch;\nexport function ensureMaybeTouch() {\n    if (maybeTouch === undefined) {\n        if ('matchMedia' in window) {\n            maybeTouch = window.matchMedia('(pointer:coarse)').matches;\n        }\n        else {\n            maybeTouch = false;\n        }\n    }\n    return maybeTouch;\n}\nlet wheelScale;\nexport function ensureWheelScale() {\n    if (wheelScale === undefined) {\n        wheelScale = 'chrome' in window\n            ? window.devicePixelRatio\n            : 1;\n    }\n    return wheelScale;\n}\n","/* eslint-disable no-void */\n/* eslint-disable @typescript-eslint/restrict-plus-operands */\nimport { mergeProps, computed, defineComponent, ref, onMounted, h, onActivated, onDeactivated } from 'vue';\nimport { beforeNextFrameOnce, depx, pxfy } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport VResizeObserver from '../../resize-observer/src/VResizeObserver';\nimport { c, cssrAnchorMetaName, FinweckTree } from '../../shared';\nimport { ensureMaybeTouch, ensureWheelScale } from './config';\nconst styles = c('.v-vl', {\n    maxHeight: 'inherit',\n    height: '100%',\n    overflow: 'auto',\n    minWidth: '1px' // a zero width container won't be scrollable\n}, [\n    c('&:not(.v-vl--show-scrollbar)', {\n        scrollbarWidth: 'none'\n    }, [\n        c('&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb', {\n            width: 0,\n            height: 0,\n            display: 'none'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'VirtualList',\n    inheritAttrs: false,\n    props: {\n        showScrollbar: {\n            type: Boolean,\n            default: true\n        },\n        items: {\n            type: Array,\n            default: () => []\n        },\n        // it is suppose to be the min height\n        itemSize: {\n            type: Number,\n            required: true\n        },\n        itemResizable: Boolean,\n        itemsStyle: [String, Object],\n        visibleItemsTag: {\n            type: [String, Object],\n            default: 'div'\n        },\n        visibleItemsProps: Object,\n        ignoreItemResize: Boolean,\n        onScroll: Function,\n        onWheel: Function,\n        onResize: Function,\n        defaultScrollKey: [Number, String],\n        defaultScrollIndex: Number,\n        keyField: {\n            type: String,\n            default: 'key'\n        },\n        // Whether it is a good API?\n        // ResizeObserver + footer & header is not enough.\n        // Too complex for simple case\n        paddingTop: {\n            type: [Number, String],\n            default: 0\n        },\n        paddingBottom: {\n            type: [Number, String],\n            default: 0\n        }\n    },\n    setup(props) {\n        const ssrAdapter = useSsrAdapter();\n        styles.mount({\n            id: 'vueuc/virtual-list',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(() => {\n            const { defaultScrollIndex, defaultScrollKey } = props;\n            if (defaultScrollIndex !== undefined && defaultScrollIndex !== null) {\n                scrollTo({ index: defaultScrollIndex });\n            }\n            else if (defaultScrollKey !== undefined && defaultScrollKey !== null) {\n                scrollTo({ key: defaultScrollKey });\n            }\n        });\n        let isDeactivated = false;\n        let activateStateInitialized = false;\n        onActivated(() => {\n            isDeactivated = false;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n                return;\n            }\n            // remount\n            scrollTo({ top: scrollTopRef.value, left: scrollLeft });\n        });\n        onDeactivated(() => {\n            isDeactivated = true;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n            }\n        });\n        const keyIndexMapRef = computed(() => {\n            const map = new Map();\n            const { keyField } = props;\n            props.items.forEach((item, index) => {\n                map.set(item[keyField], index);\n            });\n            return map;\n        });\n        const listElRef = ref(null);\n        const listHeightRef = ref(undefined);\n        const keyToHeightOffset = new Map();\n        const finweckTreeRef = computed(() => {\n            const { items, itemSize, keyField } = props;\n            const ft = new FinweckTree(items.length, itemSize);\n            items.forEach((item, index) => {\n                const key = item[keyField];\n                const heightOffset = keyToHeightOffset.get(key);\n                if (heightOffset !== undefined) {\n                    ft.add(index, heightOffset);\n                }\n            });\n            return ft;\n        });\n        const finweckTreeUpdateTrigger = ref(0);\n        let scrollLeft = 0;\n        const scrollTopRef = ref(0);\n        const startIndexRef = useMemo(() => {\n            return Math.max(finweckTreeRef.value.getBound(scrollTopRef.value - depx(props.paddingTop)) - 1, 0);\n        });\n        const viewportItemsRef = computed(() => {\n            const { value: listHeight } = listHeightRef;\n            if (listHeight === undefined)\n                return [];\n            const { items, itemSize } = props;\n            const startIndex = startIndexRef.value;\n            const endIndex = Math.min(startIndex + Math.ceil(listHeight / itemSize + 1), items.length - 1);\n            const viewportItems = [];\n            for (let i = startIndex; i <= endIndex; ++i) {\n                viewportItems.push(items[i]);\n            }\n            return viewportItems;\n        });\n        const scrollTo = (options, y) => {\n            if (typeof options === 'number') {\n                scrollToPosition(options, y, 'auto');\n                return;\n            }\n            const { left, top, index, key, position, behavior, debounce = true } = options;\n            if (left !== undefined || top !== undefined) {\n                scrollToPosition(left, top, behavior);\n            }\n            else if (index !== undefined) {\n                scrollToIndex(index, behavior, debounce);\n            }\n            else if (key !== undefined) {\n                const toIndex = keyIndexMapRef.value.get(key);\n                if (toIndex !== undefined)\n                    scrollToIndex(toIndex, behavior, debounce);\n            }\n            else if (position === 'bottom') {\n                scrollToPosition(0, Number.MAX_SAFE_INTEGER, behavior);\n            }\n            else if (position === 'top') {\n                scrollToPosition(0, 0, behavior);\n            }\n        };\n        let anchorIndex;\n        let anchorTimerId = null;\n        function scrollToIndex(index, behavior, debounce) {\n            const { value: ft } = finweckTreeRef;\n            const targetTop = ft.sum(index) + depx(props.paddingTop);\n            if (!debounce) {\n                listElRef.value.scrollTo({\n                    left: 0,\n                    top: targetTop,\n                    behavior\n                });\n            }\n            else {\n                anchorIndex = index;\n                if (anchorTimerId !== null) {\n                    window.clearTimeout(anchorTimerId);\n                }\n                anchorTimerId = window.setTimeout(() => {\n                    anchorIndex = undefined;\n                    anchorTimerId = null;\n                }, 16); // use 0 ms may be ealier than resize callback...\n                const { scrollTop, offsetHeight } = listElRef.value;\n                if (targetTop > scrollTop) {\n                    const itemSize = ft.get(index);\n                    if (targetTop + itemSize <= scrollTop + offsetHeight) {\n                        // do nothing\n                    }\n                    else {\n                        listElRef.value.scrollTo({\n                            left: 0,\n                            top: targetTop + itemSize - offsetHeight,\n                            behavior\n                        });\n                    }\n                }\n                else {\n                    listElRef.value.scrollTo({\n                        left: 0,\n                        top: targetTop,\n                        behavior\n                    });\n                }\n            }\n        }\n        function scrollToPosition(left, top, behavior) {\n            listElRef.value.scrollTo({\n                left,\n                top,\n                behavior\n            });\n        }\n        function handleItemResize(key, entry) {\n            var _a, _b, _c;\n            if (isDeactivated)\n                return;\n            if (props.ignoreItemResize)\n                return;\n            if (isHideByVShow(entry.target))\n                return;\n            const { value: ft } = finweckTreeRef;\n            const index = keyIndexMapRef.value.get(key);\n            const previousHeight = ft.get(index);\n            const height = (_c = (_b = (_a = entry.borderBoxSize) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.blockSize) !== null && _c !== void 0 ? _c : entry.contentRect.height;\n            if (height === previousHeight)\n                return;\n            // height offset based on itemSize\n            // used when rebuild the finweck tree\n            const offset = height - props.itemSize;\n            if (offset === 0) {\n                keyToHeightOffset.delete(key);\n            }\n            else {\n                keyToHeightOffset.set(key, height - props.itemSize);\n            }\n            // delta height based on finweck tree data\n            const delta = height - previousHeight;\n            if (delta === 0)\n                return;\n            ft.add(index, delta);\n            const listEl = listElRef.value;\n            if (listEl != null) {\n                if (anchorIndex === undefined) {\n                    const previousHeightSum = ft.sum(index);\n                    if (listEl.scrollTop > previousHeightSum) {\n                        listEl.scrollBy(0, delta);\n                    }\n                }\n                else {\n                    if (index < anchorIndex) {\n                        listEl.scrollBy(0, delta);\n                    }\n                    else if (index === anchorIndex) {\n                        const previousHeightSum = ft.sum(index);\n                        if (height + previousHeightSum >\n                            // Note, listEl shouldn't have border, nor offsetHeight won't be\n                            // correct\n                            listEl.scrollTop + listEl.offsetHeight) {\n                            listEl.scrollBy(0, delta);\n                        }\n                    }\n                }\n                syncViewport();\n            }\n            finweckTreeUpdateTrigger.value++;\n        }\n        const mayUseWheel = !ensureMaybeTouch();\n        let wheelCatched = false;\n        function handleListScroll(e) {\n            var _a;\n            (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (!mayUseWheel || !wheelCatched) {\n                syncViewport();\n            }\n        }\n        function handleListWheel(e) {\n            var _a;\n            (_a = props.onWheel) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (mayUseWheel) {\n                const listEl = listElRef.value;\n                if (listEl != null) {\n                    if (e.deltaX === 0) {\n                        if (listEl.scrollTop === 0 && e.deltaY <= 0) {\n                            return;\n                        }\n                        if (listEl.scrollTop + listEl.offsetHeight >= listEl.scrollHeight &&\n                            e.deltaY >= 0) {\n                            return;\n                        }\n                    }\n                    e.preventDefault();\n                    listEl.scrollTop += e.deltaY / ensureWheelScale();\n                    listEl.scrollLeft += e.deltaX / ensureWheelScale();\n                    syncViewport();\n                    wheelCatched = true;\n                    beforeNextFrameOnce(() => {\n                        wheelCatched = false;\n                    });\n                }\n            }\n        }\n        function handleListResize(entry) {\n            if (isDeactivated)\n                return;\n            // List is HTMLElement\n            if (isHideByVShow(entry.target))\n                return;\n            // If height is same, return\n            if (entry.contentRect.height === listHeightRef.value)\n                return;\n            listHeightRef.value = entry.contentRect.height;\n            const { onResize } = props;\n            if (onResize !== undefined)\n                onResize(entry);\n        }\n        function syncViewport() {\n            const { value: listEl } = listElRef;\n            // sometime ref el can be null\n            // https://github.com/TuSimple/naive-ui/issues/811\n            if (listEl == null)\n                return;\n            scrollTopRef.value = listEl.scrollTop;\n            scrollLeft = listEl.scrollLeft;\n        }\n        function isHideByVShow(el) {\n            let cursor = el;\n            while (cursor !== null) {\n                if (cursor.style.display === 'none')\n                    return true;\n                cursor = cursor.parentElement;\n            }\n            return false;\n        }\n        return {\n            listHeight: listHeightRef,\n            listStyle: {\n                overflow: 'auto'\n            },\n            keyToIndex: keyIndexMapRef,\n            itemsStyle: computed(() => {\n                const { itemResizable } = props;\n                const height = pxfy(finweckTreeRef.value.sum());\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return [\n                    props.itemsStyle,\n                    {\n                        boxSizing: 'content-box',\n                        height: itemResizable ? '' : height,\n                        minHeight: itemResizable ? height : '',\n                        paddingTop: pxfy(props.paddingTop),\n                        paddingBottom: pxfy(props.paddingBottom)\n                    }\n                ];\n            }),\n            visibleItemsStyle: computed(() => {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return {\n                    transform: `translateY(${pxfy(finweckTreeRef.value.sum(startIndexRef.value))})`\n                };\n            }),\n            viewportItems: viewportItemsRef,\n            listElRef,\n            itemsElRef: ref(null),\n            scrollTo,\n            handleListResize,\n            handleListScroll,\n            handleListWheel,\n            handleItemResize\n        };\n    },\n    render() {\n        const { itemResizable, keyField, keyToIndex, visibleItemsTag } = this;\n        return h(VResizeObserver, {\n            onResize: this.handleListResize\n        }, {\n            default: () => {\n                var _a, _b;\n                return h('div', mergeProps(this.$attrs, {\n                    class: ['v-vl', this.showScrollbar && 'v-vl--show-scrollbar'],\n                    onScroll: this.handleListScroll,\n                    onWheel: this.handleListWheel,\n                    ref: 'listElRef'\n                }), [\n                    this.items.length !== 0\n                        ? h('div', {\n                            ref: 'itemsElRef',\n                            class: 'v-vl-items',\n                            style: this.itemsStyle\n                        }, [\n                            h(visibleItemsTag, Object.assign({\n                                class: 'v-vl-visible-items',\n                                style: this.visibleItemsStyle\n                            }, this.visibleItemsProps), {\n                                default: () => this.viewportItems.map((item) => {\n                                    const key = item[keyField];\n                                    const index = keyToIndex.get(key);\n                                    const itemVNode = this.$slots.default({\n                                        item,\n                                        index\n                                    })[0];\n                                    if (itemResizable) {\n                                        return h(VResizeObserver, {\n                                            key,\n                                            onResize: (entry) => this.handleItemResize(key, entry)\n                                        }, {\n                                            default: () => itemVNode\n                                        });\n                                    }\n                                    itemVNode.key = key;\n                                    return itemVNode;\n                                })\n                            })\n                        ])\n                        : (_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)\n                ]);\n            }\n        });\n    }\n});\n","/* eslint-disable @typescript-eslint/strict-boolean-expressions */\nimport { defineComponent, renderSlot, h, onMounted, ref, nextTick } from 'vue';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { c, cssrAnchorMetaName } from '../../shared';\nconst hiddenAttr = 'v-hidden';\nconst style = c('[v-hidden]', {\n    display: 'none!important'\n});\nexport default defineComponent({\n    name: 'Overflow',\n    props: {\n        getCounter: Function,\n        getTail: Function,\n        updateCounter: Function,\n        onUpdateOverflow: Function\n    },\n    setup(props, { slots }) {\n        const selfRef = ref(null);\n        const counterRef = ref(null);\n        function deriveCounter() {\n            const { value: self } = selfRef;\n            const { getCounter, getTail } = props;\n            let counter;\n            if (getCounter !== undefined)\n                counter = getCounter();\n            else {\n                counter = counterRef.value;\n            }\n            if (!self || !counter)\n                return;\n            if (counter.hasAttribute(hiddenAttr)) {\n                counter.removeAttribute(hiddenAttr);\n            }\n            const { children } = self;\n            const containerWidth = self.offsetWidth;\n            const childWidths = [];\n            const tail = slots.tail ? getTail === null || getTail === void 0 ? void 0 : getTail() : null;\n            let childWidthSum = tail ? tail.offsetWidth : 0;\n            let overflow = false;\n            const len = self.children.length - (slots.tail ? 1 : 0);\n            for (let i = 0; i < len - 1; ++i) {\n                if (i < 0)\n                    continue;\n                const child = children[i];\n                if (overflow) {\n                    if (!child.hasAttribute(hiddenAttr)) {\n                        child.setAttribute(hiddenAttr, '');\n                    }\n                    continue;\n                }\n                else if (child.hasAttribute(hiddenAttr)) {\n                    child.removeAttribute(hiddenAttr);\n                }\n                const childWidth = child.offsetWidth;\n                childWidthSum += childWidth;\n                childWidths[i] = childWidth;\n                if (childWidthSum > containerWidth) {\n                    const { updateCounter } = props;\n                    for (let j = i; j >= 0; --j) {\n                        const restCount = len - 1 - j;\n                        if (updateCounter !== undefined) {\n                            updateCounter(restCount);\n                        }\n                        else {\n                            counter.textContent = `${restCount}`;\n                        }\n                        const counterWidth = counter.offsetWidth;\n                        childWidthSum -= childWidths[j];\n                        if (childWidthSum + counterWidth <= containerWidth || j === 0) {\n                            overflow = true;\n                            i = j - 1;\n                            if (tail) {\n                                // tail too long or 1st element too long\n                                // we only consider tail now\n                                if (i === -1) {\n                                    tail.style.maxWidth = `${containerWidth - counterWidth}px`;\n                                    tail.style.boxSizing = 'border-box';\n                                }\n                                else {\n                                    tail.style.maxWidth = '';\n                                }\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n            const { onUpdateOverflow } = props;\n            if (!overflow) {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(false);\n                }\n                counter.setAttribute(hiddenAttr, '');\n            }\n            else {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(true);\n                }\n            }\n        }\n        const ssrAdapter = useSsrAdapter();\n        style.mount({\n            id: 'vueuc/overflow',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(deriveCounter);\n        // besides onMounted, other case should be manually triggered, or we shoud watch items\n        return {\n            selfRef,\n            counterRef,\n            sync: deriveCounter\n        };\n    },\n    render() {\n        const { $slots } = this;\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        nextTick(this.sync);\n        // It shouldn't have border\n        return h('div', {\n            class: 'v-overflow',\n            ref: 'selfRef'\n        }, [\n            renderSlot($slots, 'default'),\n            // $slots.counter should only has 1 element\n            $slots.counter\n                ? $slots.counter()\n                : h('span', {\n                    style: {\n                        display: 'inline-block'\n                    },\n                    ref: 'counterRef'\n                }),\n            // $slots.tail should only has 1 element\n            $slots.tail ? $slots.tail() : null\n        ]);\n    }\n});\n","import { onBeforeUnmount, onMounted } from 'vue';\nimport { resizeObserverManager } from 'vueuc';\nexport function useOnResize(elRef, onResize) {\n    // it needn't be reactive since it's for internal usage\n    if (onResize) {\n        onMounted(() => {\n            const { value: el } = elRef;\n            if (el) {\n                resizeObserverManager.registerHandler(el, onResize);\n            }\n        });\n        onBeforeUnmount(() => {\n            const { value: el } = elRef;\n            if (el) {\n                resizeObserverManager.unregisterHandler(el);\n            }\n        });\n    }\n}\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Checkmark',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 16 16\" },\n            h(\"g\", { fill: \"none\" },\n                h(\"path\", { d: \"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z\", fill: \"currentColor\" }))));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Empty',\n    render() {\n        return (h(\"svg\", { viewBox: \"0 0 28 28\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n            h(\"path\", { d: \"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z\", fill: \"currentColor\" }),\n            h(\"path\", { d: \"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z\", fill: \"currentColor\" })));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    props: {\n        onFocus: Function,\n        onBlur: Function\n    },\n    setup(props) {\n        return () => (h(\"div\", { style: \"width: 0; height: 0\", tabindex: 0, onFocus: props.onFocus, onBlur: props.onBlur }));\n    }\n});\n","export default {\n    iconSizeSmall: '34px',\n    iconSizeMedium: '40px',\n    iconSizeLarge: '46px',\n    iconSizeHuge: '52px'\n};\n","import commonVars from './_common';\nimport { commonLight } from '../../_styles/common';\nexport const self = (vars) => {\n    const { textColorDisabled, iconColor, textColor2, fontSizeSmall, fontSizeMedium, fontSizeLarge, fontSizeHuge } = vars;\n    return Object.assign(Object.assign({}, commonVars), { fontSizeSmall,\n        fontSizeMedium,\n        fontSizeLarge,\n        fontSizeHuge, textColor: textColorDisabled, iconColor, extraTextColor: textColor2 });\n};\nconst emptyLight = {\n    name: 'Empty',\n    common: commonLight,\n    self\n};\nexport default emptyLight;\n","import { c, cB, cE } from '../../../_utils/cssr';\n// vars:\n// --n-font-size\n// --n-icon-size\n// --n-icon-color\n// --n-bezier\n// --n-text-color\n// --n-extra-text-color\nexport default cB('empty', `\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n`, [cE('icon', `\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n `, [c('+', [cE('description', `\n margin-top: 8px;\n `)])]), cE('description', `\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n `), cE('extra', `\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n `)]);","import { h, defineComponent, computed, inject } from 'vue';\nimport { configProviderInjectionKey } from '../../config-provider/src/context';\nimport { NBaseIcon } from '../../_internal/icon';\nimport { EmptyIcon } from '../../_internal/icons';\nimport { useConfig, useLocale, useTheme, useThemeClass } from '../../_mixins';\nimport { createKey } from '../../_utils';\nimport { emptyLight } from '../styles';\nimport style from './styles/index.cssr';\nexport const emptyProps = Object.assign(Object.assign({}, useTheme.props), { description: String, showDescription: {\n        type: Boolean,\n        default: true\n    }, showIcon: {\n        type: Boolean,\n        default: true\n    }, size: {\n        type: String,\n        default: 'medium'\n    }, renderIcon: Function });\nexport default defineComponent({\n    name: 'Empty',\n    props: emptyProps,\n    setup(props) {\n        const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Empty', '-empty', style, emptyLight, props, mergedClsPrefixRef);\n        const { localeRef } = useLocale('Empty');\n        const NConfigProvider = inject(configProviderInjectionKey, null);\n        const mergedDescriptionRef = computed(() => {\n            var _a, _b, _c;\n            return ((_a = props.description) !== null && _a !== void 0 ? _a : (_c = (_b = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _b === void 0 ? void 0 : _b.Empty) === null || _c === void 0 ? void 0 : _c.description);\n        });\n        const mergedRenderIconRef = computed(() => {\n            var _a, _b;\n            return ((_b = (_a = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.Empty) === null || _b === void 0 ? void 0 : _b.renderIcon) ||\n                (() => h(EmptyIcon, null));\n        });\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { [createKey('iconSize', size)]: iconSize, [createKey('fontSize', size)]: fontSize, textColor, iconColor, extraTextColor } } = themeRef.value;\n            return {\n                '--n-icon-size': iconSize,\n                '--n-font-size': fontSize,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-text-color': textColor,\n                '--n-icon-color': iconColor,\n                '--n-extra-text-color': extraTextColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('empty', computed(() => {\n                let hash = '';\n                const { size } = props;\n                hash += size[0];\n                return hash;\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedRenderIcon: mergedRenderIconRef,\n            localizedDescription: computed(() => {\n                return mergedDescriptionRef.value || localeRef.value.description;\n            }),\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { $slots, mergedClsPrefix, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { class: [`${mergedClsPrefix}-empty`, this.themeClass], style: this.cssVars },\n            this.showIcon ? (h(\"div\", { class: `${mergedClsPrefix}-empty__icon` }, $slots.icon ? ($slots.icon()) : (h(NBaseIcon, { clsPrefix: mergedClsPrefix }, { default: this.mergedRenderIcon })))) : null,\n            this.showDescription ? (h(\"div\", { class: `${mergedClsPrefix}-empty__description` }, $slots.default ? $slots.default() : this.localizedDescription)) : null,\n            $slots.extra ? (h(\"div\", { class: `${mergedClsPrefix}-empty__extra` }, $slots.extra())) : null));\n    }\n});\n","export default {\n    height: 'calc(var(--n-option-height) * 7.6)',\n    paddingSmall: '4px 0',\n    paddingMedium: '4px 0',\n    paddingLarge: '4px 0',\n    paddingHuge: '4px 0',\n    optionPaddingSmall: '0 12px',\n    optionPaddingMedium: '0 12px',\n    optionPaddingLarge: '0 12px',\n    optionPaddingHuge: '0 12px',\n    loadingSize: '18px'\n};\n","import { emptyLight } from '../../../empty/styles';\nimport { scrollbarLight } from '../../scrollbar/styles';\nimport { commonLight } from '../../../_styles/common';\nimport commonVariables from './_common';\nimport { createTheme } from '../../../_mixins';\nexport const self = (vars) => {\n    const { borderRadius, popoverColor, textColor3, dividerColor, textColor2, primaryColorPressed, textColorDisabled, primaryColor, opacityDisabled, hoverColor, fontSizeSmall, fontSizeMedium, fontSizeLarge, fontSizeHuge, heightSmall, heightMedium, heightLarge, heightHuge } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { optionFontSizeSmall: fontSizeSmall, optionFontSizeMedium: fontSizeMedium, optionFontSizeLarge: fontSizeLarge, optionFontSizeHuge: fontSizeHuge, optionHeightSmall: heightSmall, optionHeightMedium: heightMedium, optionHeightLarge: heightLarge, optionHeightHuge: heightHuge, borderRadius, color: popoverColor, groupHeaderTextColor: textColor3, actionDividerColor: dividerColor, optionTextColor: textColor2, optionTextColorPressed: primaryColorPressed, optionTextColorDisabled: textColorDisabled, optionTextColorActive: primaryColor, optionOpacityDisabled: opacityDisabled, optionCheckColor: primaryColor, optionColorPending: hoverColor, optionColorActive: 'rgba(0, 0, 0, 0)', optionColorActivePending: hoverColor, actionTextColor: textColor2, loadingColor: primaryColor });\n};\nconst internalSelectMenuLight = createTheme({\n    name: 'InternalSelectMenu',\n    common: commonLight,\n    peers: {\n        Scrollbar: scrollbarLight,\n        Empty: emptyLight\n    },\n    self\n});\nexport default internalSelectMenuLight;\n","import { h, inject, defineComponent, Transition } from 'vue';\nimport { useMemo } from 'vooks';\nimport { render, mergeEventHandlers } from '../../../_utils';\nimport { CheckmarkIcon } from '../../icons';\nimport { NBaseIcon } from '../../icon';\nimport { internalSelectionMenuInjectionKey } from './interface';\nfunction renderCheckMark(show, clsPrefix) {\n    return (h(Transition, { name: \"fade-in-scale-up-transition\" }, {\n        default: () => show ? (h(NBaseIcon, { clsPrefix: clsPrefix, class: `${clsPrefix}-base-select-option__check` }, {\n            default: () => h(CheckmarkIcon)\n        })) : null\n    }));\n}\nexport default defineComponent({\n    name: 'NBaseSelectOption',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        }\n    },\n    setup(props) {\n        const { valueRef, pendingTmNodeRef, multipleRef, valueSetRef, renderLabelRef, renderOptionRef, labelFieldRef, valueFieldRef, showCheckmarkRef, nodePropsRef, handleOptionClick, handleOptionMouseEnter\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(internalSelectionMenuInjectionKey);\n        const isPendingRef = useMemo(() => {\n            const { value: pendingTmNode } = pendingTmNodeRef;\n            if (!pendingTmNode)\n                return false;\n            return props.tmNode.key === pendingTmNode.key;\n        });\n        function handleClick(e) {\n            const { tmNode } = props;\n            if (tmNode.disabled)\n                return;\n            handleOptionClick(e, tmNode);\n        }\n        function handleMouseEnter(e) {\n            const { tmNode } = props;\n            if (tmNode.disabled)\n                return;\n            handleOptionMouseEnter(e, tmNode);\n        }\n        function handleMouseMove(e) {\n            const { tmNode } = props;\n            const { value: isPending } = isPendingRef;\n            if (tmNode.disabled || isPending)\n                return;\n            handleOptionMouseEnter(e, tmNode);\n        }\n        return {\n            multiple: multipleRef,\n            isGrouped: useMemo(() => {\n                const { tmNode } = props;\n                const { parent } = tmNode;\n                return parent && parent.rawNode.type === 'group';\n            }),\n            showCheckmark: showCheckmarkRef,\n            nodeProps: nodePropsRef,\n            isPending: isPendingRef,\n            isSelected: useMemo(() => {\n                const { value } = valueRef;\n                const { value: multiple } = multipleRef;\n                if (value === null)\n                    return false;\n                const optionValue = props.tmNode.rawNode[valueFieldRef.value];\n                if (multiple) {\n                    const { value: valueSet } = valueSetRef;\n                    return valueSet.has(optionValue);\n                }\n                else {\n                    return value === optionValue;\n                }\n            }),\n            labelField: labelFieldRef,\n            renderLabel: renderLabelRef,\n            renderOption: renderOptionRef,\n            handleMouseMove,\n            handleMouseEnter,\n            handleClick\n        };\n    },\n    render() {\n        const { clsPrefix, tmNode: { rawNode }, isSelected, isPending, isGrouped, showCheckmark, nodeProps, renderOption, renderLabel, handleClick, handleMouseEnter, handleMouseMove } = this;\n        const checkmark = renderCheckMark(isSelected, clsPrefix);\n        const children = renderLabel\n            ? [renderLabel(rawNode, isSelected), showCheckmark && checkmark]\n            : [\n                render(rawNode[this.labelField], rawNode, isSelected),\n                showCheckmark && checkmark\n            ];\n        const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n        const node = (h(\"div\", Object.assign({}, attrs, { class: [\n                `${clsPrefix}-base-select-option`,\n                rawNode.class,\n                attrs === null || attrs === void 0 ? void 0 : attrs.class,\n                {\n                    [`${clsPrefix}-base-select-option--disabled`]: rawNode.disabled,\n                    [`${clsPrefix}-base-select-option--selected`]: isSelected,\n                    [`${clsPrefix}-base-select-option--grouped`]: isGrouped,\n                    [`${clsPrefix}-base-select-option--pending`]: isPending,\n                    [`${clsPrefix}-base-select-option--show-checkmark`]: showCheckmark\n                }\n            ], style: [(attrs === null || attrs === void 0 ? void 0 : attrs.style) || '', rawNode.style || ''], onClick: mergeEventHandlers([handleClick, attrs === null || attrs === void 0 ? void 0 : attrs.onClick]), onMouseenter: mergeEventHandlers([\n                handleMouseEnter,\n                attrs === null || attrs === void 0 ? void 0 : attrs.onMouseenter\n            ]), onMousemove: mergeEventHandlers([handleMouseMove, attrs === null || attrs === void 0 ? void 0 : attrs.onMousemove]) }),\n            h(\"div\", { class: `${clsPrefix}-base-select-option__content` }, children)));\n        return rawNode.render\n            ? rawNode.render({ node, option: rawNode, selected: isSelected })\n            : renderOption\n                ? renderOption({ node, option: rawNode, selected: isSelected })\n                : node;\n    }\n});\n","import { h, defineComponent, inject } from 'vue';\nimport { render } from '../../../_utils';\nimport { internalSelectionMenuInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'NBaseSelectGroupHeader',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        }\n    },\n    setup() {\n        const { renderLabelRef, renderOptionRef, labelFieldRef, nodePropsRef\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(internalSelectionMenuInjectionKey);\n        return {\n            labelField: labelFieldRef,\n            nodeProps: nodePropsRef,\n            renderLabel: renderLabelRef,\n            renderOption: renderOptionRef\n        };\n    },\n    render() {\n        const { clsPrefix, renderLabel, renderOption, nodeProps, tmNode: { rawNode } } = this;\n        const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n        const children = renderLabel\n            ? renderLabel(rawNode, false)\n            : render(rawNode[this.labelField], rawNode, false);\n        const node = (h(\"div\", Object.assign({}, attrs, { class: [`${clsPrefix}-base-select-group-header`, attrs === null || attrs === void 0 ? void 0 : attrs.class] }), children));\n        return rawNode.render\n            ? rawNode.render({ node, option: rawNode })\n            : renderOption\n                ? renderOption({ node, option: rawNode, selected: false })\n                : node;\n    }\n});\n","import { c, cB, cE, cM, cNotM } from '../../../../_utils/cssr';\nimport { fadeInScaleUpTransition } from '../../../../_styles/transitions/fade-in-scale-up.cssr';\n// --n-loading-color\n// --n-loading-size\n// --n-option-padding-right\nexport default cB('base-select-menu', `\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n`, [cB('scrollbar', `\n max-height: var(--n-height);\n `), cB('virtual-list', `\n max-height: var(--n-height);\n `), cB('base-select-option', `\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n `, [cE('content', `\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n `)]), cB('base-select-group-header', `\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n `), cB('base-select-menu-option-wrapper', `\n position: relative;\n width: 100%;\n `), cE('loading, empty', `\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n `), cE('loading', `\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n `), cE('action', `\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n `), cB('base-select-group-header', `\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n `), cB('base-select-option', `\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n `, [cM('show-checkmark', `\n padding-right: calc(var(--n-option-padding-right) + 20px);\n `), c('&::before', `\n content: \"\";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n `), c('&:active', `\n color: var(--n-option-text-color-pressed);\n `), cM('grouped', `\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-pending);\n `)]), cM('selected', `\n color: var(--n-option-text-color-active);\n `, [c('&::before', `\n background-color: var(--n-option-color-active);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-active-pending);\n `)])]), cM('disabled', `\n cursor: not-allowed;\n `, [cNotM('selected', `\n color: var(--n-option-text-color-disabled);\n `), cM('selected', `\n opacity: var(--n-option-opacity-disabled);\n `)]), cE('check', `\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n `, [fadeInScaleUpTransition({\n  enterScale: '0.5'\n})])])]);","import { h, ref, onMounted, computed, defineComponent, toRef, provide, nextTick, watch, onBeforeUnmount } from 'vue';\nimport { createIndexGetter } from 'treemate';\nimport { VirtualList } from 'vueuc';\nimport { depx, getPadding, happensIn } from 'seemly';\nimport { NEmpty } from '../../../empty';\nimport { NScrollbar } from '../../scrollbar';\nimport { resolveSlot, resolveWrappedSlot, useOnResize } from '../../../_utils';\nimport { createKey } from '../../../_utils/cssr';\nimport { useThemeClass, useTheme } from '../../../_mixins';\nimport NInternalLoading from '../../loading';\nimport NFocusDetector from '../../focus-detector';\nimport { internalSelectMenuLight } from '../styles';\nimport NSelectOption from './SelectOption';\nimport NSelectGroupHeader from './SelectGroupHeader';\nimport { internalSelectionMenuInjectionKey, internalSelectionMenuBodyInjectionKey } from './interface';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'InternalSelectMenu',\n    props: Object.assign(Object.assign({}, useTheme.props), { clsPrefix: {\n            type: String,\n            required: true\n        }, scrollable: {\n            type: Boolean,\n            default: true\n        }, treeMate: {\n            type: Object,\n            required: true\n        }, multiple: Boolean, size: {\n            type: String,\n            default: 'medium'\n        }, value: {\n            type: [String, Number, Array],\n            default: null\n        }, autoPending: Boolean, virtualScroll: {\n            type: Boolean,\n            default: true\n        }, \n        // show is used to toggle pending state initialization\n        show: {\n            type: Boolean,\n            default: true\n        }, labelField: {\n            type: String,\n            default: 'label'\n        }, valueField: {\n            type: String,\n            default: 'value'\n        }, loading: Boolean, focusable: Boolean, renderLabel: Function, renderOption: Function, nodeProps: Function, showCheckmark: { type: Boolean, default: true }, onMousedown: Function, onScroll: Function, onFocus: Function, onBlur: Function, onKeyup: Function, onKeydown: Function, onTabOut: Function, onMouseenter: Function, onMouseleave: Function, onResize: Function, resetMenuOnOptionsChange: {\n            type: Boolean,\n            default: true\n        }, inlineThemeDisabled: Boolean, \n        // deprecated\n        onToggle: Function }),\n    setup(props) {\n        const themeRef = useTheme('InternalSelectMenu', '-internal-select-menu', style, internalSelectMenuLight, props, toRef(props, 'clsPrefix'));\n        const selfRef = ref(null);\n        const virtualListRef = ref(null);\n        const scrollbarRef = ref(null);\n        const flattenedNodesRef = computed(() => props.treeMate.getFlattenedNodes());\n        const fIndexGetterRef = computed(() => createIndexGetter(flattenedNodesRef.value));\n        const pendingNodeRef = ref(null);\n        function initPendingNode() {\n            const { treeMate } = props;\n            let defaultPendingNode = null;\n            const { value } = props;\n            if (value === null) {\n                defaultPendingNode = treeMate.getFirstAvailableNode();\n            }\n            else {\n                if (props.multiple) {\n                    defaultPendingNode = treeMate.getNode((value || [])[(value || []).length - 1]);\n                }\n                else {\n                    defaultPendingNode = treeMate.getNode(value);\n                }\n                if (!defaultPendingNode || defaultPendingNode.disabled) {\n                    defaultPendingNode = treeMate.getFirstAvailableNode();\n                }\n            }\n            if (defaultPendingNode) {\n                setPendingTmNode(defaultPendingNode);\n            }\n            else {\n                setPendingTmNode(null);\n            }\n        }\n        function clearPendingNodeIfInvalid() {\n            const { value: pendingNode } = pendingNodeRef;\n            if (pendingNode && !props.treeMate.getNode(pendingNode.key)) {\n                pendingNodeRef.value = null;\n            }\n        }\n        let initPendingNodeWatchStopHandle;\n        watch(() => props.show, (show) => {\n            if (show) {\n                initPendingNodeWatchStopHandle = watch(() => props.treeMate, () => {\n                    if (props.resetMenuOnOptionsChange) {\n                        if (props.autoPending) {\n                            initPendingNode();\n                        }\n                        else {\n                            clearPendingNodeIfInvalid();\n                        }\n                        void nextTick(scrollToPendingNode);\n                    }\n                    else {\n                        clearPendingNodeIfInvalid();\n                    }\n                }, {\n                    immediate: true\n                });\n            }\n            else {\n                initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n            }\n        }, {\n            immediate: true\n        });\n        onBeforeUnmount(() => {\n            initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n        });\n        const itemSizeRef = computed(() => {\n            return depx(themeRef.value.self[createKey('optionHeight', props.size)]);\n        });\n        const paddingRef = computed(() => {\n            return getPadding(themeRef.value.self[createKey('padding', props.size)]);\n        });\n        const valueSetRef = computed(() => {\n            if (props.multiple && Array.isArray(props.value)) {\n                return new Set(props.value);\n            }\n            return new Set();\n        });\n        const emptyRef = computed(() => {\n            const tmNodes = flattenedNodesRef.value;\n            return tmNodes && tmNodes.length === 0;\n        });\n        function doToggle(tmNode) {\n            const { onToggle } = props;\n            if (onToggle)\n                onToggle(tmNode);\n        }\n        function doScroll(e) {\n            const { onScroll } = props;\n            if (onScroll)\n                onScroll(e);\n        }\n        // required, scroller sync need to be triggered manually\n        function handleVirtualListScroll(e) {\n            var _a;\n            (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n            doScroll(e);\n        }\n        function handleVirtualListResize() {\n            var _a;\n            (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n        }\n        function getPendingTmNode() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode)\n                return pendingTmNode;\n            return null;\n        }\n        function handleOptionMouseEnter(e, tmNode) {\n            if (tmNode.disabled)\n                return;\n            setPendingTmNode(tmNode, false);\n        }\n        function handleOptionClick(e, tmNode) {\n            if (tmNode.disabled)\n                return;\n            doToggle(tmNode);\n        }\n        // keyboard related methods\n        function handleKeyUp(e) {\n            var _a;\n            if (happensIn(e, 'action'))\n                return;\n            (_a = props.onKeyup) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleKeyDown(e) {\n            var _a;\n            if (happensIn(e, 'action'))\n                return;\n            (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleMouseDown(e) {\n            var _a;\n            (_a = props.onMousedown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (props.focusable)\n                return;\n            e.preventDefault();\n        }\n        function next() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode) {\n                setPendingTmNode(pendingTmNode.getNext({ loop: true }), true);\n            }\n        }\n        function prev() {\n            const { value: pendingTmNode } = pendingNodeRef;\n            if (pendingTmNode) {\n                setPendingTmNode(pendingTmNode.getPrev({ loop: true }), true);\n            }\n        }\n        function setPendingTmNode(tmNode, doScroll = false) {\n            pendingNodeRef.value = tmNode;\n            if (doScroll)\n                scrollToPendingNode();\n        }\n        function scrollToPendingNode() {\n            var _a, _b;\n            const tmNode = pendingNodeRef.value;\n            if (!tmNode)\n                return;\n            const fIndex = fIndexGetterRef.value(tmNode.key);\n            if (fIndex === null)\n                return;\n            if (props.virtualScroll) {\n                (_a = virtualListRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({ index: fIndex });\n            }\n            else {\n                (_b = scrollbarRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo({\n                    index: fIndex,\n                    elSize: itemSizeRef.value\n                });\n            }\n        }\n        function handleFocusin(e) {\n            var _a, _b;\n            if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.target)) {\n                (_b = props.onFocus) === null || _b === void 0 ? void 0 : _b.call(props, e);\n            }\n        }\n        function handleFocusout(e) {\n            var _a, _b;\n            if (!((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n                (_b = props.onBlur) === null || _b === void 0 ? void 0 : _b.call(props, e);\n            }\n        }\n        provide(internalSelectionMenuInjectionKey, {\n            handleOptionMouseEnter,\n            handleOptionClick,\n            valueSetRef,\n            pendingTmNodeRef: pendingNodeRef,\n            nodePropsRef: toRef(props, 'nodeProps'),\n            showCheckmarkRef: toRef(props, 'showCheckmark'),\n            multipleRef: toRef(props, 'multiple'),\n            valueRef: toRef(props, 'value'),\n            renderLabelRef: toRef(props, 'renderLabel'),\n            renderOptionRef: toRef(props, 'renderOption'),\n            labelFieldRef: toRef(props, 'labelField'),\n            valueFieldRef: toRef(props, 'valueField')\n        });\n        provide(internalSelectionMenuBodyInjectionKey, selfRef);\n        onMounted(() => {\n            const { value } = scrollbarRef;\n            if (value)\n                value.sync();\n        });\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { height, borderRadius, color, groupHeaderTextColor, actionDividerColor, optionTextColorPressed, optionTextColor, optionTextColorDisabled, optionTextColorActive, optionOpacityDisabled, optionCheckColor, actionTextColor, optionColorPending, optionColorActive, loadingColor, loadingSize, optionColorActivePending, [createKey('optionFontSize', size)]: fontSize, [createKey('optionHeight', size)]: optionHeight, [createKey('optionPadding', size)]: optionPadding } } = themeRef.value;\n            return {\n                '--n-height': height,\n                '--n-action-divider-color': actionDividerColor,\n                '--n-action-text-color': actionTextColor,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border-radius': borderRadius,\n                '--n-color': color,\n                '--n-option-font-size': fontSize,\n                '--n-group-header-text-color': groupHeaderTextColor,\n                '--n-option-check-color': optionCheckColor,\n                '--n-option-color-pending': optionColorPending,\n                '--n-option-color-active': optionColorActive,\n                '--n-option-color-active-pending': optionColorActivePending,\n                '--n-option-height': optionHeight,\n                '--n-option-opacity-disabled': optionOpacityDisabled,\n                '--n-option-text-color': optionTextColor,\n                '--n-option-text-color-active': optionTextColorActive,\n                '--n-option-text-color-disabled': optionTextColorDisabled,\n                '--n-option-text-color-pressed': optionTextColorPressed,\n                '--n-option-padding': optionPadding,\n                '--n-option-padding-left': getPadding(optionPadding, 'left'),\n                '--n-option-padding-right': getPadding(optionPadding, 'right'),\n                '--n-loading-color': loadingColor,\n                '--n-loading-size': loadingSize\n            };\n        });\n        const { inlineThemeDisabled } = props;\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('internal-select-menu', computed(() => props.size[0]), cssVarsRef, props)\n            : undefined;\n        const exposedProps = {\n            selfRef,\n            next,\n            prev,\n            getPendingTmNode\n        };\n        useOnResize(selfRef, props.onResize);\n        return Object.assign({ mergedTheme: themeRef, virtualListRef,\n            scrollbarRef, itemSize: itemSizeRef, padding: paddingRef, flattenedNodes: flattenedNodesRef, empty: emptyRef, virtualListContainer() {\n                const { value } = virtualListRef;\n                return value === null || value === void 0 ? void 0 : value.listElRef;\n            },\n            virtualListContent() {\n                const { value } = virtualListRef;\n                return value === null || value === void 0 ? void 0 : value.itemsElRef;\n            },\n            doScroll,\n            handleFocusin,\n            handleFocusout,\n            handleKeyUp,\n            handleKeyDown,\n            handleMouseDown,\n            handleVirtualListResize,\n            handleVirtualListScroll, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedProps);\n    },\n    render() {\n        const { $slots, virtualScroll, clsPrefix, mergedTheme, themeClass, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { ref: \"selfRef\", tabindex: this.focusable ? 0 : -1, class: [\n                `${clsPrefix}-base-select-menu`,\n                themeClass,\n                this.multiple && `${clsPrefix}-base-select-menu--multiple`\n            ], style: this.cssVars, onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onKeyup: this.handleKeyUp, onKeydown: this.handleKeyDown, onMousedown: this.handleMouseDown, onMouseenter: this.onMouseenter, onMouseleave: this.onMouseleave },\n            this.loading ? (h(\"div\", { class: `${clsPrefix}-base-select-menu__loading` },\n                h(NInternalLoading, { clsPrefix: clsPrefix, strokeWidth: 20 }))) : !this.empty ? (h(NScrollbar, { ref: \"scrollbarRef\", theme: mergedTheme.peers.Scrollbar, themeOverrides: mergedTheme.peerOverrides.Scrollbar, scrollable: this.scrollable, container: virtualScroll ? this.virtualListContainer : undefined, content: virtualScroll ? this.virtualListContent : undefined, onScroll: virtualScroll ? undefined : this.doScroll }, {\n                default: () => {\n                    return virtualScroll ? (h(VirtualList, { ref: \"virtualListRef\", class: `${clsPrefix}-virtual-list`, items: this.flattenedNodes, itemSize: this.itemSize, showScrollbar: false, paddingTop: this.padding.top, paddingBottom: this.padding.bottom, onResize: this.handleVirtualListResize, onScroll: this.handleVirtualListScroll, itemResizable: true }, {\n                        default: ({ item: tmNode }) => {\n                            return tmNode.isGroup ? (h(NSelectGroupHeader, { key: tmNode.key, clsPrefix: clsPrefix, tmNode: tmNode })) : tmNode.ignored ? null : (h(NSelectOption, { clsPrefix: clsPrefix, key: tmNode.key, tmNode: tmNode }));\n                        }\n                    })) : (h(\"div\", { class: `${clsPrefix}-base-select-menu-option-wrapper`, style: {\n                            paddingTop: this.padding.top,\n                            paddingBottom: this.padding.bottom\n                        } }, this.flattenedNodes.map((tmNode) => tmNode.isGroup ? (h(NSelectGroupHeader, { key: tmNode.key, clsPrefix: clsPrefix, tmNode: tmNode })) : (h(NSelectOption, { clsPrefix: clsPrefix, key: tmNode.key, tmNode: tmNode })))));\n                }\n            })) : (h(\"div\", { class: `${clsPrefix}-base-select-menu__empty`, \"data-empty\": true }, resolveSlot($slots.empty, () => [\n                h(NEmpty, { theme: mergedTheme.peers.Empty, themeOverrides: mergedTheme.peerOverrides.Empty })\n            ]))),\n            resolveWrappedSlot($slots.action, (children) => children && [\n                h(\"div\", { class: `${clsPrefix}-base-select-menu__action`, \"data-action\": true, key: \"action\" }, children),\n                h(NFocusDetector, { onFocus: this.onTabOut, key: \"focus-detector\" })\n            ])));\n    }\n});\n","export default {\n    paddingSingle: '0 26px 0 12px',\n    paddingMultiple: '3px 26px 0 12px',\n    clearSize: '16px',\n    arrowSize: '16px'\n};\n","import { changeColor } from 'seemly';\nimport { commonLight } from '../../../_styles/common';\nimport { popoverLight } from '../../../popover/styles';\nimport commonVariables from './_common';\nimport { createTheme } from '../../../_mixins';\nconst self = (vars) => {\n    const { borderRadius, textColor2, textColorDisabled, inputColor, inputColorDisabled, primaryColor, primaryColorHover, warningColor, warningColorHover, errorColor, errorColorHover, borderColor, iconColor, iconColorDisabled, clearColor, clearColorHover, clearColorPressed, placeholderColor, placeholderColorDisabled, fontSizeTiny, fontSizeSmall, fontSizeMedium, fontSizeLarge, heightTiny, heightSmall, heightMedium, heightLarge } = vars;\n    return Object.assign(Object.assign({}, commonVariables), { fontSizeTiny,\n        fontSizeSmall,\n        fontSizeMedium,\n        fontSizeLarge,\n        heightTiny,\n        heightSmall,\n        heightMedium,\n        heightLarge,\n        borderRadius, \n        // default\n        textColor: textColor2, textColorDisabled,\n        placeholderColor,\n        placeholderColorDisabled, color: inputColor, colorDisabled: inputColorDisabled, colorActive: inputColor, border: `1px solid ${borderColor}`, borderHover: `1px solid ${primaryColorHover}`, borderActive: `1px solid ${primaryColor}`, borderFocus: `1px solid ${primaryColorHover}`, boxShadowHover: 'none', boxShadowActive: `0 0 0 2px ${changeColor(primaryColor, {\n            alpha: 0.2\n        })}`, boxShadowFocus: `0 0 0 2px ${changeColor(primaryColor, {\n            alpha: 0.2\n        })}`, caretColor: primaryColor, arrowColor: iconColor, arrowColorDisabled: iconColorDisabled, loadingColor: primaryColor, \n        // warning\n        borderWarning: `1px solid ${warningColor}`, borderHoverWarning: `1px solid ${warningColorHover}`, borderActiveWarning: `1px solid ${warningColor}`, borderFocusWarning: `1px solid ${warningColorHover}`, boxShadowHoverWarning: 'none', boxShadowActiveWarning: `0 0 0 2px ${changeColor(warningColor, {\n            alpha: 0.2\n        })}`, boxShadowFocusWarning: `0 0 0 2px ${changeColor(warningColor, {\n            alpha: 0.2\n        })}`, colorActiveWarning: inputColor, caretColorWarning: warningColor, \n        // error\n        borderError: `1px solid ${errorColor}`, borderHoverError: `1px solid ${errorColorHover}`, borderActiveError: `1px solid ${errorColor}`, borderFocusError: `1px solid ${errorColorHover}`, boxShadowHoverError: 'none', boxShadowActiveError: `0 0 0 2px ${changeColor(errorColor, {\n            alpha: 0.2\n        })}`, boxShadowFocusError: `0 0 0 2px ${changeColor(errorColor, {\n            alpha: 0.2\n        })}`, colorActiveError: inputColor, caretColorError: errorColor, clearColor,\n        clearColorHover,\n        clearColorPressed });\n};\nconst internalSelectionLight = createTheme({\n    name: 'InternalSelection',\n    common: commonLight,\n    peers: {\n        Popover: popoverLight\n    },\n    self\n});\nexport default internalSelectionLight;\n","import { c, cB, cE, cM, cNotM } from '../../../../_utils/cssr';\n// vars:\n// --n-bezier\n// --n-border\n// --n-border-active\n// --n-border-focus\n// --n-border-hover\n// --n-border-radius\n// --n-box-shadow-active\n// --n-box-shadow-focus\n// --n-box-shadow-hover\n// --n-caret-color\n// --n-color\n// --n-color-active\n// --n-color-disabled\n// --n-font-size\n// --n-height\n// --n-padding-single\n// --n-padding-multiple\n// --n-placeholder-color\n// --n-placeholder-color-disabled\n// --n-text-color\n// --n-text-color-disabled\n// --n-arrow-color\n// --n-arrow-size\n// --n-loading-color\n// ...clear vars\n// ...form item vars\nexport default c([cB('base-selection', `\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n `, [cB('base-loading', `\n color: var(--n-loading-color);\n `), cB('base-selection-tags', 'min-height: var(--n-height);'), cE('border, state-border', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n `), cE('state-border', `\n z-index: 1;\n border-color: #0000;\n `), cB('base-suffix', `\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n `, [cE('arrow', `\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n `)]), cB('base-selection-overlay', `\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n `, [cE('wrapper', `\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n `)]), cB('base-selection-placeholder', `\n color: var(--n-placeholder-color);\n `, [cE('inner', `\n max-width: 100%;\n overflow: hidden;\n `)]), cB('base-selection-tags', `\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n `), cB('base-selection-label', `\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n `, [cB('base-selection-input', `\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n `, [cE('content', `\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n `)]), cE('render-label', `\n color: var(--n-text-color);\n `)]), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n `)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n `), cB('base-selection-label', 'background-color: var(--n-color-active);'), cB('base-selection-tags', 'background-color: var(--n-color-active);')])]), cM('disabled', 'cursor: not-allowed;', [cE('arrow', `\n color: var(--n-arrow-color-disabled);\n `), cB('base-selection-label', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `, [cB('base-selection-input', `\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n `), cE('render-label', `\n color: var(--n-text-color-disabled);\n `)]), cB('base-selection-tags', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `), cB('base-selection-placeholder', `\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n `)]), cB('base-selection-input-tag', `\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n `, [cE('input', `\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n `), cE('mirror', `\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n `)]), ['warning', 'error'].map(status => cM(`${status}-status`, [cE('state-border', `border: var(--n-border-${status});`), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover-${status});\n border: var(--n-border-hover-${status});\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active-${status});\n border: var(--n-border-active-${status});\n `), cB('base-selection-label', `background-color: var(--n-color-active-${status});`), cB('base-selection-tags', `background-color: var(--n-color-active-${status});`)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus-${status});\n border: var(--n-border-focus-${status});\n `)])])]))]), cB('base-selection-popover', `\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n `), cB('base-selection-tag-wrapper', `\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n `, [c('&:last-child', 'padding-right: 0;'), cB('tag', `\n font-size: 14px;\n max-width: 100%;\n `, [cE('content', `\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n `)])])]);","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, Fragment, ref, computed, watch, toRef, nextTick, watchEffect, onMounted } from 'vue';\nimport { VOverflow } from 'vueuc';\nimport { NPopover } from '../../../popover';\nimport { NTag } from '../../../tag';\nimport { useThemeClass, useTheme } from '../../../_mixins';\nimport { createKey, getTitleAttribute, render, useOnResize, Wrapper } from '../../../_utils';\nimport Suffix from '../../suffix';\nimport { internalSelectionLight } from '../styles';\nimport style from './styles/index.cssr';\nexport default defineComponent({\n    name: 'InternalSelection',\n    props: Object.assign(Object.assign({}, useTheme.props), { clsPrefix: {\n            type: String,\n            required: true\n        }, bordered: {\n            type: Boolean,\n            default: undefined\n        }, active: Boolean, pattern: {\n            type: String,\n            default: ''\n        }, placeholder: String, selectedOption: {\n            type: Object,\n            default: null\n        }, selectedOptions: {\n            type: Array,\n            default: null\n        }, labelField: { type: String, default: 'label' }, valueField: {\n            type: String,\n            default: 'value'\n        }, multiple: Boolean, filterable: Boolean, clearable: Boolean, disabled: Boolean, size: {\n            type: String,\n            default: 'medium'\n        }, loading: Boolean, autofocus: Boolean, showArrow: {\n            type: Boolean,\n            default: true\n        }, inputProps: Object, focused: Boolean, renderTag: Function, onKeydown: Function, onClick: Function, onBlur: Function, onFocus: Function, onDeleteOption: Function, maxTagCount: [String, Number], onClear: Function, onPatternInput: Function, onPatternFocus: Function, onPatternBlur: Function, renderLabel: Function, status: String, inlineThemeDisabled: Boolean, ignoreComposition: { type: Boolean, default: true }, onResize: Function }),\n    setup(props) {\n        const patternInputMirrorRef = ref(null);\n        const patternInputRef = ref(null);\n        const selfRef = ref(null);\n        const multipleElRef = ref(null);\n        const singleElRef = ref(null);\n        const patternInputWrapperRef = ref(null);\n        const counterRef = ref(null);\n        const counterWrapperRef = ref(null);\n        const overflowRef = ref(null);\n        const inputTagElRef = ref(null);\n        const showTagsPopoverRef = ref(false);\n        const patternInputFocusedRef = ref(false);\n        const hoverRef = ref(false);\n        const themeRef = useTheme('InternalSelection', '-internal-selection', style, internalSelectionLight, props, toRef(props, 'clsPrefix'));\n        const mergedClearableRef = computed(() => {\n            return (props.clearable && !props.disabled && (hoverRef.value || props.active));\n        });\n        const filterablePlaceholderRef = computed(() => {\n            return props.selectedOption\n                ? props.renderTag\n                    ? props.renderTag({\n                        option: props.selectedOption,\n                        handleClose: () => { }\n                    })\n                    : props.renderLabel\n                        ? props.renderLabel(props.selectedOption, true)\n                        : render(props.selectedOption[props.labelField], props.selectedOption, true)\n                : props.placeholder;\n        });\n        const labelRef = computed(() => {\n            const option = props.selectedOption;\n            if (!option)\n                return undefined;\n            return option[props.labelField];\n        });\n        const selectedRef = computed(() => {\n            if (props.multiple) {\n                return !!(Array.isArray(props.selectedOptions) && props.selectedOptions.length);\n            }\n            else {\n                return props.selectedOption !== null;\n            }\n        });\n        function syncMirrorWidth() {\n            var _a;\n            const { value: patternInputMirrorEl } = patternInputMirrorRef;\n            if (patternInputMirrorEl) {\n                const { value: patternInputEl } = patternInputRef;\n                if (patternInputEl) {\n                    patternInputEl.style.width = `${patternInputMirrorEl.offsetWidth}px`;\n                    if (props.maxTagCount !== 'responsive') {\n                        (_a = overflowRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n                    }\n                }\n            }\n        }\n        function hideInputTag() {\n            const { value: inputTagEl } = inputTagElRef;\n            if (inputTagEl)\n                inputTagEl.style.display = 'none';\n        }\n        function showInputTag() {\n            const { value: inputTagEl } = inputTagElRef;\n            if (inputTagEl)\n                inputTagEl.style.display = 'inline-block';\n        }\n        watch(toRef(props, 'active'), (value) => {\n            if (!value)\n                hideInputTag();\n        });\n        watch(toRef(props, 'pattern'), () => {\n            if (props.multiple) {\n                void nextTick(syncMirrorWidth);\n            }\n        });\n        function doFocus(e) {\n            const { onFocus } = props;\n            if (onFocus)\n                onFocus(e);\n        }\n        function doBlur(e) {\n            const { onBlur } = props;\n            if (onBlur)\n                onBlur(e);\n        }\n        function doDeleteOption(value) {\n            const { onDeleteOption } = props;\n            if (onDeleteOption)\n                onDeleteOption(value);\n        }\n        function doClear(e) {\n            const { onClear } = props;\n            if (onClear)\n                onClear(e);\n        }\n        function doPatternInput(value) {\n            const { onPatternInput } = props;\n            if (onPatternInput)\n                onPatternInput(value);\n        }\n        function handleFocusin(e) {\n            var _a;\n            if (!e.relatedTarget ||\n                !((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n                doFocus(e);\n            }\n        }\n        function handleFocusout(e) {\n            var _a;\n            if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))\n                return;\n            doBlur(e);\n        }\n        function handleClear(e) {\n            doClear(e);\n        }\n        function handleMouseEnter() {\n            hoverRef.value = true;\n        }\n        function handleMouseLeave() {\n            hoverRef.value = false;\n        }\n        function handleMouseDown(e) {\n            if (!props.active || !props.filterable)\n                return;\n            if (e.target === patternInputRef.value)\n                return;\n            e.preventDefault();\n        }\n        function handleDeleteOption(option) {\n            doDeleteOption(option);\n        }\n        function handlePatternKeyDown(e) {\n            if (e.key === 'Backspace' && !isComposingRef.value) {\n                if (!props.pattern.length) {\n                    const { selectedOptions } = props;\n                    if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {\n                        handleDeleteOption(selectedOptions[selectedOptions.length - 1]);\n                    }\n                }\n            }\n        }\n        const isComposingRef = ref(false);\n        // the composition end is later than its input so we can cached the event\n        // and return the input event\n        let cachedInputEvent = null;\n        function handlePatternInputInput(e) {\n            // we should sync mirror width here\n            const { value: patternInputMirrorEl } = patternInputMirrorRef;\n            if (patternInputMirrorEl) {\n                const inputText = e.target.value;\n                patternInputMirrorEl.textContent = inputText;\n                syncMirrorWidth();\n            }\n            if (props.ignoreComposition) {\n                if (!isComposingRef.value) {\n                    doPatternInput(e);\n                }\n                else {\n                    cachedInputEvent = e;\n                }\n            }\n            else {\n                doPatternInput(e);\n            }\n        }\n        function handleCompositionStart() {\n            isComposingRef.value = true;\n        }\n        function handleCompositionEnd() {\n            isComposingRef.value = false;\n            if (props.ignoreComposition) {\n                doPatternInput(cachedInputEvent);\n            }\n            cachedInputEvent = null;\n        }\n        function handlePatternInputFocus(e) {\n            var _a;\n            patternInputFocusedRef.value = true;\n            (_a = props.onPatternFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handlePatternInputBlur(e) {\n            var _a;\n            patternInputFocusedRef.value = false;\n            (_a = props.onPatternBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function blur() {\n            var _a, _b;\n            if (props.filterable) {\n                patternInputFocusedRef.value = false;\n                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n                (_b = patternInputRef.value) === null || _b === void 0 ? void 0 : _b.blur();\n            }\n            else if (props.multiple) {\n                const { value: multipleEl } = multipleElRef;\n                multipleEl === null || multipleEl === void 0 ? void 0 : multipleEl.blur();\n            }\n            else {\n                const { value: singleEl } = singleElRef;\n                singleEl === null || singleEl === void 0 ? void 0 : singleEl.blur();\n            }\n        }\n        function focus() {\n            var _a, _b, _c;\n            if (props.filterable) {\n                patternInputFocusedRef.value = false;\n                (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            }\n            else if (props.multiple) {\n                (_b = multipleElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n            }\n            else {\n                (_c = singleElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n            }\n        }\n        function focusInput() {\n            const { value: patternInputEl } = patternInputRef;\n            if (patternInputEl) {\n                showInputTag();\n                patternInputEl.focus();\n            }\n        }\n        function blurInput() {\n            const { value: patternInputEl } = patternInputRef;\n            if (patternInputEl) {\n                patternInputEl.blur();\n            }\n        }\n        function updateCounter(count) {\n            const { value } = counterRef;\n            if (value) {\n                value.setTextContent(`+${count}`);\n            }\n        }\n        function getCounter() {\n            const { value } = counterWrapperRef;\n            return value;\n        }\n        function getTail() {\n            return patternInputRef.value;\n        }\n        let enterTimerId = null;\n        function clearEnterTimer() {\n            if (enterTimerId !== null)\n                window.clearTimeout(enterTimerId);\n        }\n        function handleMouseEnterCounter() {\n            if (props.disabled || props.active)\n                return;\n            clearEnterTimer();\n            enterTimerId = window.setTimeout(() => {\n                if (selectedRef.value) {\n                    showTagsPopoverRef.value = true;\n                }\n            }, 100);\n        }\n        function handleMouseLeaveCounter() {\n            clearEnterTimer();\n        }\n        function onPopoverUpdateShow(show) {\n            if (!show) {\n                clearEnterTimer();\n                showTagsPopoverRef.value = false;\n            }\n        }\n        watch(selectedRef, (value) => {\n            if (!value) {\n                showTagsPopoverRef.value = false;\n            }\n        });\n        onMounted(() => {\n            watchEffect(() => {\n                const patternInputWrapperEl = patternInputWrapperRef.value;\n                if (!patternInputWrapperEl)\n                    return;\n                patternInputWrapperEl.tabIndex =\n                    props.disabled || patternInputFocusedRef.value ? -1 : 0;\n            });\n        });\n        useOnResize(selfRef, props.onResize);\n        const { inlineThemeDisabled } = props;\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { borderRadius, color, placeholderColor, textColor, paddingSingle, paddingMultiple, caretColor, colorDisabled, textColorDisabled, placeholderColorDisabled, colorActive, boxShadowFocus, boxShadowActive, boxShadowHover, border, borderFocus, borderHover, borderActive, arrowColor, arrowColorDisabled, loadingColor, \n            // form warning\n            colorActiveWarning, boxShadowFocusWarning, boxShadowActiveWarning, boxShadowHoverWarning, borderWarning, borderFocusWarning, borderHoverWarning, borderActiveWarning, \n            // form error\n            colorActiveError, boxShadowFocusError, boxShadowActiveError, boxShadowHoverError, borderError, borderFocusError, borderHoverError, borderActiveError, \n            // clear\n            clearColor, clearColorHover, clearColorPressed, clearSize, \n            // arrow\n            arrowSize, [createKey('height', size)]: height, [createKey('fontSize', size)]: fontSize } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border': border,\n                '--n-border-active': borderActive,\n                '--n-border-focus': borderFocus,\n                '--n-border-hover': borderHover,\n                '--n-border-radius': borderRadius,\n                '--n-box-shadow-active': boxShadowActive,\n                '--n-box-shadow-focus': boxShadowFocus,\n                '--n-box-shadow-hover': boxShadowHover,\n                '--n-caret-color': caretColor,\n                '--n-color': color,\n                '--n-color-active': colorActive,\n                '--n-color-disabled': colorDisabled,\n                '--n-font-size': fontSize,\n                '--n-height': height,\n                '--n-padding-single': paddingSingle,\n                '--n-padding-multiple': paddingMultiple,\n                '--n-placeholder-color': placeholderColor,\n                '--n-placeholder-color-disabled': placeholderColorDisabled,\n                '--n-text-color': textColor,\n                '--n-text-color-disabled': textColorDisabled,\n                '--n-arrow-color': arrowColor,\n                '--n-arrow-color-disabled': arrowColorDisabled,\n                '--n-loading-color': loadingColor,\n                // form warning\n                '--n-color-active-warning': colorActiveWarning,\n                '--n-box-shadow-focus-warning': boxShadowFocusWarning,\n                '--n-box-shadow-active-warning': boxShadowActiveWarning,\n                '--n-box-shadow-hover-warning': boxShadowHoverWarning,\n                '--n-border-warning': borderWarning,\n                '--n-border-focus-warning': borderFocusWarning,\n                '--n-border-hover-warning': borderHoverWarning,\n                '--n-border-active-warning': borderActiveWarning,\n                // form error\n                '--n-color-active-error': colorActiveError,\n                '--n-box-shadow-focus-error': boxShadowFocusError,\n                '--n-box-shadow-active-error': boxShadowActiveError,\n                '--n-box-shadow-hover-error': boxShadowHoverError,\n                '--n-border-error': borderError,\n                '--n-border-focus-error': borderFocusError,\n                '--n-border-hover-error': borderHoverError,\n                '--n-border-active-error': borderActiveError,\n                // clear\n                '--n-clear-size': clearSize,\n                '--n-clear-color': clearColor,\n                '--n-clear-color-hover': clearColorHover,\n                '--n-clear-color-pressed': clearColorPressed,\n                // arrow-size\n                '--n-arrow-size': arrowSize\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('internal-selection', computed(() => {\n                return props.size[0];\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            mergedTheme: themeRef,\n            mergedClearable: mergedClearableRef,\n            patternInputFocused: patternInputFocusedRef,\n            filterablePlaceholder: filterablePlaceholderRef,\n            label: labelRef,\n            selected: selectedRef,\n            showTagsPanel: showTagsPopoverRef,\n            isComposing: isComposingRef,\n            // dom ref\n            counterRef,\n            counterWrapperRef,\n            patternInputMirrorRef,\n            patternInputRef,\n            selfRef,\n            multipleElRef,\n            singleElRef,\n            patternInputWrapperRef,\n            overflowRef,\n            inputTagElRef,\n            handleMouseDown,\n            handleFocusin,\n            handleClear,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleDeleteOption,\n            handlePatternKeyDown,\n            handlePatternInputInput,\n            handlePatternInputBlur,\n            handlePatternInputFocus,\n            handleMouseEnterCounter,\n            handleMouseLeaveCounter,\n            handleFocusout,\n            handleCompositionEnd,\n            handleCompositionStart,\n            onPopoverUpdateShow,\n            focus,\n            focusInput,\n            blur,\n            blurInput,\n            updateCounter,\n            getCounter,\n            getTail,\n            renderLabel: props.renderLabel,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { status, multiple, size, disabled, filterable, maxTagCount, bordered, clsPrefix, onRender, renderTag, renderLabel } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        const maxTagCountResponsive = maxTagCount === 'responsive';\n        const maxTagCountNumeric = typeof maxTagCount === 'number';\n        const useMaxTagCount = maxTagCountResponsive || maxTagCountNumeric;\n        const suffix = (h(Wrapper, null, {\n            default: () => (h(Suffix, { clsPrefix: clsPrefix, loading: this.loading, showArrow: this.showArrow, showClear: this.mergedClearable && this.selected, onClear: this.handleClear }, {\n                default: () => { var _a, _b; return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a); }\n            }))\n        }));\n        let body;\n        if (multiple) {\n            const { labelField } = this;\n            const createTag = (option) => (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: option.value }, renderTag ? (renderTag({\n                option,\n                handleClose: () => { this.handleDeleteOption(option); }\n            })) : (h(NTag, { size: size, closable: !option.disabled, disabled: disabled, onClose: () => { this.handleDeleteOption(option); }, internalCloseIsButtonTag: false, internalCloseFocusable: false }, {\n                default: () => renderLabel\n                    ? renderLabel(option, true)\n                    : render(option[labelField], option, true)\n            }))));\n            const createOriginalTagNodes = () => (maxTagCountNumeric\n                ? this.selectedOptions.slice(0, maxTagCount)\n                : this.selectedOptions).map(createTag);\n            const input = filterable ? (h(\"div\", { class: `${clsPrefix}-base-selection-input-tag`, ref: \"inputTagElRef\", key: \"__input-tag__\" },\n                h(\"input\", Object.assign({}, this.inputProps, { ref: \"patternInputRef\", tabindex: -1, disabled: disabled, value: this.pattern, autofocus: this.autofocus, class: `${clsPrefix}-base-selection-input-tag__input`, onBlur: this.handlePatternInputBlur, onFocus: this.handlePatternInputFocus, onKeydown: this.handlePatternKeyDown, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),\n                h(\"span\", { ref: \"patternInputMirrorRef\", class: `${clsPrefix}-base-selection-input-tag__mirror` }, this.pattern))) : null;\n            // May Overflow\n            const renderCounter = maxTagCountResponsive\n                ? () => (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, ref: \"counterWrapperRef\" },\n                    h(NTag, { size: size, ref: \"counterRef\", onMouseenter: this.handleMouseEnterCounter, onMouseleave: this.handleMouseLeaveCounter, disabled: disabled })))\n                : undefined;\n            let counter;\n            if (maxTagCountNumeric) {\n                const rest = this.selectedOptions.length - maxTagCount;\n                if (rest > 0) {\n                    counter = (h(\"div\", { class: `${clsPrefix}-base-selection-tag-wrapper`, key: \"__counter__\" },\n                        h(NTag, { size: size, ref: \"counterRef\", onMouseenter: this.handleMouseEnterCounter, disabled: disabled }, {\n                            default: () => `+${rest}`\n                        })));\n                }\n            }\n            const tags = maxTagCountResponsive ? (filterable ? (h(VOverflow, { ref: \"overflowRef\", updateCounter: this.updateCounter, getCounter: this.getCounter, getTail: this.getTail, style: {\n                    width: '100%',\n                    display: 'flex',\n                    overflow: 'hidden'\n                } }, {\n                default: createOriginalTagNodes,\n                counter: renderCounter,\n                tail: () => input\n            })) : (h(VOverflow, { ref: \"overflowRef\", updateCounter: this.updateCounter, getCounter: this.getCounter, style: {\n                    width: '100%',\n                    display: 'flex',\n                    overflow: 'hidden'\n                } }, {\n                default: createOriginalTagNodes,\n                counter: renderCounter\n            }))) : maxTagCountNumeric ? (createOriginalTagNodes().concat(counter)) : (createOriginalTagNodes());\n            const renderPopover = useMaxTagCount\n                ? () => (h(\"div\", { class: `${clsPrefix}-base-selection-popover` }, maxTagCountResponsive\n                    ? createOriginalTagNodes()\n                    : this.selectedOptions.map(createTag)))\n                : undefined;\n            const popoverProps = useMaxTagCount\n                ? {\n                    show: this.showTagsPanel,\n                    trigger: 'hover',\n                    overlap: true,\n                    placement: 'top',\n                    width: 'trigger',\n                    onUpdateShow: this.onPopoverUpdateShow,\n                    theme: this.mergedTheme.peers.Popover,\n                    themeOverrides: this.mergedTheme.peerOverrides.Popover\n                }\n                : null;\n            const showPlaceholder = this.selected\n                ? false\n                : this.active\n                    ? !this.pattern && !this.isComposing\n                    : true;\n            const placeholder = showPlaceholder ? (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay` },\n                h(\"div\", { class: `${clsPrefix}-base-selection-placeholder__inner` }, this.placeholder))) : null;\n            const popoverTrigger = filterable ? (h(\"div\", { ref: \"patternInputWrapperRef\", class: `${clsPrefix}-base-selection-tags` },\n                tags,\n                maxTagCountResponsive ? null : input,\n                suffix)) : (h(\"div\", { ref: \"multipleElRef\", class: `${clsPrefix}-base-selection-tags`, tabindex: disabled ? undefined : 0 },\n                tags,\n                suffix));\n            body = (h(Fragment, null,\n                useMaxTagCount ? (h(NPopover, Object.assign({}, popoverProps, { scrollable: true, style: \"max-height: calc(var(--v-target-height) * 6.6);\" }), {\n                    trigger: () => popoverTrigger,\n                    default: renderPopover\n                })) : (popoverTrigger),\n                placeholder));\n        }\n        else {\n            if (filterable) {\n                const hasInput = this.pattern || this.isComposing;\n                const showPlaceholder = this.active ? !hasInput : !this.selected;\n                const showSelectedLabel = this.active ? false : this.selected;\n                body = (h(\"div\", { ref: \"patternInputWrapperRef\", class: `${clsPrefix}-base-selection-label` },\n                    h(\"input\", Object.assign({}, this.inputProps, { ref: \"patternInputRef\", class: `${clsPrefix}-base-selection-input`, value: this.active ? this.pattern : '', placeholder: \"\", readonly: disabled, disabled: disabled, tabindex: -1, autofocus: this.autofocus, onFocus: this.handlePatternInputFocus, onBlur: this.handlePatternInputBlur, onInput: this.handlePatternInputInput, onCompositionstart: this.handleCompositionStart, onCompositionend: this.handleCompositionEnd })),\n                    showSelectedLabel ? (h(\"div\", { class: `${clsPrefix}-base-selection-label__render-label ${clsPrefix}-base-selection-overlay`, key: \"input\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, renderTag\n                            ? renderTag({\n                                option: this.selectedOption,\n                                handleClose: () => { }\n                            })\n                            : renderLabel\n                                ? renderLabel(this.selectedOption, true)\n                                : render(this.label, this.selectedOption, true)))) : null,\n                    showPlaceholder ? (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: \"placeholder\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-overlay__wrapper` }, this.filterablePlaceholder))) : null,\n                    suffix));\n            }\n            else {\n                body = (h(\"div\", { ref: \"singleElRef\", class: `${clsPrefix}-base-selection-label`, tabindex: this.disabled ? undefined : 0 },\n                    this.label !== undefined ? (h(\"div\", { class: `${clsPrefix}-base-selection-input`, title: getTitleAttribute(this.label), key: \"input\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-input__content` }, renderTag\n                            ? renderTag({\n                                option: this.selectedOption,\n                                handleClose: () => { }\n                            })\n                            : renderLabel\n                                ? renderLabel(this.selectedOption, true)\n                                : render(this.label, this.selectedOption, true)))) : (h(\"div\", { class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`, key: \"placeholder\" },\n                        h(\"div\", { class: `${clsPrefix}-base-selection-placeholder__inner` }, this.placeholder))),\n                    suffix));\n            }\n        }\n        return (h(\"div\", { ref: \"selfRef\", class: [\n                `${clsPrefix}-base-selection`,\n                this.themeClass,\n                status && `${clsPrefix}-base-selection--${status}-status`,\n                {\n                    [`${clsPrefix}-base-selection--active`]: this.active,\n                    [`${clsPrefix}-base-selection--selected`]: this.selected || (this.active && this.pattern),\n                    [`${clsPrefix}-base-selection--disabled`]: this.disabled,\n                    [`${clsPrefix}-base-selection--multiple`]: this.multiple,\n                    // focus is not controlled by selection itself since it always need\n                    // to be managed together with menu. provide :focus style will cause\n                    // many redundant codes.\n                    [`${clsPrefix}-base-selection--focus`]: this.focused\n                }\n            ], style: this.cssVars, onClick: this.onClick, onMouseenter: this.handleMouseEnter, onMouseleave: this.handleMouseLeave, onKeydown: this.onKeydown, onFocusin: this.handleFocusin, onFocusout: this.handleFocusout, onMousedown: this.handleMouseDown },\n            body,\n            bordered ? (h(\"div\", { class: `${clsPrefix}-base-selection__border` })) : null,\n            bordered ? (h(\"div\", { class: `${clsPrefix}-base-selection__state-border` })) : null));\n    }\n});\n","export function getIsGroup(option) {\n    return option.type === 'group';\n}\nexport function getIgnored(option) {\n    return option.type === 'ignored';\n}\nexport function patternMatched(pattern, value) {\n    try {\n        return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));\n    }\n    catch (err) {\n        return false;\n    }\n}\nexport function createTmOptions(valueField, childrenField) {\n    const options = {\n        getIsGroup,\n        getIgnored,\n        getKey(option) {\n            if (getIsGroup(option)) {\n                return (option.name ||\n                    option.key ||\n                    'key-required');\n            }\n            // Required for non-custom label & value field\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            return option[valueField];\n        },\n        getChildren(option) {\n            return option[childrenField];\n        }\n    };\n    return options;\n}\nexport function filterOptions(originalOpts, filter, pattern, childrenField) {\n    if (!filter)\n        return originalOpts;\n    function traverse(options) {\n        if (!Array.isArray(options))\n            return [];\n        const filteredOptions = [];\n        for (const option of options) {\n            if (getIsGroup(option)) {\n                const children = traverse(option[childrenField]);\n                if (children.length) {\n                    filteredOptions.push(Object.assign({}, option, {\n                        [childrenField]: children\n                    }));\n                }\n            }\n            else if (getIgnored(option)) {\n                continue;\n            }\n            else if (filter(pattern, option)) {\n                filteredOptions.push(option);\n            }\n        }\n        return filteredOptions;\n    }\n    return traverse(originalOpts);\n}\nexport function createValOptMap(options, valueField, childrenField) {\n    const valOptMap = new Map();\n    options.forEach((option) => {\n        if (getIsGroup(option)) {\n            ;\n            option[childrenField].forEach((selectGroupOption) => {\n                valOptMap.set(selectGroupOption[valueField], selectGroupOption);\n            });\n        }\n        else {\n            valOptMap.set(option[valueField], option);\n        }\n    });\n    return valOptMap;\n}\n"],"names":["mergeEventHandlers","handlers","filteredHandlers","handler","e","lowBit","n","FinweckTree","l","min","ft","i","ret","threshold","m","sumM","maybeTouch","ensureMaybeTouch","wheelScale","ensureWheelScale","styles","c","VVirtualList","defineComponent","props","ssrAdapter","useSsrAdapter","cssrAnchorMetaName","onMounted","defaultScrollIndex","defaultScrollKey","scrollTo","isDeactivated","activateStateInitialized","onActivated","scrollTopRef","scrollLeft","onDeactivated","keyIndexMapRef","computed","map","keyField","item","index","listElRef","ref","listHeightRef","keyToHeightOffset","finweckTreeRef","items","itemSize","key","heightOffset","finweckTreeUpdateTrigger","startIndexRef","useMemo","depx","viewportItemsRef","listHeight","startIndex","endIndex","viewportItems","options","y","scrollToPosition","left","top","position","behavior","debounce","scrollToIndex","toIndex","anchorIndex","anchorTimerId","targetTop","scrollTop","offsetHeight","handleItemResize","entry","_a","_b","_c","isHideByVShow","previousHeight","height","delta","listEl","previousHeightSum","syncViewport","mayUseWheel","wheelCatched","handleListScroll","handleListWheel","beforeNextFrameOnce","handleListResize","onResize","el","cursor","itemResizable","pxfy","keyToIndex","visibleItemsTag","h","VResizeObserver","mergeProps","itemVNode","hiddenAttr","style","VOverflow","slots","selfRef","counterRef","deriveCounter","self","getCounter","getTail","counter","children","containerWidth","childWidths","tail","childWidthSum","overflow","len","child","childWidth","updateCounter","j","restCount","counterWidth","onUpdateOverflow","$slots","nextTick","renderSlot","useOnResize","elRef","resizeObserverManager","onBeforeUnmount","FinishedIcon","EmptyIcon","FocusDetector","commonVars$1","vars","textColorDisabled","iconColor","textColor2","fontSizeSmall","fontSizeMedium","fontSizeLarge","fontSizeHuge","commonVars","emptyLight","commonLight","emptyLight$1","style$2","cB","cE","emptyProps","useTheme","NEmpty","mergedClsPrefixRef","inlineThemeDisabled","useConfig","themeRef","localeRef","useLocale","NConfigProvider","inject","configProviderInjectionKey","mergedDescriptionRef","mergedRenderIconRef","cssVarsRef","size","cubicBezierEaseInOut","createKey","iconSize","fontSize","textColor","extraTextColor","themeClassHandle","useThemeClass","hash","mergedClsPrefix","onRender","NBaseIcon","commonVariables","borderRadius","popoverColor","textColor3","dividerColor","primaryColorPressed","primaryColor","opacityDisabled","hoverColor","heightSmall","heightMedium","heightLarge","heightHuge","internalSelectMenuLight","createTheme","scrollbarLight","internalSelectMenuLight$1","renderCheckMark","show","clsPrefix","Transition","CheckmarkIcon","NSelectOption","valueRef","pendingTmNodeRef","multipleRef","valueSetRef","renderLabelRef","renderOptionRef","labelFieldRef","valueFieldRef","showCheckmarkRef","nodePropsRef","handleOptionClick","handleOptionMouseEnter","internalSelectionMenuInjectionKey","isPendingRef","pendingTmNode","handleClick","tmNode","handleMouseEnter","handleMouseMove","isPending","parent","value","multiple","optionValue","valueSet","rawNode","isSelected","isGrouped","showCheckmark","nodeProps","renderOption","renderLabel","checkmark","render","attrs","node","NSelectGroupHeader","style$1","cM","cNotM","fadeInScaleUpTransition","NInternalSelectMenu","toRef","virtualListRef","scrollbarRef","flattenedNodesRef","fIndexGetterRef","createIndexGetter","pendingNodeRef","initPendingNode","treeMate","defaultPendingNode","setPendingTmNode","clearPendingNodeIfInvalid","pendingNode","initPendingNodeWatchStopHandle","watch","scrollToPendingNode","itemSizeRef","paddingRef","getPadding","emptyRef","tmNodes","doToggle","onToggle","doScroll","onScroll","handleVirtualListScroll","handleVirtualListResize","getPendingTmNode","handleKeyUp","happensIn","handleKeyDown","handleMouseDown","next","prev","fIndex","handleFocusin","handleFocusout","provide","internalSelectionMenuBodyInjectionKey","color","groupHeaderTextColor","actionDividerColor","optionTextColorPressed","optionTextColor","optionTextColorDisabled","optionTextColorActive","optionOpacityDisabled","optionCheckColor","actionTextColor","optionColorPending","optionColorActive","loadingColor","loadingSize","optionColorActivePending","optionHeight","optionPadding","exposedProps","virtualScroll","mergedTheme","themeClass","NInternalLoading","resolveSlot","NScrollbar","VirtualList","resolveWrappedSlot","NFocusDetector","inputColor","inputColorDisabled","primaryColorHover","warningColor","warningColorHover","errorColor","errorColorHover","borderColor","iconColorDisabled","clearColor","clearColorHover","clearColorPressed","placeholderColor","placeholderColorDisabled","fontSizeTiny","heightTiny","changeColor","internalSelectionLight","popoverLight","internalSelectionLight$1","status","NInternalSelection","patternInputMirrorRef","patternInputRef","multipleElRef","singleElRef","patternInputWrapperRef","counterWrapperRef","overflowRef","inputTagElRef","showTagsPopoverRef","patternInputFocusedRef","hoverRef","mergedClearableRef","filterablePlaceholderRef","labelRef","option","selectedRef","syncMirrorWidth","patternInputMirrorEl","patternInputEl","hideInputTag","inputTagEl","showInputTag","doFocus","onFocus","doBlur","onBlur","doDeleteOption","onDeleteOption","doClear","onClear","doPatternInput","onPatternInput","handleClear","handleMouseLeave","handleDeleteOption","handlePatternKeyDown","isComposingRef","selectedOptions","cachedInputEvent","handlePatternInputInput","inputText","handleCompositionStart","handleCompositionEnd","handlePatternInputFocus","handlePatternInputBlur","blur","multipleEl","singleEl","focus","focusInput","blurInput","count","enterTimerId","clearEnterTimer","handleMouseEnterCounter","handleMouseLeaveCounter","onPopoverUpdateShow","watchEffect","patternInputWrapperEl","paddingSingle","paddingMultiple","caretColor","colorDisabled","colorActive","boxShadowFocus","boxShadowActive","boxShadowHover","border","borderFocus","borderHover","borderActive","arrowColor","arrowColorDisabled","colorActiveWarning","boxShadowFocusWarning","boxShadowActiveWarning","boxShadowHoverWarning","borderWarning","borderFocusWarning","borderHoverWarning","borderActiveWarning","colorActiveError","boxShadowFocusError","boxShadowActiveError","boxShadowHoverError","borderError","borderFocusError","borderHoverError","borderActiveError","clearSize","arrowSize","disabled","filterable","maxTagCount","bordered","renderTag","maxTagCountResponsive","maxTagCountNumeric","useMaxTagCount","suffix","Wrapper","Suffix","body","labelField","createTag","NTag","createOriginalTagNodes","input","renderCounter","rest","tags","renderPopover","popoverProps","placeholder","popoverTrigger","Fragment","NPopover","hasInput","showPlaceholder","showSelectedLabel","getTitleAttribute","getIsGroup","getIgnored","patternMatched","pattern","createTmOptions","valueField","childrenField","filterOptions","originalOpts","filter","traverse","filteredOptions","createValOptMap","valOptMap","selectGroupOption"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}