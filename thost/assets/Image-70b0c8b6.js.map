{"version":3,"file":"Image-70b0c8b6.js","sources":["../../node_modules/lodash-es/_arrayReduce.js","../../node_modules/lodash-es/_basePropertyOf.js","../../node_modules/lodash-es/_deburrLetter.js","../../node_modules/lodash-es/deburr.js","../../node_modules/lodash-es/_asciiWords.js","../../node_modules/lodash-es/_hasUnicodeWord.js","../../node_modules/lodash-es/_unicodeWords.js","../../node_modules/lodash-es/words.js","../../node_modules/lodash-es/_createCompounder.js","../../node_modules/lodash-es/kebabCase.js","../../node_modules/naive-ui/es/_internal/icons/RotateClockwise.js","../../node_modules/naive-ui/es/_internal/icons/RotateCounterclockwise.js","../../node_modules/naive-ui/es/_internal/icons/ZoomIn.js","../../node_modules/naive-ui/es/_internal/icons/ZoomOut.js","../../node_modules/naive-ui/es/_internal/icons/ResizeSmall.js","../../node_modules/naive-ui/es/_utils/env/is-native-lazy-load.js","../../node_modules/naive-ui/es/image/src/utils.js","../../node_modules/naive-ui/es/image/src/interface.js","../../node_modules/naive-ui/es/image/styles/light.js","../../node_modules/naive-ui/es/image/src/icons.js","../../node_modules/naive-ui/es/image/src/styles/index.cssr.js","../../node_modules/naive-ui/es/image/src/ImagePreview.js","../../node_modules/naive-ui/es/image/src/ImageGroup.js","../../node_modules/naive-ui/es/image/src/Image.js"],"sourcesContent":["/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduce;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default basePropertyOf;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nexport default deburrLetter;\n","import deburrLetter from './_deburrLetter.js';\nimport toString from './toString.js';\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('déjà vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nexport default deburr;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nexport default asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nexport default hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nexport default unicodeWords;\n","import asciiWords from './_asciiWords.js';\nimport hasUnicodeWord from './_hasUnicodeWord.js';\nimport toString from './toString.js';\nimport unicodeWords from './_unicodeWords.js';\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nexport default words;\n","import arrayReduce from './_arrayReduce.js';\nimport deburr from './deburr.js';\nimport words from './words.js';\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nexport default createCompounder;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the kebab cased string.\n * @example\n *\n * _.kebabCase('Foo Bar');\n * // => 'foo-bar'\n *\n * _.kebabCase('fooBar');\n * // => 'foo-bar'\n *\n * _.kebabCase('__FOO_BAR__');\n * // => 'foo-bar'\n */\nvar kebabCase = createCompounder(function(result, word, index) {\n  return result + (index ? '-' : '') + word.toLowerCase();\n});\n\nexport default kebabCase;\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('rotateClockwise', h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z\", fill: \"currentColor\" }),\n    h(\"path\", { d: \"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z\", fill: \"currentColor\" })));\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('rotateClockwise', h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z\", fill: \"currentColor\" }),\n    h(\"path\", { d: \"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z\", fill: \"currentColor\" })));\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('zoomIn', h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z\", fill: \"currentColor\" }),\n    h(\"path\", { d: \"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z\", fill: \"currentColor\" })));\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('zoomOut', h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z\", fill: \"currentColor\" }),\n    h(\"path\", { d: \"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z\", fill: \"currentColor\" })));\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'ResizeSmall',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 20 20\" },\n            h(\"g\", { fill: \"none\" },\n                h(\"path\", { d: \"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z\", fill: \"currentColor\" }))));\n    }\n});\n","import { isBrowser } from './is-browser';\nexport const isImageSupportNativeLazy = isBrowser && 'loading' in document.createElement('img');\n","export const resolveOptionsAndHash = (options = {}) => {\n    var _a;\n    const { root = null } = options;\n    return {\n        hash: `${options.rootMargin || '0px 0px 0px 0px'}-${Array.isArray(options.threshold)\n            ? options.threshold.join(',')\n            : (_a = options.threshold) !== null && _a !== void 0 ? _a : '0'}`,\n        options: Object.assign(Object.assign({}, options), { root: (typeof root === 'string' ? document.querySelector(root) : root) ||\n                document.documentElement })\n    };\n};\n// root -> options -> [observer, elements]\nconst observers = new WeakMap();\nconst unobserveHandleMap = new WeakMap();\nconst shouldStartLoadingRefMap = new WeakMap();\nexport const observeIntersection = (el, options, shouldStartLoadingRef) => {\n    if (!el)\n        return () => { };\n    const resolvedOptionsAndHash = resolveOptionsAndHash(options);\n    const { root } = resolvedOptionsAndHash.options;\n    let rootObservers;\n    const _rootObservers = observers.get(root);\n    if (_rootObservers) {\n        rootObservers = _rootObservers;\n    }\n    else {\n        rootObservers = new Map();\n        observers.set(root, rootObservers);\n    }\n    let observer;\n    let observerAndObservedElements;\n    if (rootObservers.has(resolvedOptionsAndHash.hash)) {\n        observerAndObservedElements =\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            rootObservers.get(resolvedOptionsAndHash.hash);\n        if (!observerAndObservedElements[1].has(el)) {\n            observer = observerAndObservedElements[0];\n            observerAndObservedElements[1].add(el);\n            observer.observe(el);\n        }\n    }\n    else {\n        observer = new IntersectionObserver((entries) => {\n            entries.forEach((entry) => {\n                if (entry.isIntersecting) {\n                    const _unobserve = unobserveHandleMap.get(entry.target);\n                    const _shouldStartLoadingRef = shouldStartLoadingRefMap.get(entry.target);\n                    if (_unobserve)\n                        _unobserve();\n                    if (_shouldStartLoadingRef) {\n                        _shouldStartLoadingRef.value = true;\n                    }\n                }\n            });\n        }, resolvedOptionsAndHash.options);\n        observer.observe(el);\n        observerAndObservedElements = [observer, new Set([el])];\n        rootObservers.set(resolvedOptionsAndHash.hash, observerAndObservedElements);\n    }\n    let unobservered = false;\n    const unobserve = () => {\n        if (unobservered)\n            return;\n        unobserveHandleMap.delete(el);\n        shouldStartLoadingRefMap.delete(el);\n        unobservered = true;\n        if (observerAndObservedElements[1].has(el)) {\n            observerAndObservedElements[0].unobserve(el);\n            observerAndObservedElements[1].delete(el);\n        }\n        if (observerAndObservedElements[1].size <= 0) {\n            rootObservers.delete(resolvedOptionsAndHash.hash);\n        }\n        if (!rootObservers.size) {\n            observers.delete(root);\n        }\n    };\n    unobserveHandleMap.set(el, unobserve);\n    shouldStartLoadingRefMap.set(el, shouldStartLoadingRef);\n    return unobserve;\n};\n","import { useTheme } from '../../_mixins';\nimport { createInjectionKey } from '../../_utils';\nexport const imagePreviewSharedProps = Object.assign(Object.assign({}, useTheme.props), { showToolbar: { type: Boolean, default: true }, showToolbarTooltip: Boolean });\nexport const imageContextKey = createInjectionKey('n-image');\n","import { tooltipLight } from '../../tooltip/styles';\nimport { createTheme } from '../../_mixins';\nimport { commonLight } from '../../_styles/common';\nfunction self() {\n    return {\n        toolbarIconColor: 'rgba(255, 255, 255, .9)',\n        toolbarColor: 'rgba(0, 0, 0, .35)',\n        toolbarBoxShadow: 'none',\n        toolbarBorderRadius: '24px'\n    };\n}\nexport const imageLight = createTheme({\n    name: 'Image',\n    common: commonLight,\n    peers: {\n        Tooltip: tooltipLight\n    },\n    self\n});\n","import { h } from 'vue';\nexport const prevIcon = (h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z\", fill: \"currentColor\" })));\nexport const nextIcon = (h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z\", fill: \"currentColor\" })));\nexport const closeIcon = (h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z\", fill: \"currentColor\" })));\n","import { c, cB, cNotM } from '../../../_utils/cssr';\nimport { fadeInTransition } from '../../../_styles/transitions/fade-in.cssr';\nimport { fadeInScaleUpTransition } from '../../../_styles/transitions/fade-in-scale-up.cssr';\n// vars:\n// --n-toolbar-icon-color\n// --n-toolbar-color\n// --n-toolbar-border-radius\n// --n-toolbar-box-shadow\n// --n-bezier\nexport default c([c('body >', [cB('image-container', 'position: fixed;')]), cB('image-preview-container', `\n position: fixed;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n `), cB('image-preview-overlay', `\n z-index: -1;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n background: rgba(0, 0, 0, .3);\n `, [fadeInTransition()]), cB('image-preview-toolbar', `\n z-index: 1;\n position: absolute;\n left: 50%;\n transform: translateX(-50%);\n border-radius: var(--n-toolbar-border-radius);\n height: 48px;\n bottom: 40px;\n padding: 0 12px;\n background: var(--n-toolbar-color);\n box-shadow: var(--n-toolbar-box-shadow);\n color: var(--n-toolbar-icon-color);\n transition: color .3s var(--n-bezier);\n display: flex;\n align-items: center;\n `, [cB('base-icon', `\n padding: 0 8px;\n font-size: 28px;\n cursor: pointer;\n `), fadeInTransition()]), cB('image-preview-wrapper', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n pointer-events: none;\n `, [fadeInScaleUpTransition()]), cB('image-preview', `\n user-select: none;\n -webkit-user-select: none;\n pointer-events: all;\n margin: auto;\n max-height: calc(100vh - 32px);\n max-width: calc(100vw - 32px);\n transition: transform .3s var(--n-bezier);\n `), cB('image', `\n display: inline-flex;\n max-height: 100%;\n max-width: 100%;\n `, [cNotM('preview-disabled', `\n cursor: pointer;\n `), c('img', `\n border-radius: inherit;\n `)])]);","import { h, defineComponent, Fragment, ref, withDirectives, Transition, vShow, watch, computed, toRef, onBeforeUnmount, inject, normalizeStyle } from 'vue';\nimport { zindexable } from 'vdirs';\nimport { useIsMounted } from 'vooks';\nimport { LazyTeleport } from 'vueuc';\nimport { on, off } from 'evtd';\nimport { beforeNextFrameOnce } from 'seemly';\nimport { kebabCase } from 'lodash-es';\nimport { RotateClockwiseIcon, RotateCounterclockwiseIcon, ZoomInIcon, ZoomOutIcon, ResizeSmallIcon } from '../../_internal/icons';\nimport { useConfig, useLocale, useTheme, useThemeClass } from '../../_mixins';\nimport { NBaseIcon } from '../../_internal';\nimport { NTooltip } from '../../tooltip';\nimport { imageLight } from '../styles';\nimport { prevIcon, nextIcon, closeIcon } from './icons';\nimport { imageContextKey, imagePreviewSharedProps } from './interface';\nimport style from './styles/index.cssr';\nconst BLEEDING = 32;\nexport default defineComponent({\n    name: 'ImagePreview',\n    props: Object.assign(Object.assign({}, imagePreviewSharedProps), { onNext: Function, onPrev: Function, clsPrefix: {\n            type: String,\n            required: true\n        } }),\n    setup(props) {\n        const themeRef = useTheme('Image', '-image', style, imageLight, props, toRef(props, 'clsPrefix'));\n        let thumbnailEl = null;\n        const previewRef = ref(null);\n        const previewWrapperRef = ref(null);\n        const previewSrcRef = ref(undefined);\n        const showRef = ref(false);\n        const displayedRef = ref(false);\n        const { localeRef } = useLocale('Image');\n        function syncTransformOrigin() {\n            const { value: previewWrapper } = previewWrapperRef;\n            if (!thumbnailEl || !previewWrapper)\n                return;\n            const { style } = previewWrapper;\n            const tbox = thumbnailEl.getBoundingClientRect();\n            const tx = tbox.left + tbox.width / 2;\n            const ty = tbox.top + tbox.height / 2;\n            style.transformOrigin = `${tx}px ${ty}px`;\n        }\n        function handleKeydown(e) {\n            var _a, _b;\n            switch (e.key) {\n                case ' ':\n                    e.preventDefault();\n                    break;\n                case 'ArrowLeft':\n                    (_a = props.onPrev) === null || _a === void 0 ? void 0 : _a.call(props);\n                    break;\n                case 'ArrowRight':\n                    (_b = props.onNext) === null || _b === void 0 ? void 0 : _b.call(props);\n                    break;\n                case 'Escape':\n                    toggleShow();\n                    break;\n            }\n        }\n        watch(showRef, (value) => {\n            if (value) {\n                on('keydown', document, handleKeydown);\n            }\n            else\n                off('keydown', document, handleKeydown);\n        });\n        onBeforeUnmount(() => {\n            off('keydown', document, handleKeydown);\n        });\n        let startX = 0;\n        let startY = 0;\n        let offsetX = 0;\n        let offsetY = 0;\n        let startOffsetX = 0;\n        let startOffsetY = 0;\n        let mouseDownClientX = 0;\n        let mouseDownClientY = 0;\n        let dragging = false;\n        function handleMouseMove(e) {\n            const { clientX, clientY } = e;\n            offsetX = clientX - startX;\n            offsetY = clientY - startY;\n            beforeNextFrameOnce(derivePreviewStyle);\n        }\n        function getMoveStrategy(opts) {\n            const { mouseUpClientX, mouseUpClientY, mouseDownClientX, mouseDownClientY } = opts;\n            const deltaHorizontal = mouseDownClientX - mouseUpClientX;\n            const deltaVertical = mouseDownClientY - mouseUpClientY;\n            const moveVerticalDirection = `vertical${deltaVertical > 0 ? 'Top' : 'Bottom'}`;\n            const moveHorizontalDirection = `horizontal${deltaHorizontal > 0 ? 'Left' : 'Right'}`;\n            return {\n                moveVerticalDirection,\n                moveHorizontalDirection,\n                deltaHorizontal,\n                deltaVertical\n            };\n        }\n        // avoid image move outside viewport\n        function getDerivedOffset(moveStrategy) {\n            const { value: preview } = previewRef;\n            if (!preview)\n                return { offsetX: 0, offsetY: 0 };\n            const pbox = preview.getBoundingClientRect();\n            const { moveVerticalDirection, moveHorizontalDirection, deltaHorizontal, deltaVertical } = moveStrategy || {};\n            let nextOffsetX = 0;\n            let nextOffsetY = 0;\n            if (pbox.width <= window.innerWidth) {\n                nextOffsetX = 0;\n            }\n            else if (pbox.left > 0) {\n                nextOffsetX = (pbox.width - window.innerWidth) / 2;\n            }\n            else if (pbox.right < window.innerWidth) {\n                nextOffsetX = -(pbox.width - window.innerWidth) / 2;\n            }\n            else if (moveHorizontalDirection === 'horizontalRight') {\n                nextOffsetX = Math.min((pbox.width - window.innerWidth) / 2, startOffsetX - (deltaHorizontal !== null && deltaHorizontal !== void 0 ? deltaHorizontal : 0));\n            }\n            else {\n                nextOffsetX = Math.max(-((pbox.width - window.innerWidth) / 2), startOffsetX - (deltaHorizontal !== null && deltaHorizontal !== void 0 ? deltaHorizontal : 0));\n            }\n            if (pbox.height <= window.innerHeight) {\n                nextOffsetY = 0;\n            }\n            else if (pbox.top > 0) {\n                nextOffsetY = (pbox.height - window.innerHeight) / 2;\n            }\n            else if (pbox.bottom < window.innerHeight) {\n                nextOffsetY = -(pbox.height - window.innerHeight) / 2;\n            }\n            else if (moveVerticalDirection === 'verticalBottom') {\n                nextOffsetY = Math.min((pbox.height - window.innerHeight) / 2, startOffsetY - (deltaVertical !== null && deltaVertical !== void 0 ? deltaVertical : 0));\n            }\n            else {\n                nextOffsetY = Math.max(-((pbox.height - window.innerHeight) / 2), startOffsetY - (deltaVertical !== null && deltaVertical !== void 0 ? deltaVertical : 0));\n            }\n            return {\n                offsetX: nextOffsetX,\n                offsetY: nextOffsetY\n            };\n        }\n        function handleMouseUp(e) {\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            const { clientX: mouseUpClientX, clientY: mouseUpClientY } = e;\n            dragging = false;\n            const moveStrategy = getMoveStrategy({\n                mouseUpClientX,\n                mouseUpClientY,\n                mouseDownClientX,\n                mouseDownClientY\n            });\n            const offset = getDerivedOffset(moveStrategy);\n            offsetX = offset.offsetX;\n            offsetY = offset.offsetY;\n            derivePreviewStyle();\n        }\n        const imageContext = inject(imageContextKey, null);\n        function handlePreviewMousedown(e) {\n            var _a, _b;\n            (_b = (_a = imageContext === null || imageContext === void 0 ? void 0 : imageContext.previewedImgPropsRef.value) === null || _a === void 0 ? void 0 : _a.onMousedown) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n            if (e.button !== 0)\n                return;\n            const { clientX, clientY } = e;\n            dragging = true;\n            startX = clientX - offsetX;\n            startY = clientY - offsetY;\n            startOffsetX = offsetX;\n            startOffsetY = offsetY;\n            mouseDownClientX = clientX;\n            mouseDownClientY = clientY;\n            derivePreviewStyle();\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n        }\n        function handlePreviewDblclick(e) {\n            var _a, _b;\n            (_b = (_a = imageContext === null || imageContext === void 0 ? void 0 : imageContext.previewedImgPropsRef.value) === null || _a === void 0 ? void 0 : _a.onDblclick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n            const originalImageSizeScale = getOrignalImageSizeScale();\n            scale = scale === originalImageSizeScale ? 1 : originalImageSizeScale;\n            derivePreviewStyle();\n        }\n        const scaleRadix = 1.5;\n        let scaleExp = 0;\n        let scale = 1;\n        let rotate = 0;\n        function resetScale() {\n            scale = 1;\n            scaleExp = 0;\n        }\n        function handleSwitchPrev() {\n            var _a;\n            resetScale();\n            rotate = 0;\n            (_a = props.onPrev) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        function handleSwitchNext() {\n            var _a;\n            resetScale();\n            rotate = 0;\n            (_a = props.onNext) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        function rotateCounterclockwise() {\n            rotate -= 90;\n            derivePreviewStyle();\n        }\n        function rotateClockwise() {\n            rotate += 90;\n            derivePreviewStyle();\n        }\n        function getMaxScale() {\n            const { value: preview } = previewRef;\n            if (!preview)\n                return 1;\n            const { innerWidth, innerHeight } = window;\n            const heightMaxScale = Math.max(1, preview.naturalHeight / (innerHeight - BLEEDING));\n            const widthMaxScale = Math.max(1, preview.naturalWidth / (innerWidth - BLEEDING));\n            return Math.max(3, heightMaxScale * 2, widthMaxScale * 2);\n        }\n        function getOrignalImageSizeScale() {\n            const { value: preview } = previewRef;\n            if (!preview)\n                return 1;\n            const { innerWidth, innerHeight } = window;\n            const heightScale = preview.naturalHeight / (innerHeight - BLEEDING);\n            const widthScale = preview.naturalWidth / (innerWidth - BLEEDING);\n            if (heightScale < 1 && widthScale < 1) {\n                return 1;\n            }\n            return Math.max(heightScale, widthScale);\n        }\n        function zoomIn() {\n            const maxScale = getMaxScale();\n            if (scale < maxScale) {\n                scaleExp += 1;\n                scale = Math.min(maxScale, Math.pow(scaleRadix, scaleExp));\n                derivePreviewStyle();\n            }\n        }\n        function zoomOut() {\n            if (scale > 0.5) {\n                const originalScale = scale;\n                scaleExp -= 1;\n                scale = Math.max(0.5, Math.pow(scaleRadix, scaleExp));\n                const diff = originalScale - scale;\n                derivePreviewStyle(false);\n                const offset = getDerivedOffset();\n                scale += diff;\n                derivePreviewStyle(false);\n                scale -= diff;\n                offsetX = offset.offsetX;\n                offsetY = offset.offsetY;\n                derivePreviewStyle();\n            }\n        }\n        function derivePreviewStyle(transition = true) {\n            var _a;\n            const { value: preview } = previewRef;\n            if (!preview)\n                return;\n            const { style } = preview;\n            const controlledStyle = normalizeStyle((_a = imageContext === null || imageContext === void 0 ? void 0 : imageContext.previewedImgPropsRef.value) === null || _a === void 0 ? void 0 : _a.style);\n            let controlledStyleString = '';\n            if (typeof controlledStyle === 'string') {\n                controlledStyleString = controlledStyle + ';';\n            }\n            else {\n                for (const key in controlledStyle) {\n                    controlledStyleString += `${kebabCase(key)}: ${controlledStyle[key]};`;\n                }\n            }\n            const transformStyle = `transform-origin: center; transform: translateX(${offsetX}px) translateY(${offsetY}px) rotate(${rotate}deg) scale(${scale});`;\n            if (dragging) {\n                style.cssText =\n                    controlledStyleString +\n                        'cursor: grabbing; transition: none;' +\n                        transformStyle;\n            }\n            else {\n                style.cssText =\n                    controlledStyleString +\n                        'cursor: grab;' +\n                        transformStyle +\n                        (transition ? '' : 'transition: none;');\n            }\n            if (!transition) {\n                void preview.offsetHeight;\n            }\n        }\n        function toggleShow() {\n            showRef.value = !showRef.value;\n            displayedRef.value = true;\n        }\n        function resizeToOrignalImageSize() {\n            scale = getOrignalImageSizeScale();\n            scaleExp = Math.ceil(Math.log(scale) / Math.log(scaleRadix));\n            offsetX = 0;\n            offsetY = 0;\n            derivePreviewStyle();\n        }\n        const exposedMethods = {\n            setPreviewSrc: (src) => {\n                previewSrcRef.value = src;\n            },\n            setThumbnailEl: (el) => {\n                thumbnailEl = el;\n            },\n            toggleShow\n        };\n        function withTooltip(node, tooltipKey) {\n            if (props.showToolbarTooltip) {\n                const { value: theme } = themeRef;\n                return (h(NTooltip, { to: false, theme: theme.peers.Tooltip, themeOverrides: theme.peerOverrides.Tooltip, keepAliveOnHover: false }, {\n                    default: () => {\n                        return localeRef.value[tooltipKey];\n                    },\n                    trigger: () => node\n                }));\n            }\n            else {\n                return node;\n            }\n        }\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut }, self: { toolbarIconColor, toolbarBorderRadius, toolbarBoxShadow, toolbarColor } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-toolbar-icon-color': toolbarIconColor,\n                '--n-toolbar-color': toolbarColor,\n                '--n-toolbar-border-radius': toolbarBorderRadius,\n                '--n-toolbar-box-shadow': toolbarBoxShadow\n            };\n        });\n        const { inlineThemeDisabled } = useConfig();\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('image-preview', undefined, cssVarsRef, props)\n            : undefined;\n        return Object.assign({ previewRef,\n            previewWrapperRef, previewSrc: previewSrcRef, show: showRef, appear: useIsMounted(), displayed: displayedRef, previewedImgProps: imageContext === null || imageContext === void 0 ? void 0 : imageContext.previewedImgPropsRef, handleWheel(e) {\n                e.preventDefault();\n            },\n            handlePreviewMousedown,\n            handlePreviewDblclick,\n            syncTransformOrigin, handleAfterLeave: () => {\n                resetScale();\n                rotate = 0;\n                displayedRef.value = false;\n            }, handleDragStart: (e) => {\n                var _a, _b;\n                (_b = (_a = imageContext === null || imageContext === void 0 ? void 0 : imageContext.previewedImgPropsRef.value) === null || _a === void 0 ? void 0 : _a.onDragstart) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n                e.preventDefault();\n            }, zoomIn,\n            zoomOut,\n            rotateCounterclockwise,\n            rotateClockwise,\n            handleSwitchPrev,\n            handleSwitchNext,\n            withTooltip,\n            resizeToOrignalImageSize, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedMethods);\n    },\n    render() {\n        var _a, _b;\n        const { clsPrefix } = this;\n        return (h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 :\n            _b.call(_a),\n            h(LazyTeleport, { show: this.show }, {\n                default: () => {\n                    var _a;\n                    if (!(this.show || this.displayed)) {\n                        return null;\n                    }\n                    (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                    return withDirectives(h(\"div\", { class: [\n                            `${clsPrefix}-image-preview-container`,\n                            this.themeClass\n                        ], style: this.cssVars, onWheel: this.handleWheel },\n                        h(Transition, { name: \"fade-in-transition\", appear: this.appear }, {\n                            default: () => this.show ? (h(\"div\", { class: `${clsPrefix}-image-preview-overlay`, onClick: this.toggleShow })) : null\n                        }),\n                        this.showToolbar ? (h(Transition, { name: \"fade-in-transition\", appear: this.appear }, {\n                            default: () => {\n                                if (!this.show)\n                                    return null;\n                                const { withTooltip } = this;\n                                return (h(\"div\", { class: `${clsPrefix}-image-preview-toolbar` },\n                                    this.onPrev ? (h(Fragment, null,\n                                        withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.handleSwitchPrev }, { default: () => prevIcon }), 'tipPrevious'),\n                                        withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.handleSwitchNext }, { default: () => nextIcon }), 'tipNext'))) : null,\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.rotateCounterclockwise }, {\n                                        default: () => (h(RotateCounterclockwiseIcon, null))\n                                    }), 'tipCounterclockwise'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.rotateClockwise }, {\n                                        default: () => h(RotateClockwiseIcon, null)\n                                    }), 'tipClockwise'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.resizeToOrignalImageSize }, {\n                                        default: () => {\n                                            return h(ResizeSmallIcon, null);\n                                        }\n                                    }), 'tipOriginalSize'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.zoomOut }, { default: () => h(ZoomOutIcon, null) }), 'tipZoomOut'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.zoomIn }, { default: () => h(ZoomInIcon, null) }), 'tipZoomIn'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.toggleShow }, { default: () => closeIcon }), 'tipClose')));\n                            }\n                        })) : null,\n                        h(Transition, { name: \"fade-in-scale-up-transition\", onAfterLeave: this.handleAfterLeave, appear: this.appear, \n                            // BUG:\n                            // onEnter will be called twice, I don't know why\n                            // Maybe it is a bug of vue\n                            onEnter: this.syncTransformOrigin, onBeforeLeave: this.syncTransformOrigin }, {\n                            default: () => {\n                                const { previewedImgProps = {} } = this;\n                                return withDirectives(h(\"div\", { class: `${clsPrefix}-image-preview-wrapper`, ref: \"previewWrapperRef\" },\n                                    h(\"img\", Object.assign({}, previewedImgProps, { draggable: false, onMousedown: this.handlePreviewMousedown, onDblclick: this.handlePreviewDblclick, class: [\n                                            `${clsPrefix}-image-preview`,\n                                            previewedImgProps.class\n                                        ], key: this.previewSrc, src: this.previewSrc, ref: \"previewRef\", onDragstart: this.handleDragStart }))), [[vShow, this.show]]);\n                            }\n                        })), [[zindexable, { enabled: this.show }]]);\n                }\n            })));\n    }\n});\n","import { defineComponent, h, ref, provide, getCurrentInstance } from 'vue';\nimport { createId } from 'seemly';\nimport { createInjectionKey } from '../../_utils';\nimport { useConfig } from '../../_mixins';\nimport NImagePreview from './ImagePreview';\nimport { imagePreviewSharedProps } from './interface';\nexport const imageGroupInjectionKey = createInjectionKey('n-image-group');\nexport const imageGroupProps = imagePreviewSharedProps;\nexport default defineComponent({\n    name: 'ImageGroup',\n    props: imageGroupProps,\n    setup(props) {\n        let currentSrc;\n        const { mergedClsPrefixRef } = useConfig(props);\n        const groupId = `c${createId()}`;\n        const vm = getCurrentInstance();\n        const setPreviewSrc = (src) => {\n            var _a;\n            currentSrc = src;\n            (_a = previewInstRef.value) === null || _a === void 0 ? void 0 : _a.setPreviewSrc(src);\n        };\n        function go(step) {\n            if (!(vm === null || vm === void 0 ? void 0 : vm.proxy))\n                return;\n            const container = vm.proxy.$el.parentElement;\n            // use dom api since we can't get the correct order before all children are rendered\n            const imgs = container.querySelectorAll(`[data-group-id=${groupId}]:not([data-error=true])`);\n            if (!imgs.length)\n                return;\n            const index = Array.from(imgs).findIndex((img) => img.dataset.previewSrc === currentSrc);\n            if (~index) {\n                setPreviewSrc(imgs[(index + step + imgs.length) % imgs.length].dataset.previewSrc);\n            }\n            else {\n                setPreviewSrc(imgs[0].dataset.previewSrc);\n            }\n        }\n        provide(imageGroupInjectionKey, {\n            mergedClsPrefixRef,\n            setPreviewSrc,\n            setThumbnailEl: (el) => {\n                var _a;\n                (_a = previewInstRef.value) === null || _a === void 0 ? void 0 : _a.setThumbnailEl(el);\n            },\n            toggleShow: () => {\n                var _a;\n                (_a = previewInstRef.value) === null || _a === void 0 ? void 0 : _a.toggleShow();\n            },\n            groupId\n        });\n        const previewInstRef = ref(null);\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            previewInstRef,\n            next: () => { go(1); },\n            prev: () => { go(-1); }\n        };\n    },\n    render() {\n        return (h(NImagePreview, { theme: this.theme, themeOverrides: this.themeOverrides, clsPrefix: this.mergedClsPrefix, ref: \"previewInstRef\", onPrev: this.prev, onNext: this.next, showToolbar: this.showToolbar, showToolbarTooltip: this.showToolbarTooltip }, this.$slots));\n    }\n});\n","import { defineComponent, h, inject, ref, watchEffect, onMounted, onBeforeUnmount, provide, toRef } from 'vue';\nimport { isImageSupportNativeLazy } from '../../_utils/env/is-native-lazy-load';\nimport { useConfig } from '../../_mixins';\nimport { imageContextKey, imagePreviewSharedProps } from './interface';\nimport { observeIntersection } from './utils';\nimport { imageGroupInjectionKey } from './ImageGroup';\nimport NImagePreview from './ImagePreview';\nexport const imageProps = Object.assign({ alt: String, height: [String, Number], imgProps: Object, previewedImgProps: Object, lazy: Boolean, intersectionObserverOptions: Object, objectFit: {\n        type: String,\n        default: 'fill'\n    }, previewSrc: String, fallbackSrc: String, width: [String, Number], src: String, previewDisabled: Boolean, loadDescription: String, onError: Function, onLoad: Function }, imagePreviewSharedProps);\nexport default defineComponent({\n    name: 'Image',\n    props: imageProps,\n    inheritAttrs: false,\n    setup(props) {\n        const imageRef = ref(null);\n        const showErrorRef = ref(false);\n        const previewInstRef = ref(null);\n        const imageGroupHandle = inject(imageGroupInjectionKey, null);\n        const { mergedClsPrefixRef } = imageGroupHandle || useConfig(props);\n        const exposedMethods = {\n            click: () => {\n                if (props.previewDisabled || showErrorRef.value)\n                    return;\n                const mergedPreviewSrc = props.previewSrc || props.src;\n                if (imageGroupHandle) {\n                    imageGroupHandle.setPreviewSrc(mergedPreviewSrc);\n                    imageGroupHandle.setThumbnailEl(imageRef.value);\n                    imageGroupHandle.toggleShow();\n                    return;\n                }\n                const { value: previewInst } = previewInstRef;\n                if (!previewInst)\n                    return;\n                previewInst.setPreviewSrc(mergedPreviewSrc);\n                previewInst.setThumbnailEl(imageRef.value);\n                previewInst.toggleShow();\n            }\n        };\n        const shouldStartLoadingRef = ref(!props.lazy);\n        onMounted(() => {\n            var _a;\n            (_a = imageRef.value) === null || _a === void 0 ? void 0 : _a.setAttribute('data-group-id', (imageGroupHandle === null || imageGroupHandle === void 0 ? void 0 : imageGroupHandle.groupId) || '');\n        });\n        onMounted(() => {\n            // Use IntersectionObserver if lazy and intersectionObserverOptions is set\n            if (props.lazy && props.intersectionObserverOptions) {\n                let unobserve;\n                const stopWatchHandle = watchEffect(() => {\n                    unobserve === null || unobserve === void 0 ? void 0 : unobserve();\n                    unobserve = undefined;\n                    unobserve = observeIntersection(imageRef.value, props.intersectionObserverOptions, shouldStartLoadingRef);\n                });\n                onBeforeUnmount(() => {\n                    stopWatchHandle();\n                    unobserve === null || unobserve === void 0 ? void 0 : unobserve();\n                });\n            }\n        });\n        watchEffect(() => {\n            var _a;\n            void props.src;\n            void ((_a = props.imgProps) === null || _a === void 0 ? void 0 : _a.src);\n            showErrorRef.value = false;\n        });\n        const loadedRef = ref(false);\n        provide(imageContextKey, {\n            previewedImgPropsRef: toRef(props, 'previewedImgProps')\n        });\n        return Object.assign({ mergedClsPrefix: mergedClsPrefixRef, groupId: imageGroupHandle === null || imageGroupHandle === void 0 ? void 0 : imageGroupHandle.groupId, previewInstRef,\n            imageRef, showError: showErrorRef, shouldStartLoading: shouldStartLoadingRef, loaded: loadedRef, mergedOnClick: (e) => {\n                var _a, _b;\n                exposedMethods.click();\n                (_b = (_a = props.imgProps) === null || _a === void 0 ? void 0 : _a.onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n            }, mergedOnError: (e) => {\n                if (!shouldStartLoadingRef.value)\n                    return;\n                showErrorRef.value = true;\n                const { onError, imgProps: { onError: imgPropsOnError } = {} } = props;\n                onError === null || onError === void 0 ? void 0 : onError(e);\n                imgPropsOnError === null || imgPropsOnError === void 0 ? void 0 : imgPropsOnError(e);\n            }, mergedOnLoad: (e) => {\n                const { onLoad, imgProps: { onLoad: imgPropsOnLoad } = {} } = props;\n                onLoad === null || onLoad === void 0 ? void 0 : onLoad(e);\n                imgPropsOnLoad === null || imgPropsOnLoad === void 0 ? void 0 : imgPropsOnLoad(e);\n                loadedRef.value = true;\n            } }, exposedMethods);\n    },\n    render() {\n        var _a, _b;\n        const { mergedClsPrefix, imgProps = {}, loaded, $attrs, lazy } = this;\n        const placeholderNode = (_b = (_a = this.$slots).placeholder) === null || _b === void 0 ? void 0 : _b.call(_a);\n        const loadSrc = this.src || imgProps.src;\n        const imgNode = h('img', Object.assign(Object.assign({}, imgProps), { ref: 'imageRef', width: this.width || imgProps.width, height: this.height || imgProps.height, src: this.showError\n                ? this.fallbackSrc\n                : lazy && this.intersectionObserverOptions\n                    ? this.shouldStartLoading\n                        ? loadSrc\n                        : undefined\n                    : loadSrc, alt: this.alt || imgProps.alt, 'aria-label': this.alt || imgProps.alt, onClick: this.mergedOnClick, onError: this.mergedOnError, onLoad: this.mergedOnLoad, \n            // If interseciton observer options is set, do not use native lazy\n            loading: isImageSupportNativeLazy && lazy && !this.intersectionObserverOptions\n                ? 'lazy'\n                : 'eager', style: [\n                imgProps.style || '',\n                placeholderNode && !loaded\n                    ? { height: '0', width: '0', visibility: 'hidden' }\n                    : '',\n                { objectFit: this.objectFit }\n            ], 'data-error': this.showError, 'data-preview-src': this.previewSrc || this.src }));\n        return (h(\"div\", Object.assign({}, $attrs, { role: \"none\", class: [\n                $attrs.class,\n                `${mergedClsPrefix}-image`,\n                (this.previewDisabled || this.showError) &&\n                    `${mergedClsPrefix}-image--preview-disabled`\n            ] }),\n            this.groupId ? (imgNode) : (h(NImagePreview, { theme: this.theme, themeOverrides: this.themeOverrides, clsPrefix: mergedClsPrefix, ref: \"previewInstRef\", showToolbar: this.showToolbar, showToolbarTooltip: this.showToolbarTooltip }, {\n                default: () => imgNode\n            })),\n            !loaded && placeholderNode));\n    }\n});\n"],"names":["arrayReduce","array","iteratee","accumulator","initAccum","index","length","basePropertyOf","object","key","deburredLetters","deburrLetter","deburrLetter$1","reLatin","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsCombo","reComboMark","deburr","string","toString","reAsciiWord","asciiWords","reHasUnicodeWord","hasUnicodeWord","rsAstralRange","rsDingbatRange","rsLowerRange","rsMathOpRange","rsNonCharRange","rsPunctuationRange","rsSpaceRange","rsUpperRange","rsVarRange","rsBreakRange","rsApos","rsBreak","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsZWJ","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsOptVar","rsOptJoin","rsOrdLower","rsOrdUpper","rsSeq","rsEmoji","reUnicodeWord","unicodeWords","words","pattern","guard","reApos","createCompounder","callback","kebabCase","result","word","kebabCase$1","RotateClockwiseIcon","replaceable","h","RotateCounterclockwiseIcon","ZoomInIcon","ZoomOutIcon","ResizeSmallIcon","defineComponent","isImageSupportNativeLazy","isBrowser","resolveOptionsAndHash","options","_a","root","observers","unobserveHandleMap","shouldStartLoadingRefMap","observeIntersection","el","shouldStartLoadingRef","resolvedOptionsAndHash","rootObservers","_rootObservers","observer","observerAndObservedElements","entries","entry","_unobserve","_shouldStartLoadingRef","unobservered","unobserve","imagePreviewSharedProps","useTheme","imageContextKey","createInjectionKey","self","imageLight","createTheme","commonLight","tooltipLight","prevIcon","nextIcon","closeIcon","style","c","cB","fadeInTransition","fadeInScaleUpTransition","cNotM","BLEEDING","NImagePreview","props","themeRef","toRef","thumbnailEl","previewRef","ref","previewWrapperRef","previewSrcRef","showRef","displayedRef","localeRef","useLocale","syncTransformOrigin","previewWrapper","tbox","tx","ty","handleKeydown","e","_b","toggleShow","watch","value","on","off","onBeforeUnmount","startX","startY","offsetX","offsetY","startOffsetX","startOffsetY","mouseDownClientX","mouseDownClientY","dragging","handleMouseMove","clientX","clientY","beforeNextFrameOnce","derivePreviewStyle","getMoveStrategy","opts","mouseUpClientX","mouseUpClientY","deltaHorizontal","deltaVertical","moveVerticalDirection","moveHorizontalDirection","getDerivedOffset","moveStrategy","preview","pbox","nextOffsetX","nextOffsetY","handleMouseUp","offset","imageContext","inject","handlePreviewMousedown","handlePreviewDblclick","originalImageSizeScale","getOrignalImageSizeScale","scale","scaleRadix","scaleExp","rotate","resetScale","handleSwitchPrev","handleSwitchNext","rotateCounterclockwise","rotateClockwise","getMaxScale","innerWidth","innerHeight","heightMaxScale","widthMaxScale","heightScale","widthScale","zoomIn","maxScale","zoomOut","originalScale","diff","transition","controlledStyle","normalizeStyle","controlledStyleString","transformStyle","resizeToOrignalImageSize","exposedMethods","src","withTooltip","node","tooltipKey","theme","NTooltip","cssVarsRef","computed","cubicBezierEaseInOut","toolbarIconColor","toolbarBorderRadius","toolbarBoxShadow","toolbarColor","inlineThemeDisabled","useConfig","themeClassHandle","useThemeClass","useIsMounted","clsPrefix","Fragment","LazyTeleport","withDirectives","Transition","NBaseIcon","previewedImgProps","vShow","zindexable","imageGroupInjectionKey","imageGroupProps","NImageGroup","currentSrc","mergedClsPrefixRef","groupId","createId","vm","getCurrentInstance","setPreviewSrc","previewInstRef","go","step","imgs","img","provide","imageProps","NImage","imageRef","showErrorRef","imageGroupHandle","mergedPreviewSrc","previewInst","onMounted","stopWatchHandle","watchEffect","loadedRef","onError","imgPropsOnError","onLoad","imgPropsOnLoad","mergedClsPrefix","imgProps","loaded","$attrs","lazy","placeholderNode","loadSrc","imgNode"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}