{"version":3,"file":"room.checkout-4a0dc044.js","sources":["../../src/views/zujuanink-v3/views/room/room.answerImgHelper.vue","../../node_modules/html-to-image/es/util.js","../../node_modules/html-to-image/es/clone-pseudos.js","../../node_modules/html-to-image/es/mimes.js","../../node_modules/html-to-image/es/dataurl.js","../../node_modules/html-to-image/es/clone-node.js","../../node_modules/html-to-image/es/embed-resources.js","../../node_modules/html-to-image/es/embed-images.js","../../node_modules/html-to-image/es/apply-style.js","../../node_modules/html-to-image/es/embed-webfonts.js","../../node_modules/html-to-image/es/index.js","../../src/views/zujuanink-v3/views/room/room.checkout.vue"],"sourcesContent":["<template>\r\n    <div v-if=\"loadingAnswer\">\r\n    <n-spin/>\r\n    </div>\r\n<div v-else>\r\n      <n-image-group>\r\n        <n-space>\r\n          <n-image :width=\"width\" :src=\"AnswerImageSrc\" />\r\n          <n-image :width=\"width\" :src=\"ParseImageSrc\" />\r\n        </n-space>\r\n      </n-image-group>\r\n</div>\r\n</template>\r\n<script setup>\r\nimport { NImage,NImageGroup,NSpace,NSpin } from \"naive-ui\";\r\nimport { API } from \"../../../../shared/APIHelper\";\r\nimport { ZujuanAPI } from \"../../utils/zujuan-api\";\r\nimport { useAttrs,ref } from \"vue\";\r\n\r\n\r\nconst loadingAnswer=ref(true)\r\nconst AnswerImageSrc=ref(\"\"),ParseImageSrc=ref(\"\")\r\n\r\nloadingAnswer.value = true;\r\n  const {id,width} = useAttrs();\r\n  // console.log(useAttrs());\r\n  ZujuanAPI(\r\n    `/app-server/v1/ques/detail/${window.bankid}/${id}?browserWidth=${width}`\r\n  ).then((v) => {\r\n    AnswerImageSrc.value =\r\n      API.host +\r\n      \"/api/xkw-helper/route-pic?purl=\" +\r\n      btoa(v.data.answerImg.replace(\"@2\", \"@3\"));\r\n    ParseImageSrc.value =\r\n      API.host +\r\n      \"/api/xkw-helper/route-pic?purl=\" +\r\n      btoa(v.data.parseImg.replace(\"@2\", \"@3\"));\r\n    loadingAnswer.value = false;\r\n  });\r\n</script>","export function resolveUrl(url, baseUrl) {\n    // url is absolute already\n    if (url.match(/^[a-z]+:\\/\\//i)) {\n        return url;\n    }\n    // url is absolute already, without protocol\n    if (url.match(/^\\/\\//)) {\n        return window.location.protocol + url;\n    }\n    // dataURI, mailto:, tel:, etc.\n    if (url.match(/^[a-z]+:/i)) {\n        return url;\n    }\n    const doc = document.implementation.createHTMLDocument();\n    const base = doc.createElement('base');\n    const a = doc.createElement('a');\n    doc.head.appendChild(base);\n    doc.body.appendChild(a);\n    if (baseUrl) {\n        base.href = baseUrl;\n    }\n    a.href = url;\n    return a.href;\n}\nexport const uuid = (() => {\n    // generate uuid for className of pseudo elements.\n    // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n    let counter = 0;\n    // ref: http://stackoverflow.com/a/6248722/2519373\n    const random = () => \n    // eslint-disable-next-line no-bitwise\n    `0000${((Math.random() * 36 ** 4) << 0).toString(36)}`.slice(-4);\n    return () => {\n        counter += 1;\n        return `u${random()}${counter}`;\n    };\n})();\nexport function delay(ms) {\n    return (args) => new Promise((resolve) => {\n        setTimeout(() => resolve(args), ms);\n    });\n}\nexport function toArray(arrayLike) {\n    const arr = [];\n    for (let i = 0, l = arrayLike.length; i < l; i++) {\n        arr.push(arrayLike[i]);\n    }\n    return arr;\n}\nfunction px(node, styleProperty) {\n    const win = node.ownerDocument.defaultView || window;\n    const val = win.getComputedStyle(node).getPropertyValue(styleProperty);\n    return val ? parseFloat(val.replace('px', '')) : 0;\n}\nfunction getNodeWidth(node) {\n    const leftBorder = px(node, 'border-left-width');\n    const rightBorder = px(node, 'border-right-width');\n    return node.clientWidth + leftBorder + rightBorder;\n}\nfunction getNodeHeight(node) {\n    const topBorder = px(node, 'border-top-width');\n    const bottomBorder = px(node, 'border-bottom-width');\n    return node.clientHeight + topBorder + bottomBorder;\n}\nexport function getImageSize(targetNode, options = {}) {\n    const width = options.width || getNodeWidth(targetNode);\n    const height = options.height || getNodeHeight(targetNode);\n    return { width, height };\n}\nexport function getPixelRatio() {\n    let ratio;\n    let FINAL_PROCESS;\n    try {\n        FINAL_PROCESS = process;\n    }\n    catch (e) {\n        // pass\n    }\n    const val = FINAL_PROCESS && FINAL_PROCESS.env\n        ? FINAL_PROCESS.env.devicePixelRatio\n        : null;\n    if (val) {\n        ratio = parseInt(val, 10);\n        if (Number.isNaN(ratio)) {\n            ratio = 1;\n        }\n    }\n    return ratio || window.devicePixelRatio || 1;\n}\n// @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas#maximum_canvas_size\nconst canvasDimensionLimit = 16384;\nexport function checkCanvasDimensions(canvas) {\n    if (canvas.width > canvasDimensionLimit ||\n        canvas.height > canvasDimensionLimit) {\n        if (canvas.width > canvasDimensionLimit &&\n            canvas.height > canvasDimensionLimit) {\n            if (canvas.width > canvas.height) {\n                canvas.height *= canvasDimensionLimit / canvas.width;\n                canvas.width = canvasDimensionLimit;\n            }\n            else {\n                canvas.width *= canvasDimensionLimit / canvas.height;\n                canvas.height = canvasDimensionLimit;\n            }\n        }\n        else if (canvas.width > canvasDimensionLimit) {\n            canvas.height *= canvasDimensionLimit / canvas.width;\n            canvas.width = canvasDimensionLimit;\n        }\n        else {\n            canvas.width *= canvasDimensionLimit / canvas.height;\n            canvas.height = canvasDimensionLimit;\n        }\n    }\n}\nexport function canvasToBlob(canvas, options = {}) {\n    if (canvas.toBlob) {\n        return new Promise((resolve) => {\n            canvas.toBlob(resolve, options.type ? options.type : 'image/png', options.quality ? options.quality : 1);\n        });\n    }\n    return new Promise((resolve) => {\n        const binaryString = window.atob(canvas\n            .toDataURL(options.type ? options.type : undefined, options.quality ? options.quality : undefined)\n            .split(',')[1]);\n        const len = binaryString.length;\n        const binaryArray = new Uint8Array(len);\n        for (let i = 0; i < len; i += 1) {\n            binaryArray[i] = binaryString.charCodeAt(i);\n        }\n        resolve(new Blob([binaryArray], {\n            type: options.type ? options.type : 'image/png',\n        }));\n    });\n}\nexport function createImage(url) {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.decode = () => resolve(img);\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n        img.crossOrigin = 'anonymous';\n        img.decoding = 'async';\n        img.src = url;\n    });\n}\nexport async function svgToDataURL(svg) {\n    return Promise.resolve()\n        .then(() => new XMLSerializer().serializeToString(svg))\n        .then(encodeURIComponent)\n        .then((html) => `data:image/svg+xml;charset=utf-8,${html}`);\n}\nexport async function nodeToDataURL(node, width, height) {\n    const xmlns = 'http://www.w3.org/2000/svg';\n    const svg = document.createElementNS(xmlns, 'svg');\n    const foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttribute('width', `${width}`);\n    svg.setAttribute('height', `${height}`);\n    svg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n    foreignObject.setAttribute('width', '100%');\n    foreignObject.setAttribute('height', '100%');\n    foreignObject.setAttribute('x', '0');\n    foreignObject.setAttribute('y', '0');\n    foreignObject.setAttribute('externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n    foreignObject.appendChild(node);\n    return svgToDataURL(svg);\n}\nexport const isInstanceOfElement = (node, instance) => {\n    if (node instanceof instance)\n        return true;\n    const nodePrototype = Object.getPrototypeOf(node);\n    if (nodePrototype === null)\n        return false;\n    return (nodePrototype.constructor.name === instance.name ||\n        isInstanceOfElement(nodePrototype, instance));\n};\n//# sourceMappingURL=util.js.map","import { uuid, toArray } from './util';\nfunction formatCSSText(style) {\n    const content = style.getPropertyValue('content');\n    return `${style.cssText} content: '${content.replace(/'|\"/g, '')}';`;\n}\nfunction formatCSSProperties(style) {\n    return toArray(style)\n        .map((name) => {\n        const value = style.getPropertyValue(name);\n        const priority = style.getPropertyPriority(name);\n        return `${name}: ${value}${priority ? ' !important' : ''};`;\n    })\n        .join(' ');\n}\nfunction getPseudoElementStyle(className, pseudo, style) {\n    const selector = `.${className}:${pseudo}`;\n    const cssText = style.cssText\n        ? formatCSSText(style)\n        : formatCSSProperties(style);\n    return document.createTextNode(`${selector}{${cssText}}`);\n}\nfunction clonePseudoElement(nativeNode, clonedNode, pseudo) {\n    const style = window.getComputedStyle(nativeNode, pseudo);\n    const content = style.getPropertyValue('content');\n    if (content === '' || content === 'none') {\n        return;\n    }\n    const className = uuid();\n    try {\n        clonedNode.className = `${clonedNode.className} ${className}`;\n    }\n    catch (err) {\n        return;\n    }\n    const styleElement = document.createElement('style');\n    styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n    clonedNode.appendChild(styleElement);\n}\nexport function clonePseudoElements(nativeNode, clonedNode) {\n    clonePseudoElement(nativeNode, clonedNode, ':before');\n    clonePseudoElement(nativeNode, clonedNode, ':after');\n}\n//# sourceMappingURL=clone-pseudos.js.map","const WOFF = 'application/font-woff';\nconst JPEG = 'image/jpeg';\nconst mimes = {\n    woff: WOFF,\n    woff2: WOFF,\n    ttf: 'application/font-truetype',\n    eot: 'application/vnd.ms-fontobject',\n    png: 'image/png',\n    jpg: JPEG,\n    jpeg: JPEG,\n    gif: 'image/gif',\n    tiff: 'image/tiff',\n    svg: 'image/svg+xml',\n    webp: 'image/webp',\n};\nfunction getExtension(url) {\n    const match = /\\.([^./]*?)$/g.exec(url);\n    return match ? match[1] : '';\n}\nexport function getMimeType(url) {\n    const extension = getExtension(url).toLowerCase();\n    return mimes[extension] || '';\n}\n//# sourceMappingURL=mimes.js.map","function getContentFromDataUrl(dataURL) {\n    return dataURL.split(/,/)[1];\n}\nexport function isDataUrl(url) {\n    return url.search(/^(data:)/) !== -1;\n}\nexport function makeDataUrl(content, mimeType) {\n    return `data:${mimeType};base64,${content}`;\n}\nexport async function fetchAsDataURL(url, init, process) {\n    const res = await fetch(url, init);\n    if (res.status === 404) {\n        throw new Error(`Resource \"${res.url}\" not found`);\n    }\n    const blob = await res.blob();\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = () => {\n            try {\n                resolve(process({ res, result: reader.result }));\n            }\n            catch (error) {\n                reject(error);\n            }\n        };\n        reader.readAsDataURL(blob);\n    });\n}\nconst cache = {};\nfunction getCacheKey(url, contentType, includeQueryParams) {\n    let key = url.replace(/\\?.*/, '');\n    if (includeQueryParams) {\n        key = url;\n    }\n    // font resource\n    if (/ttf|otf|eot|woff2?/i.test(key)) {\n        key = key.replace(/.*\\//, '');\n    }\n    return contentType ? `[${contentType}]${key}` : key;\n}\nexport async function resourceToDataURL(resourceUrl, contentType, options) {\n    const cacheKey = getCacheKey(resourceUrl, contentType, options.includeQueryParams);\n    if (cache[cacheKey] != null) {\n        return cache[cacheKey];\n    }\n    // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n    if (options.cacheBust) {\n        // eslint-disable-next-line no-param-reassign\n        resourceUrl += (/\\?/.test(resourceUrl) ? '&' : '?') + new Date().getTime();\n    }\n    let dataURL;\n    try {\n        const content = await fetchAsDataURL(resourceUrl, options.fetchRequestInit, ({ res, result }) => {\n            if (!contentType) {\n                // eslint-disable-next-line no-param-reassign\n                contentType = res.headers.get('Content-Type') || '';\n            }\n            return getContentFromDataUrl(result);\n        });\n        dataURL = makeDataUrl(content, contentType);\n    }\n    catch (error) {\n        dataURL = options.imagePlaceholder || '';\n        let msg = `Failed to fetch resource: ${resourceUrl}`;\n        if (error) {\n            msg = typeof error === 'string' ? error : error.message;\n        }\n        if (msg) {\n            console.warn(msg);\n        }\n    }\n    cache[cacheKey] = dataURL;\n    return dataURL;\n}\n//# sourceMappingURL=dataurl.js.map","import { clonePseudoElements } from './clone-pseudos';\nimport { createImage, toArray, isInstanceOfElement } from './util';\nimport { getMimeType } from './mimes';\nimport { resourceToDataURL } from './dataurl';\nasync function cloneCanvasElement(canvas) {\n    const dataURL = canvas.toDataURL();\n    if (dataURL === 'data:,') {\n        return canvas.cloneNode(false);\n    }\n    return createImage(dataURL);\n}\nasync function cloneVideoElement(video, options) {\n    if (video.currentSrc) {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        canvas.width = video.clientWidth;\n        canvas.height = video.clientHeight;\n        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n        const dataURL = canvas.toDataURL();\n        return createImage(dataURL);\n    }\n    const poster = video.poster;\n    const contentType = getMimeType(poster);\n    const dataURL = await resourceToDataURL(poster, contentType, options);\n    return createImage(dataURL);\n}\nasync function cloneIFrameElement(iframe) {\n    var _a;\n    try {\n        if ((_a = iframe === null || iframe === void 0 ? void 0 : iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.body) {\n            return (await cloneNode(iframe.contentDocument.body, {}, true));\n        }\n    }\n    catch (_b) {\n        // Failed to clone iframe\n    }\n    return iframe.cloneNode(false);\n}\nasync function cloneSingleNode(node, options) {\n    if (isInstanceOfElement(node, HTMLCanvasElement)) {\n        return cloneCanvasElement(node);\n    }\n    if (isInstanceOfElement(node, HTMLVideoElement)) {\n        return cloneVideoElement(node, options);\n    }\n    if (isInstanceOfElement(node, HTMLIFrameElement)) {\n        return cloneIFrameElement(node);\n    }\n    return node.cloneNode(false);\n}\nconst isSlotElement = (node) => node.tagName != null && node.tagName.toUpperCase() === 'SLOT';\nasync function cloneChildren(nativeNode, clonedNode, options) {\n    var _a, _b;\n    let children = [];\n    if (isSlotElement(nativeNode) && nativeNode.assignedNodes) {\n        children = toArray(nativeNode.assignedNodes());\n    }\n    else if (isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n        ((_a = nativeNode.contentDocument) === null || _a === void 0 ? void 0 : _a.body)) {\n        children = toArray(nativeNode.contentDocument.body.childNodes);\n    }\n    else {\n        children = toArray(((_b = nativeNode.shadowRoot) !== null && _b !== void 0 ? _b : nativeNode).childNodes);\n    }\n    if (children.length === 0 ||\n        isInstanceOfElement(nativeNode, HTMLVideoElement)) {\n        return clonedNode;\n    }\n    await children.reduce((deferred, child) => deferred\n        .then(() => cloneNode(child, options))\n        .then((clonedChild) => {\n        if (clonedChild) {\n            clonedNode.appendChild(clonedChild);\n        }\n    }), Promise.resolve());\n    return clonedNode;\n}\nfunction cloneCSSStyle(nativeNode, clonedNode) {\n    const targetStyle = clonedNode.style;\n    if (!targetStyle) {\n        return;\n    }\n    const sourceStyle = window.getComputedStyle(nativeNode);\n    if (sourceStyle.cssText) {\n        targetStyle.cssText = sourceStyle.cssText;\n        targetStyle.transformOrigin = sourceStyle.transformOrigin;\n    }\n    else {\n        toArray(sourceStyle).forEach((name) => {\n            let value = sourceStyle.getPropertyValue(name);\n            if (name === 'font-size' && value.endsWith('px')) {\n                const reducedFont = Math.floor(parseFloat(value.substring(0, value.length - 2))) - 0.1;\n                value = `${reducedFont}px`;\n            }\n            if (isInstanceOfElement(nativeNode, HTMLIFrameElement) &&\n                name === 'display' &&\n                value === 'inline') {\n                value = 'block';\n            }\n            if (name === 'd' && clonedNode.getAttribute('d')) {\n                value = `path(${clonedNode.getAttribute('d')})`;\n            }\n            targetStyle.setProperty(name, value, sourceStyle.getPropertyPriority(name));\n        });\n    }\n}\nfunction cloneInputValue(nativeNode, clonedNode) {\n    if (isInstanceOfElement(nativeNode, HTMLTextAreaElement)) {\n        clonedNode.innerHTML = nativeNode.value;\n    }\n    if (isInstanceOfElement(nativeNode, HTMLInputElement)) {\n        clonedNode.setAttribute('value', nativeNode.value);\n    }\n}\nfunction cloneSelectValue(nativeNode, clonedNode) {\n    if (isInstanceOfElement(nativeNode, HTMLSelectElement)) {\n        const clonedSelect = clonedNode;\n        const selectedOption = Array.from(clonedSelect.children).find((child) => nativeNode.value === child.getAttribute('value'));\n        if (selectedOption) {\n            selectedOption.setAttribute('selected', '');\n        }\n    }\n}\nfunction decorate(nativeNode, clonedNode) {\n    if (isInstanceOfElement(clonedNode, Element)) {\n        cloneCSSStyle(nativeNode, clonedNode);\n        clonePseudoElements(nativeNode, clonedNode);\n        cloneInputValue(nativeNode, clonedNode);\n        cloneSelectValue(nativeNode, clonedNode);\n    }\n    return clonedNode;\n}\nasync function ensureSVGSymbols(clone, options) {\n    const uses = clone.querySelectorAll ? clone.querySelectorAll('use') : [];\n    if (uses.length === 0) {\n        return clone;\n    }\n    const processedDefs = {};\n    for (let i = 0; i < uses.length; i++) {\n        const use = uses[i];\n        const id = use.getAttribute('xlink:href');\n        if (id) {\n            const exist = clone.querySelector(id);\n            const definition = document.querySelector(id);\n            if (!exist && definition && !processedDefs[id]) {\n                // eslint-disable-next-line no-await-in-loop\n                processedDefs[id] = (await cloneNode(definition, options, true));\n            }\n        }\n    }\n    const nodes = Object.values(processedDefs);\n    if (nodes.length) {\n        const ns = 'http://www.w3.org/1999/xhtml';\n        const svg = document.createElementNS(ns, 'svg');\n        svg.setAttribute('xmlns', ns);\n        svg.style.position = 'absolute';\n        svg.style.width = '0';\n        svg.style.height = '0';\n        svg.style.overflow = 'hidden';\n        svg.style.display = 'none';\n        const defs = document.createElementNS(ns, 'defs');\n        svg.appendChild(defs);\n        for (let i = 0; i < nodes.length; i++) {\n            defs.appendChild(nodes[i]);\n        }\n        clone.appendChild(svg);\n    }\n    return clone;\n}\nexport async function cloneNode(node, options, isRoot) {\n    if (!isRoot && options.filter && !options.filter(node)) {\n        return null;\n    }\n    return Promise.resolve(node)\n        .then((clonedNode) => cloneSingleNode(clonedNode, options))\n        .then((clonedNode) => cloneChildren(node, clonedNode, options))\n        .then((clonedNode) => decorate(node, clonedNode))\n        .then((clonedNode) => ensureSVGSymbols(clonedNode, options));\n}\n//# sourceMappingURL=clone-node.js.map","import { resolveUrl } from './util';\nimport { getMimeType } from './mimes';\nimport { isDataUrl, makeDataUrl, resourceToDataURL } from './dataurl';\nconst URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g;\nconst URL_WITH_FORMAT_REGEX = /url\\([^)]+\\)\\s*format\\(([\"']?)([^\"']+)\\1\\)/g;\nconst FONT_SRC_REGEX = /src:\\s*(?:url\\([^)]+\\)\\s*format\\([^)]+\\)[,;]\\s*)+/g;\nfunction toRegex(url) {\n    // eslint-disable-next-line no-useless-escape\n    const escaped = url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n    return new RegExp(`(url\\\\(['\"]?)(${escaped})(['\"]?\\\\))`, 'g');\n}\nexport function parseURLs(cssText) {\n    const urls = [];\n    cssText.replace(URL_REGEX, (raw, quotation, url) => {\n        urls.push(url);\n        return raw;\n    });\n    return urls.filter((url) => !isDataUrl(url));\n}\nexport async function embed(cssText, resourceURL, baseURL, options, getContentFromUrl) {\n    try {\n        const resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL;\n        const contentType = getMimeType(resourceURL);\n        let dataURL;\n        if (getContentFromUrl) {\n            const content = await getContentFromUrl(resolvedURL);\n            dataURL = makeDataUrl(content, contentType);\n        }\n        else {\n            dataURL = await resourceToDataURL(resolvedURL, contentType, options);\n        }\n        return cssText.replace(toRegex(resourceURL), `$1${dataURL}$3`);\n    }\n    catch (error) {\n        // pass\n    }\n    return cssText;\n}\nfunction filterPreferredFontFormat(str, { preferredFontFormat }) {\n    return !preferredFontFormat\n        ? str\n        : str.replace(FONT_SRC_REGEX, (match) => {\n            // eslint-disable-next-line no-constant-condition\n            while (true) {\n                const [src, , format] = URL_WITH_FORMAT_REGEX.exec(match) || [];\n                if (!format) {\n                    return '';\n                }\n                if (format === preferredFontFormat) {\n                    return `src: ${src};`;\n                }\n            }\n        });\n}\nexport function shouldEmbed(url) {\n    return url.search(URL_REGEX) !== -1;\n}\nexport async function embedResources(cssText, baseUrl, options) {\n    if (!shouldEmbed(cssText)) {\n        return cssText;\n    }\n    const filteredCSSText = filterPreferredFontFormat(cssText, options);\n    const urls = parseURLs(filteredCSSText);\n    return urls.reduce((deferred, url) => deferred.then((css) => embed(css, url, baseUrl, options)), Promise.resolve(filteredCSSText));\n}\n//# sourceMappingURL=embed-resources.js.map","import { embedResources } from './embed-resources';\nimport { toArray, isInstanceOfElement } from './util';\nimport { isDataUrl, resourceToDataURL } from './dataurl';\nimport { getMimeType } from './mimes';\nasync function embedProp(propName, node, options) {\n    var _a;\n    const propValue = (_a = node.style) === null || _a === void 0 ? void 0 : _a.getPropertyValue(propName);\n    if (propValue) {\n        const cssString = await embedResources(propValue, null, options);\n        node.style.setProperty(propName, cssString, node.style.getPropertyPriority(propName));\n        return true;\n    }\n    return false;\n}\nasync function embedBackground(clonedNode, options) {\n    if (!(await embedProp('background', clonedNode, options))) {\n        await embedProp('background-image', clonedNode, options);\n    }\n    if (!(await embedProp('mask', clonedNode, options))) {\n        await embedProp('mask-image', clonedNode, options);\n    }\n}\nasync function embedImageNode(clonedNode, options) {\n    const isImageElement = isInstanceOfElement(clonedNode, HTMLImageElement);\n    if (!(isImageElement && !isDataUrl(clonedNode.src)) &&\n        !(isInstanceOfElement(clonedNode, SVGImageElement) &&\n            !isDataUrl(clonedNode.href.baseVal))) {\n        return;\n    }\n    const url = isImageElement ? clonedNode.src : clonedNode.href.baseVal;\n    const dataURL = await resourceToDataURL(url, getMimeType(url), options);\n    await new Promise((resolve, reject) => {\n        clonedNode.onload = resolve;\n        clonedNode.onerror = reject;\n        const image = clonedNode;\n        if (image.decode) {\n            image.decode = resolve;\n        }\n        if (image.loading === 'lazy') {\n            image.loading = 'eager';\n        }\n        if (isImageElement) {\n            clonedNode.srcset = '';\n            clonedNode.src = dataURL;\n        }\n        else {\n            clonedNode.href.baseVal = dataURL;\n        }\n    });\n}\nasync function embedChildren(clonedNode, options) {\n    const children = toArray(clonedNode.childNodes);\n    const deferreds = children.map((child) => embedImages(child, options));\n    await Promise.all(deferreds).then(() => clonedNode);\n}\nexport async function embedImages(clonedNode, options) {\n    if (isInstanceOfElement(clonedNode, Element)) {\n        await embedBackground(clonedNode, options);\n        await embedImageNode(clonedNode, options);\n        await embedChildren(clonedNode, options);\n    }\n}\n//# sourceMappingURL=embed-images.js.map","export function applyStyle(node, options) {\n    const { style } = node;\n    if (options.backgroundColor) {\n        style.backgroundColor = options.backgroundColor;\n    }\n    if (options.width) {\n        style.width = `${options.width}px`;\n    }\n    if (options.height) {\n        style.height = `${options.height}px`;\n    }\n    const manual = options.style;\n    if (manual != null) {\n        Object.keys(manual).forEach((key) => {\n            style[key] = manual[key];\n        });\n    }\n    return node;\n}\n//# sourceMappingURL=apply-style.js.map","import { toArray } from './util';\nimport { fetchAsDataURL } from './dataurl';\nimport { shouldEmbed, embedResources } from './embed-resources';\nconst cssFetchCache = {};\nasync function fetchCSS(url) {\n    let cache = cssFetchCache[url];\n    if (cache != null) {\n        return cache;\n    }\n    const res = await fetch(url);\n    const cssText = await res.text();\n    cache = { url, cssText };\n    cssFetchCache[url] = cache;\n    return cache;\n}\nasync function embedFonts(data, options) {\n    let cssText = data.cssText;\n    const regexUrl = /url\\([\"']?([^\"')]+)[\"']?\\)/g;\n    const fontLocs = cssText.match(/url\\([^)]+\\)/g) || [];\n    const loadFonts = fontLocs.map(async (loc) => {\n        let url = loc.replace(regexUrl, '$1');\n        if (!url.startsWith('https://')) {\n            url = new URL(url, data.url).href;\n        }\n        return fetchAsDataURL(url, options.fetchRequestInit, ({ result }) => {\n            cssText = cssText.replace(loc, `url(${result})`);\n            return [loc, result];\n        });\n    });\n    return Promise.all(loadFonts).then(() => cssText);\n}\nfunction parseCSS(source) {\n    if (source == null) {\n        return [];\n    }\n    const result = [];\n    const commentsRegex = /(\\/\\*[\\s\\S]*?\\*\\/)/gi;\n    // strip out comments\n    let cssText = source.replace(commentsRegex, '');\n    // eslint-disable-next-line prefer-regex-literals\n    const keyframesRegex = new RegExp('((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})', 'gi');\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        const matches = keyframesRegex.exec(cssText);\n        if (matches === null) {\n            break;\n        }\n        result.push(matches[0]);\n    }\n    cssText = cssText.replace(keyframesRegex, '');\n    const importRegex = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi;\n    // to match css & media queries together\n    const combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]' +\n        '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})';\n    // unified regex\n    const unifiedRegex = new RegExp(combinedCSSRegex, 'gi');\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        let matches = importRegex.exec(cssText);\n        if (matches === null) {\n            matches = unifiedRegex.exec(cssText);\n            if (matches === null) {\n                break;\n            }\n            else {\n                importRegex.lastIndex = unifiedRegex.lastIndex;\n            }\n        }\n        else {\n            unifiedRegex.lastIndex = importRegex.lastIndex;\n        }\n        result.push(matches[0]);\n    }\n    return result;\n}\nasync function getCSSRules(styleSheets, options) {\n    const ret = [];\n    const deferreds = [];\n    // First loop inlines imports\n    styleSheets.forEach((sheet) => {\n        if ('cssRules' in sheet) {\n            try {\n                toArray(sheet.cssRules || []).forEach((item, index) => {\n                    if (item.type === CSSRule.IMPORT_RULE) {\n                        let importIndex = index + 1;\n                        const url = item.href;\n                        const deferred = fetchCSS(url)\n                            .then((metadata) => embedFonts(metadata, options))\n                            .then((cssText) => parseCSS(cssText).forEach((rule) => {\n                            try {\n                                sheet.insertRule(rule, rule.startsWith('@import')\n                                    ? (importIndex += 1)\n                                    : sheet.cssRules.length);\n                            }\n                            catch (error) {\n                                console.error('Error inserting rule from remote css', {\n                                    rule,\n                                    error,\n                                });\n                            }\n                        }))\n                            .catch((e) => {\n                            console.error('Error loading remote css', e.toString());\n                        });\n                        deferreds.push(deferred);\n                    }\n                });\n            }\n            catch (e) {\n                const inline = styleSheets.find((a) => a.href == null) || document.styleSheets[0];\n                if (sheet.href != null) {\n                    deferreds.push(fetchCSS(sheet.href)\n                        .then((metadata) => embedFonts(metadata, options))\n                        .then((cssText) => parseCSS(cssText).forEach((rule) => {\n                        inline.insertRule(rule, sheet.cssRules.length);\n                    }))\n                        .catch((err) => {\n                        console.error('Error loading remote stylesheet', err);\n                    }));\n                }\n                console.error('Error inlining remote css file', e);\n            }\n        }\n    });\n    return Promise.all(deferreds).then(() => {\n        // Second loop parses rules\n        styleSheets.forEach((sheet) => {\n            if ('cssRules' in sheet) {\n                try {\n                    toArray(sheet.cssRules || []).forEach((item) => {\n                        ret.push(item);\n                    });\n                }\n                catch (e) {\n                    console.error(`Error while reading CSS rules from ${sheet.href}`, e);\n                }\n            }\n        });\n        return ret;\n    });\n}\nfunction getWebFontRules(cssRules) {\n    return cssRules\n        .filter((rule) => rule.type === CSSRule.FONT_FACE_RULE)\n        .filter((rule) => shouldEmbed(rule.style.getPropertyValue('src')));\n}\nasync function parseWebFontRules(node, options) {\n    if (node.ownerDocument == null) {\n        throw new Error('Provided element is not within a Document');\n    }\n    const styleSheets = toArray(node.ownerDocument.styleSheets);\n    const cssRules = await getCSSRules(styleSheets, options);\n    return getWebFontRules(cssRules);\n}\nexport async function getWebFontCSS(node, options) {\n    const rules = await parseWebFontRules(node, options);\n    const cssTexts = await Promise.all(rules.map((rule) => {\n        const baseUrl = rule.parentStyleSheet ? rule.parentStyleSheet.href : null;\n        return embedResources(rule.cssText, baseUrl, options);\n    }));\n    return cssTexts.join('\\n');\n}\nexport async function embedWebFonts(clonedNode, options) {\n    const cssText = options.fontEmbedCSS != null\n        ? options.fontEmbedCSS\n        : options.skipFonts\n            ? null\n            : await getWebFontCSS(clonedNode, options);\n    if (cssText) {\n        const styleNode = document.createElement('style');\n        const sytleContent = document.createTextNode(cssText);\n        styleNode.appendChild(sytleContent);\n        if (clonedNode.firstChild) {\n            clonedNode.insertBefore(styleNode, clonedNode.firstChild);\n        }\n        else {\n            clonedNode.appendChild(styleNode);\n        }\n    }\n}\n//# sourceMappingURL=embed-webfonts.js.map","import { cloneNode } from './clone-node';\nimport { embedImages } from './embed-images';\nimport { applyStyle } from './apply-style';\nimport { embedWebFonts, getWebFontCSS } from './embed-webfonts';\nimport { getImageSize, getPixelRatio, createImage, canvasToBlob, nodeToDataURL, checkCanvasDimensions, } from './util';\nexport async function toSvg(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const clonedNode = (await cloneNode(node, options, true));\n    await embedWebFonts(clonedNode, options);\n    await embedImages(clonedNode, options);\n    applyStyle(clonedNode, options);\n    const datauri = await nodeToDataURL(clonedNode, width, height);\n    return datauri;\n}\nexport async function toCanvas(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const svg = await toSvg(node, options);\n    const img = await createImage(svg);\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    const ratio = options.pixelRatio || getPixelRatio();\n    const canvasWidth = options.canvasWidth || width;\n    const canvasHeight = options.canvasHeight || height;\n    canvas.width = canvasWidth * ratio;\n    canvas.height = canvasHeight * ratio;\n    if (!options.skipAutoScale) {\n        checkCanvasDimensions(canvas);\n    }\n    canvas.style.width = `${canvasWidth}`;\n    canvas.style.height = `${canvasHeight}`;\n    if (options.backgroundColor) {\n        context.fillStyle = options.backgroundColor;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    context.drawImage(img, 0, 0, canvas.width, canvas.height);\n    return canvas;\n}\nexport async function toPixelData(node, options = {}) {\n    const { width, height } = getImageSize(node, options);\n    const canvas = await toCanvas(node, options);\n    const ctx = canvas.getContext('2d');\n    return ctx.getImageData(0, 0, width, height).data;\n}\nexport async function toPng(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    return canvas.toDataURL();\n}\nexport async function toJpeg(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    return canvas.toDataURL('image/jpeg', options.quality || 1);\n}\nexport async function toBlob(node, options = {}) {\n    const canvas = await toCanvas(node, options);\n    const blob = await canvasToBlob(canvas);\n    return blob;\n}\nexport async function getFontEmbedCSS(node, options = {}) {\n    return getWebFontCSS(node, options);\n}\n//# sourceMappingURL=index.js.map","<template>\r\n  <div class=\"block_main\">\r\n    <n-checkbox-group v-model:value=\"pictosaves\">\r\n    <div v-for=\"(i, index) in TList\">\r\n      <div :id=\"'DrawableBlock-' + index\">\r\n        <canvas\r\n          :id=\"'drawableCanvas-' + index\"\r\n          class=\"drawableCanvas\"\r\n          @pointermove=\"($event) => DrawTools.onpointermove(index, $event)\"\r\n          @mouseup=\"($event) => DrawTools.onmouseup(index, $event)\"\r\n          @mousedown=\"($event) => DrawTools.onmousedown(index, $event)\"\r\n          :style=\"{ height: paintheight[index] + 'px' }\"\r\n        ></canvas>\r\n        <div class=\"hanged_container\">\r\n          <n-space vertical>\r\n            <n-button @click=\"scrollToNextT(index)\" :disabled=\"index==TList.length-1\">NEXT</n-button>\r\n            <n-button @click=\"SubmitToFailedColl(index)\" >收录错题集</n-button>\r\n            <n-button @click=\"SubmitToFTC(index)\" >收录ftc session</n-button>\r\n            <n-checkbox :value=\"index\" label=\"保存本题答题图片\" />\r\n            </n-space>\r\n            <!-- <n-button @click=\"generateImg(index)\" >Generate</n-button> -->\r\n        </div>\r\n        \r\n        <!-- <n-space>\r\n          <p class=\"header-info\">{{ i.diff.name }}({{ i.diff.value }})</p>\r\n          <n-divider vertical />\r\n          <p class=\"header-info\">{{ i.type.name }}</p>\r\n          <n-divider vertical />\r\n          <p class=\"header-info\">ID:{{ i.id }}</p>\r\n          <n-divider vertical />\r\n          <p class=\"header-info\">\r\n            Knowledge:\r\n            <n-ellipsis style=\"max-width: 240px\">{{\r\n              i.knowledgeInfo\r\n            }}</n-ellipsis>\r\n          </p>\r\n        </n-space>\r\n        <div v-html=\"normalizeq(i.body, { source: i.title })\"></div>\r\n        <div>\r\n          <p class=\"paperSource\">Included by:</p>\r\n          <p\r\n            v-for=\"oo in i.paperSources\"\r\n            class=\"paperSource\"\r\n            :style=\"{\r\n              fontWeight: oo.name.includes('江苏') ? 600 : 400,\r\n            }\"\r\n          >\r\n            {{ oo.name }}<span class=\"paperSourceId\"> ID:{{ oo.id }}</span>\r\n          </p>\r\n        </div> -->\r\n\r\n        <component :is=\"createComponent(i)\"/>\r\n        \r\n<div :style=\"{height:(extendheight[i]||0)+'px'}\" class=\"extendHeightBlock\"></div>\r\n        <answer-img :id=\"q_component=='zjw'?i.id:i.qid\" :width=\"700\" />\r\n      </div>\r\n      \r\n    </div>\r\n  </n-checkbox-group>\r\n    <div>\r\n        <n-button @click=\"FINISH\">Finish.</n-button>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n  <n-modal v-model:show=\"showAddFTCModal \" style=\"width:50%\"   \r\n    class=\"custom-card\"\r\n    preset=\"card\"\r\n    :style=\"bodyStyle\"\r\n    title=\"将这道题目收录到FTC Session\"\r\n    :bordered=\"false\"\r\n    size=\"huge\"\r\n    :segmented=\"segmented\">\r\n    <n-form\r\n    label-placement=\"left\"\r\n    label-width=\"auto\"\r\n    require-mark-placement=\"right-hanging\" \r\n>\r\n      <NFormItem label=\"quid\">\r\n        <n-input disabled :value=\"FTCaddDisc.quid\"></n-input>\r\n      </NFormItem>\r\n      <NFormItem label=\"你的感想\">\r\n        <n-input type=\"textarea\" v-model:value=\"FTCaddDisc.insights\" placeholder=\"对这道题目的想法，收获的知识点，等等\"></n-input>\r\n\r\n      </NFormItem>\r\n      <NFormItem label=\"注释\">\r\n\r\n        <n-input type=\"textarea\" v-model:value=\"FTCaddDisc.note\" placeholder=\"显示在题目前的信息 e.g. 错题的小题号\"></n-input>\r\n\r\n      </NFormItem>\r\n      <NFormItem label=\"评级\">\r\n          <n-rate allow-half :count=\"10\" :on-update:value=\"(v)=>{FTCaddDisc.rate=v*10}\"/><n-p>{{ FTCaddDisc.rate }}</n-p>\r\n\r\n      </NFormItem>\r\n      <div style=\"display: flex; justify-content: flex-end\">\r\n          <n-button\r\n            round\r\n            type=\"primary\"\r\n            @click=\"submitFTCadd\"\r\n          >\r\n            收录\r\n          </n-button>\r\n        </div>\r\n    </n-form>\r\n  </n-modal>\r\n\r\n  <n-modal v-model:show=\"showUploadingModal\" style=\"width:50%\"   \r\n    class=\"custom-card\"\r\n    preset=\"card\"\r\n    :style=\"bodyStyle\"\r\n    title=\"请稍候\"\r\n    :bordered=\"false\"\r\n    size=\"huge\"\r\n    :segmented=\"segmented\">\r\n    <div v-if=\"UploadingModalView==1\">\r\n    <n-alert type=\"warning\">\r\n    该应用的后端没有原子性，而此过程中的API往返较多，因此，请不要在提交过程中断开联网，或取消保存\r\n    </n-alert>  <n-spin>\r\n        <template #description>\r\n        {{ UploadStatus }}\r\n      </template>\r\n      </n-spin>\r\n    </div>\r\n    <div v-if=\"UploadingModalView==2\">\r\n    <n-button @click=\"$router.push('../preparing-room')\">返回准备室</n-button>\r\n    <n-button @click=\"$router.push('../home')\">返回首页</n-button>\r\n    </div>\r\n  </n-modal>\r\n</template>\r\n<script setup>\r\nimport { ref, onMounted, h } from \"vue\";\r\nimport { NSpace, NEllipsis, NButton, NDivider,NInput,NAlert,NForm,NCard,NRate,NModal,NSpin,NP,NCheckboxGroup,NCheckbox, NFormItem } from \"naive-ui\";\r\nimport AnswerImg from \"./room.answerImgHelper.vue\";\r\nimport { normalizeq } from \"../../utils/nomorlize_q-tailored\";\r\nimport { PaintTools } from \"../../utils/painttools\";\r\nimport { API } from \"../../../../shared/APIHelper\";\r\nimport ComponentILD from \"../../questionBlock/ild.vue\"\r\nimport ComponentZJW from \"../../questionBlock/zjw.vue\"\r\nconst tPaths = ref([]);\r\ntPaths.value = window.useranswerPaths;\r\nconst TList = ref([]);\r\nTList.value = window.TList;\r\nconst paintheight = ref([]);\r\nconst UploadStatus=ref(\"\"),showUploadingModal=ref(false)\r\nconst observer = TList.value.map(\r\n  (il, i) =>\r\n    new ResizeObserver((_) => {\r\n      DrawTools.recalculateSize(i);\r\n    })\r\n);\r\n\r\nlet pt = [];\r\n\r\nwindow.PaintCONFIG.color=\"red\"\r\n\r\nonMounted(() => {\r\n  for (let ii = 0; ii < TList.value.length; ii++) {\r\n    const Tcol = TList.value[ii];\r\n    document.getElementById(\"drawableCanvas-\" + ii).width =\r\n      document.getElementById(\"DrawableBlock-\" + ii).clientWidth * 3;\r\n    document.getElementById(\"drawableCanvas-\" + ii).height =\r\n      document.getElementById(\"DrawableBlock-\" + ii).clientHeight * 3;\r\n      document.getElementById(\"drawableCanvas-\" + ii).style.height =\r\n      document.getElementById(\"DrawableBlock-\" + ii).clientHeight+\"px\";\r\n    paintheight.value[ii] = document.getElementById(\r\n      \"DrawableBlock-\" + ii\r\n    ).clientHeight;\r\n    pt[ii] = new PaintTools(document.getElementById(\"drawableCanvas-\" + ii));\r\n    observer[ii].observe(document.getElementById(\"DrawableBlock-\" + ii));\r\n    DrawTools.initPaint(ii,window.useranswerPaths[ii]|| [])\r\n  }\r\n});\r\n\r\nconst DrawTools = {\r\n  onpointermove: (i, e) => {\r\n    console.log(i);\r\n    if (pt[i].onpointermove) {\r\n      pt[i].onpointermove(e);\r\n    }\r\n  },\r\n  onmouseup: (i, e) => {\r\n    if (pt[i].onmouseup) {\r\n      pt[i].onmouseup(e);\r\n    }\r\n  },\r\n  onmousedown: (i, e) => {\r\n    if (pt[i].onmousedown) {\r\n      pt[i].onmousedown(e);\r\n    }\r\n  },\r\n  recalculateSize: (i) => {\r\n    // console.log(i);\r\n    document.getElementById(\"drawableCanvas-\" + i).width =\r\n      document.getElementById(\"DrawableBlock-\" + i).clientWidth * 3;\r\n    //   document.getElementById(\"drawableCanvas-\" + i).style.width=document.getElementById(\"DrawableBlock-\" + i).clientWidth\r\n    document.getElementById(\"drawableCanvas-\" + i).height =\r\n      document.getElementById(\"DrawableBlock-\" + i).clientHeight * 3;\r\n    paintheight.value[i] = document.getElementById(\r\n      \"DrawableBlock-\" + i\r\n    ).clientHeight;\r\n  },\r\n  clear: (i) => {\r\n    pt[i].clear();\r\n  },\r\n  export: (i) => {\r\n    return pt[i].export();\r\n  },\r\n  initPaint: (i, pl) => {\r\n    pt[i].paintlines = pl;\r\n    pt[i].refreshCanvas();\r\n  },\r\n};\r\n\r\nconst extendheight=ref([]);extendheight.value=window.extendheight\r\n\r\n\r\n\r\n\r\n\r\nconst scrollToNextT=(ii)=>{\r\n    document.getElementById(\"DrawableBlock-\" + (ii+1)).scrollIntoView()\r\n}\r\n\r\n\r\nimport * as htmlToImage from 'html-to-image';\r\nimport blankpic from \"../../utils/blankpic\";\r\nconst generateImg=(ii)=>{\r\n  var node = document.getElementById(\"DrawableBlock-\" + ii);\r\n\r\n  node.querySelectorAll(\"img\").forEach(v=>{\r\n        if(v.src.includes(\"/formula/\")){\r\n            v.src=v.src.replace(\"https://staticzujuan.xkw.com/quesimg/Upload/formula/\",API.host+\"/api/xkw-helper/route-formula-svg/\").replace(\".svg\",\"\")\r\n            // v.style.width=(v.width*.8)+\"px\"\r\n        }\r\n    })\r\n    node.querySelector(\"canvas\").style.position=\"fixed\"\r\n    node.querySelector(\"canvas\").style.top=\"0\"\r\n    node.querySelector(\"canvas\").style.left=\"0\"\r\n    node.style.backgroundColor=\"white\"\r\nreturn new Promise((res,rej)=>{\r\n  htmlToImage.toJpeg(node, { quality: 0.8,includeQueryParams:true })\r\n  .then(function (dataUrl) {\r\n    node.style.display=\"none\"\r\n    res(dataUrl)\r\n  })\r\n  .catch(function (error) {\r\n    // console.error('oops, something went wrong!', error);\r\n  });\r\n})\r\n\r\n}\r\n\r\n\r\nconst q_component=ref(\"\");q_component.value=window.qcomponent\r\n\r\nconst createComponent=(ii)=>{\r\n  return h(window.qcomponent==\"zjw\"?ComponentZJW:ComponentILD,{\r\n    qcontent:ii\r\n  })\r\n}\r\n\r\nconst pictosaves=ref([])\r\n\r\nconst UploadingModalView=ref(1)\r\nconst FINISH=async()=>{\r\n  showUploadingModal.value=true\r\n  UploadStatus.value=\"Passing on data.\"\r\n  const RecordsID=(await API.post(\"/zujuan-ink-be-core/records/add\",{\r\n    date:(new Date()).toDateString(),\r\n    timestamp:(new Date()).getTime(),\r\n    count:TList.value.length,\r\n    bankid:window.bankid\r\n  })).data\r\n  for (let i = 0; i < TList.value.length; i++) {\r\n//     const element = TList.value[i];\r\n\r\n//     UploadStatus.value=`Checking ${TList.value[i].id} Existance ${i+1} / ${TList.value.length}`\r\n//     const qexistanceData=await API.get(\"/zujuan-ink-be-core/data/checkExistance/\"+window.bankid+\"/\"+TList.value[i].id)\r\n//     let qqid=0\r\n//     // console.log(qexistanceData.id);\r\n//     if(!qexistanceData.data){\r\n//       UploadStatus.value=`Submitting ${TList.value[i].id} ( ${i+1} / ${TList.value.length})`\r\n//       qqid=(await API.post(\"/zujuan-ink-be-core/data/add\",{\r\n// body           :  TList.value[i].body ,\r\n// timestamp      :  (new Date()).getTime() ,\r\n// qid            :  TList.value[i].id ,\r\n// bankid         :  window.bankid ,\r\n// title          :  TList.value[i].title ,\r\n// diffv          :  TList.value[i].diff.id ,\r\n// knowledgeInfo  :  TList.value[i].knowledgeInfo ,\r\n// typeid         :  TList.value[i].type.id  ,\r\n\r\n//   })).data\r\n//     }else{\r\n//       qqid=qexistanceData.data.id\r\n//     }\r\n\r\n    UploadStatus.value=`Generate Image ${i+1} / ${TList.value.length}`\r\n    let imgData\r\n    if(pictosaves.value.indexOf(i)!=-1){\r\n      imgData=await generateImg(i)\r\n    }else{\r\n      imgData=`data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\"><foreignObject width=\"300\" height=\"50\"><body xmlns=\"http://www.w3.org/1999/xhtml\"><p>用户选择不收录答题记录图片</p></body></foreignObject></svg>`\r\n    }\r\n\r\n\r\n    UploadStatus.value=`Submitting Record ${i+1} / ${TList.value.length}`\r\n    await API.post(\"/zujuan-ink-be-core/donerec/add\",{\r\nquid         :     TList.value[i].quid,\r\ndate         :   (new Date()).toDateString()  ,\r\ntimestamp    :    (new Date()).getTime() ,\r\nimage        :   imgData  ,\r\nparent       :   RecordsID  ,\r\n    })\r\n    UploadStatus.value=`Update Data ${i+1} / ${TList.value.length}`\r\n    await API.get(\"/zujuan-ink-be-core/data/submitAsDone/\"+TList.value[i].quid)\r\n\r\n  }\r\n\r\n\r\n  UploadStatus.value=`Done.`\r\n\r\n\r\n  UploadingModalView.value=2\r\n\r\n}\r\n\r\n\r\nconst SubmitToFailedColl=async(i,rt)=>{\r\n  await API.get(\"/zujuan-ink-be-core/data/addFailedColl/\"+TList.value[i].quid)\r\n  TList.value[i].failedcoll=true\r\n}\r\n\r\n\r\n\r\nconst showAddFTCModal=ref(false),\r\nFTCaddDisc=ref({\r\n  quid:\"\",\r\n    insights :\"\",\r\n    note :\"\",\r\n    rate :0,\r\n    timestamp :0,\r\n    times:0,\r\n    lastfinishdate :0,\r\n    mastarate :0,\r\n    bankid:0\r\n})\r\n\r\nconst SubmitToFTC=(index)=>{\r\n  FTCaddDisc.value={\r\n  quid:TList.value[index].quid,\r\n    insights :\"\",\r\n    note :\"\",\r\n    rate :0,\r\n    timestamp :(new Date()).getTime(),\r\n    times:1,\r\n    lastfinishdate :(new Date()).getTime(),\r\n    mastarate :0,\r\n    bankid:window.bankid\r\n}\r\nshowAddFTCModal.value=true\r\n\r\n}\r\n\r\nconst submitFTCadd=(index)=>{\r\n  API.post(\"/zujuan-ink-be-core/ftc/push_to_collection\",FTCaddDisc.value).then(o=>{\r\n    showAddFTCModal.value=false\r\n  })\r\n}\r\n</script>\r\n\r\n<style>\r\n.block_main {\r\n  width: 70%;\r\n  display: block;\r\n  padding-top: 50px;\r\n  background: aliceblue;\r\n  margin-right: auto;\r\n  margin-bottom: 0px;\r\n  margin-left: auto;\r\n  padding: 40px;\r\n  border-radius: 35px;\r\n}\r\n.attached_opts {\r\n  position: fixed;\r\n  right: 0;\r\n}\r\n.copyright_word {\r\n  margin: 0 0;\r\n}\r\n.copyrights {\r\n  position: fixed;\r\n  text-align: right;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n</style>\r\n<style scoped>\r\n.paperSource {\r\n  font-size: 0.75rem;\r\n  margin: 0 0;\r\n}\r\n.paperSourceId {\r\n  background-color: aliceblue;\r\n  font-size: 0.65rem;\r\n}\r\n\r\n.drawableCanvas {\r\n  position: absolute;\r\n\r\n  border: black 1px solid;\r\n}\r\n\r\n\r\n.hanged_container{\r\n    position: absolute;\r\nleft: auto;\r\nright: calc(15% - 100px);\r\n}\r\n\r\n\r\n.extendHeightBlock{\r\n  display: block;\r\nwidth: 30px;\r\n}\r\n</style>\r\n"],"names":["loadingAnswer","ref","AnswerImageSrc","ParseImageSrc","id","width","useAttrs","ZujuanAPI","v","API","resolveUrl","url","baseUrl","doc","base","uuid","counter","random","toArray","arrayLike","arr","i","l","px","node","styleProperty","val","getNodeWidth","leftBorder","rightBorder","getNodeHeight","topBorder","bottomBorder","getImageSize","targetNode","options","height","getPixelRatio","ratio","FINAL_PROCESS","canvasDimensionLimit","checkCanvasDimensions","canvas","createImage","resolve","reject","img","svgToDataURL","svg","html","nodeToDataURL","xmlns","foreignObject","isInstanceOfElement","instance","nodePrototype","formatCSSText","style","content","formatCSSProperties","name","value","priority","getPseudoElementStyle","className","pseudo","selector","cssText","clonePseudoElement","nativeNode","clonedNode","styleElement","clonePseudoElements","WOFF","JPEG","mimes","getExtension","match","getMimeType","extension","getContentFromDataUrl","dataURL","isDataUrl","makeDataUrl","mimeType","fetchAsDataURL","init","process","res","blob","reader","error","cache","getCacheKey","contentType","includeQueryParams","key","resourceToDataURL","resourceUrl","cacheKey","result","msg","cloneCanvasElement","cloneVideoElement","video","ctx","poster","cloneIFrameElement","iframe","_a","cloneNode","cloneSingleNode","isSlotElement","cloneChildren","_b","children","deferred","child","clonedChild","cloneCSSStyle","targetStyle","sourceStyle","cloneInputValue","cloneSelectValue","clonedSelect","selectedOption","decorate","ensureSVGSymbols","clone","uses","processedDefs","exist","definition","nodes","ns","defs","isRoot","URL_REGEX","URL_WITH_FORMAT_REGEX","FONT_SRC_REGEX","toRegex","escaped","parseURLs","urls","raw","quotation","embed","resourceURL","baseURL","getContentFromUrl","resolvedURL","filterPreferredFontFormat","str","preferredFontFormat","src","format","shouldEmbed","embedResources","filteredCSSText","css","embedProp","propName","propValue","cssString","embedBackground","embedImageNode","isImageElement","image","embedChildren","deferreds","embedImages","applyStyle","manual","cssFetchCache","fetchCSS","embedFonts","data","regexUrl","loadFonts","loc","parseCSS","source","commentsRegex","keyframesRegex","matches","importRegex","combinedCSSRegex","unifiedRegex","getCSSRules","styleSheets","ret","sheet","item","index","importIndex","metadata","rule","e","inline","a","err","getWebFontRules","cssRules","parseWebFontRules","getWebFontCSS","rules","embedWebFonts","styleNode","sytleContent","toSvg","toCanvas","context","canvasWidth","canvasHeight","toJpeg","tPaths","TList","paintheight","UploadStatus","showUploadingModal","observer","il","_","DrawTools","pt","onMounted","ii","PaintTools","pl","extendheight","scrollToNextT","generateImg","rej","htmlToImage.toJpeg","dataUrl","q_component","createComponent","h","ComponentZJW","ComponentILD","pictosaves","UploadingModalView","FINISH","RecordsID","imgData","SubmitToFailedColl","rt","showAddFTCModal","FTCaddDisc","SubmitToFTC","submitFTCadd","o"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10]}